!function(){"use strict";function t(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function e(e){return 1===e.length&&(e=function(e){return function(n,r){return t(e(n),r)}}(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}var n=e(t).right;function r(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}function i(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}var o=Math.sqrt(50),a=Math.sqrt(10),s=Math.sqrt(2);function l(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=c(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o}function c(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),l=r/Math.pow(10,i);return i>=0?(l>=o?10:l>=a?5:l>=s?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(l>=o?10:l>=a?5:l>=s?2:1)}function u(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),l=r/i;return l>=o?i*=10:l>=a?i*=5:l>=s&&(i*=2),e<t?-i:i}function h(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r}function f(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function p(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function d(){}var g="\\s*([+-]?\\d+)\\s*",m="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",y="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v=/^#([0-9a-f]{3,8})$/,b=new RegExp("^rgb\\("+[g,g,g]+"\\)$"),x=new RegExp("^rgb\\("+[y,y,y]+"\\)$"),w=new RegExp("^rgba\\("+[g,g,g,m]+"\\)$"),k=new RegExp("^rgba\\("+[y,y,y,m]+"\\)$"),_=new RegExp("^hsl\\("+[m,y,y]+"\\)$"),M=new RegExp("^hsla\\("+[m,y,y,m]+"\\)$"),A={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function T(){return this.rgb().formatHex()}function E(){return this.rgb().formatRgb()}function $(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=v.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?O(e):3===n?new C(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?S(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?S(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=b.exec(t))?new C(e[1],e[2],e[3],1):(e=x.exec(t))?new C(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=w.exec(t))?S(e[1],e[2],e[3],e[4]):(e=k.exec(t))?S(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=_.exec(t))?R(e[1],e[2]/100,e[3]/100,1):(e=M.exec(t))?R(e[1],e[2]/100,e[3]/100,e[4]):A.hasOwnProperty(t)?O(A[t]):"transparent"===t?new C(NaN,NaN,NaN,0):null}function O(t){return new C(t>>16&255,t>>8&255,255&t,1)}function S(t,e,n,r){return r<=0&&(t=e=n=NaN),new C(t,e,n,r)}function L(t){return t instanceof d||(t=$(t)),t?new C((t=t.rgb()).r,t.g,t.b,t.opacity):new C}function N(t,e,n,r){return 1===arguments.length?L(t):new C(t,e,n,null==r?1:r)}function C(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function z(){return"#"+j(this.r)+j(this.g)+j(this.b)}function D(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function j(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function R(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new P(t,e,n,r)}function I(t){if(t instanceof P)return new P(t.h,t.s,t.l,t.opacity);if(t instanceof d||(t=$(t)),!t)return new P;if(t instanceof P)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new P(a,s,l,t.opacity)}function P(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function F(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}f(d,$,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHsl:function(){return I(this).formatHsl()},formatRgb:E,toString:E}),f(C,N,p(d,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new C(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new C(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:z,formatHex:z,formatRgb:D,toString:D})),f(P,(function(t,e,n,r){return 1===arguments.length?I(t):new P(t,e,n,null==r?1:r)}),p(d,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new P(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new P(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new C(F(t>=240?t-240:t+120,i,r),F(t,i,r),F(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var U=Math.PI/180,H=180/Math.PI,B=6/29*3*(6/29);function q(t){if(t instanceof W)return new W(t.l,t.a,t.b,t.opacity);if(t instanceof J)return Q(t);t instanceof C||(t=L(t));var e,n,r=K(t.r),i=K(t.g),o=K(t.b),a=G((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=G((.4360747*r+.3850649*i+.1430804*o)/.96422),n=G((.0139322*r+.0971045*i+.7141733*o)/.82521)),new W(116*a-16,500*(e-a),200*(a-n),t.opacity)}function Y(t,e,n,r){return 1===arguments.length?q(t):new W(t,e,n,null==r?1:r)}function W(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function G(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/B+4/29}function V(t){return t>6/29?t*t*t:B*(t-4/29)}function X(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function K(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Z(t){if(t instanceof J)return new J(t.h,t.c,t.l,t.opacity);if(t instanceof W||(t=q(t)),0===t.a&&0===t.b)return new J(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*H;return new J(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function J(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Q(t){if(isNaN(t.h))return new W(t.l,0,0,t.opacity);var e=t.h*U;return new W(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}f(W,Y,p(d,{brighter:function(t){return new W(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new W(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new C(X(3.1338561*(e=.96422*V(e))-1.6168667*(t=1*V(t))-.4906146*(n=.82521*V(n))),X(-.9787684*e+1.9161415*t+.033454*n),X(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),f(J,(function(t,e,n,r){return 1===arguments.length?Z(t):new J(t,e,n,null==r?1:r)}),p(d,{brighter:function(t){return new J(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new J(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Q(this).rgb()}}));var tt="http://www.w3.org/1999/xhtml",et={svg:"http://www.w3.org/2000/svg",xhtml:tt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nt(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),et.hasOwnProperty(e)?{space:et[e],local:t}:t}function rt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===tt&&e.documentElement.namespaceURI===tt?e.createElement(t):e.createElementNS(n,t)}}function it(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ot(t){var e=nt(t);return(e.local?it:rt)(e)}function at(){}function st(t){return null==t?at:function(){return this.querySelector(t)}}function lt(){return[]}function ct(t){return new Array(t.length)}function ut(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ut.prototype={constructor:ut,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ht(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new ut(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function ft(t,e,n,r,i,o,a){var s,l,c,u={},h=e.length,f=o.length,p=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(p[s]=c="$"+a.call(l,l.__data__,s,e),c in u?i[s]=l:u[c]=l);for(s=0;s<f;++s)(l=u[c="$"+a.call(t,o[s],s,o)])?(r[s]=l,l.__data__=o[s],u[c]=null):n[s]=new ut(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&u[p[s]]===l&&(i[s]=l)}function pt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function dt(t){return function(){this.removeAttribute(t)}}function gt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mt(t,e){return function(){this.setAttribute(t,e)}}function yt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function vt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function bt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function xt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function wt(t){return function(){this.style.removeProperty(t)}}function kt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function _t(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Mt(t,e){return t.style.getPropertyValue(e)||xt(t).getComputedStyle(t,null).getPropertyValue(e)}function At(t){return function(){delete this[t]}}function Tt(t,e){return function(){this[t]=e}}function Et(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function $t(t){return t.trim().split(/^|\s+/)}function Ot(t){return t.classList||new St(t)}function St(t){this._node=t,this._names=$t(t.getAttribute("class")||"")}function Lt(t,e){for(var n=Ot(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Nt(t,e){for(var n=Ot(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Ct(t){return function(){Lt(this,t)}}function zt(t){return function(){Nt(this,t)}}function Dt(t,e){return function(){(e.apply(this,arguments)?Lt:Nt)(this,t)}}function jt(){this.textContent=""}function Rt(t){return function(){this.textContent=t}}function It(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Pt(){this.innerHTML=""}function Ft(t){return function(){this.innerHTML=t}}function Ut(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Ht(){this.nextSibling&&this.parentNode.appendChild(this)}function Bt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qt(){return null}function Yt(){var t=this.parentNode;t&&t.removeChild(this)}function Wt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Gt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}St.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Vt={},Xt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Vt={mouseenter:"mouseover",mouseleave:"mouseout"}));function Kt(t,e,n){return t=Zt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Zt(t,e,n){return function(r){var i=Xt;Xt=r;try{t.call(this,this.__data__,e,n)}finally{Xt=i}}}function Jt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Qt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function te(t,e,n){var r=Vt.hasOwnProperty(t.type)?Kt:Zt;return function(i,o,a){var s,l=this.__on,c=r(e,o,a);if(l)for(var u=0,h=l.length;u<h;++u)if((s=l[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function ee(t,e,n){var r=xt(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ne(t,e){return function(){return ee(this,t,e)}}function re(t,e){return function(){return ee(this,t,e.apply(this,arguments))}}var ie=[null];function oe(t,e){this._groups=t,this._parents=e}function ae(){return new oe([[document.documentElement]],ie)}function se(t){return"string"==typeof t?new oe([[document.querySelector(t)]],[document.documentElement]):new oe([[t]],ie)}function le(t){if("string"==typeof t){var e,n={},r=t.split(/([\.#])/g);for(t=r.shift();e=r.shift();)"."==e?n.class=n.class?n.class+" "+r.shift():r.shift():"#"==e&&(n.id=r.shift());return{tag:t,attr:n}}return t}function ce(){return null}oe.prototype=ae.prototype={constructor:oe,select:function(t){"function"!=typeof t&&(t=st(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new oe(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?lt:function(){return this.querySelectorAll(t)}}(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new oe(r,i)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new oe(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each((function(t){p[++c]=t})),p;var n=e?ft:ht,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],h=i[c],f=h.length,p=t.call(u,u&&u.__data__,c,r),d=p.length,g=s[c]=new Array(d),m=a[c]=new Array(d);n(u,h,g,m,l[c]=new Array(f),p,e);for(var y,v,b=0,x=0;b<d;++b)if(y=g[b]){for(b>=x&&(x=b+1);!(v=m[x])&&++x<d;);y._next=v||null}}return(a=new oe(a,r))._enter=s,a._exit=l,a},enter:function(){return new oe(this._enter||this._groups.map(ct),this._parents)},exit:function(){return new oe(this._exit||this._groups.map(ct),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,f=a[s]=new Array(h),p=0;p<h;++p)(l=c[p]||u[p])&&(f[p]=l);for(;s<r;++s)a[s]=e[s];return new oe(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=pt);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new oe(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=nt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?gt:dt:"function"==typeof e?n.local?bt:vt:n.local?yt:mt)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?wt:"function"==typeof e?_t:kt)(t,e,null==n?"":n)):Mt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?At:"function"==typeof e?Et:Tt)(t,e)):this.node()[t]},classed:function(t,e){var n=$t(t+"");if(arguments.length<2){for(var r=Ot(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Dt:e?Ct:zt)(n,e))},text:function(t){return arguments.length?this.each(null==t?jt:("function"==typeof t?It:Rt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Pt:("function"==typeof t?Ut:Ft)(t)):this.node().innerHTML},raise:function(){return this.each(Ht)},lower:function(){return this.each(Bt)},append:function(t){var e="function"==typeof t?t:ot(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:ot(t),r=null==e?qt:"function"==typeof e?e:st(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Yt)},clone:function(t){return this.select(t?Gt:Wt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=Jt(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?te:Qt,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?re:ne)(t,e))}};const ue=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$/;function he(){for(var t=arguments,e=0,n=t.length;e<n;)"string"!=typeof t[e]&&"number"!=typeof t[e]||(t[e]=function(t){return function(e){return e[t]}}(t[e])),e++;return function(e){for(var n=0,r=t.length;n++<r;)e=t[n-1].call(this,e);return e}}function fe(t){return"function"==typeof t?function(e,n){return t(e)<t(n)?-1:t(e)>t(n)?1:t(e)>=t(n)?0:NaN}:function(e,n){return e[t]<n[t]?-1:e[t]>n[t]?1:e[t]>=n[t]?0:NaN}}he.not=function(t){return!t},he.run=function(t){return t()},he.objToFn=function(t,e){return 1==arguments.length&&(e=void 0),function(n){return void 0!==t[n]?t[n]:e}};function pe(){}function de(t,e){var n=new pe;if(t instanceof pe)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function ge(){}pe.prototype=de.prototype={constructor:pe,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var me=de.prototype;function ye(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}ge.prototype={constructor:ge,has:me.has,add:function(t){return this["$"+(t+="")]=t,this},remove:me.remove,clear:me.clear,values:me.keys,size:me.size,empty:me.empty,each:me.each},ae.prototype.translate=function(t,e){var n=this.node();return n?n.getBBox?this.attr("transform",(function(n,r){var i="function"==typeof t?t.call(this,n,r):t;return 0===e?i=[i,0]:1===e&&(i=[0,i]),"translate("+i[0]+","+i[1]+")"})):this.style("transform",(function(n,r){var i="function"==typeof t?t.call(this,n,r):t;return 0===e?i=[i,0]:1===e&&(i=[0,i]),"translate("+i[0]+"px,"+i[1]+"px)"})):this},ae.prototype.append=function(t){var e,n;"function"==typeof t?e=t:(n=le(t),e=ot(n.tag));var r=this.select((function(){return this.appendChild(e.apply(this,arguments))}));if(n)for(var i in n.attr)r.attr(i,n.attr[i]);return r},ae.prototype.insert=function(t,e){var n=le(t),r=ot(n.tag),i=null==e?ce:"function"==typeof e?e:st(e),o=this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}));for(var a in n.attr)o.attr(a,n.attr[a]);return o},ae.prototype.parent=function(){var t=[];return this.filter((function(){return!(t.indexOf(this.parentNode)>-1)&&(t.push(this.parentNode),!0)})).select((function(){return this.parentNode}))},ae.prototype.selectAppend=function(t){var e,n=st(t),r=le(t);for(var i in t=ot(r.tag),e=this.select((function(){return n.apply(this,arguments)||this.appendChild(t.apply(this,arguments))})),r.attr)e.attr(i,r.attr[i]);return e},ae.prototype.tspans=function(t,e){return this.selectAll("tspan").data((function(e,n){return("function"==typeof t?t.call(this,e,n):t).map((function(t){return{line:t,parent:e}}))})).enter().append("tspan").text((function(t){return t.line})).attr("x",0).attr("dy",(function(t,n){return n?("function"==typeof e?e.call(this,t.parent,t.line,n):e)||15:0}))},ae.prototype.appendMany=function(t,e){if("string"==typeof e){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var n=e;e=t,t=n}return this.selectAll(null).data(e).enter().append(t)},ae.prototype.at=function(t,e){if("object"==typeof t){for(var n in t)this.attr(ue.test(n)?n:n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[n]);return this}return 1==arguments.length?this.attr(t):this.attr(t,e)},ae.prototype.st=function(t,e){if("object"==typeof t){for(var n in t)r(this,n,t[n]);return this}return 1==arguments.length?this.style(t):r(this,t,e);function r(t,e,n){e=e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();return~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width margin-top margin-left margin-bottom margin-right font-size width stroke-width line-height margin padding border border-radius max-width min-width max-height min-height".indexOf(e)?t.style(e,"function"==typeof n?o(n):i(n)):t.style(e,n),t}function i(t){return t.match?t:t+"px"}function o(t){return function(){var e=t.apply(this,arguments);return i(e)}}},ae.prototype.prop=ae.prototype.property;var ve=Array.prototype,be=ve.map,xe=ve.slice;function we(t){return function(){return t}}function ke(t){return 1==(t=+t)?_e:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):we(isNaN(e)?n:e)}}function _e(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):we(isNaN(t)?e:t)}var Me=function t(e){var n=ke(e);function r(t,e){var r=n((t=N(t)).r,(e=N(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=_e(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Ae(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Te(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Ce(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Ee(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function $e(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Oe(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Ce(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Le=new RegExp(Se.source,"g");function Ne(t,e){var n,r,i,o=Se.lastIndex=Le.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Se.exec(t))&&(r=Le.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:$e(n,r)})),o=Le.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function Ce(t,e){var n,r=typeof e;return null==e||"boolean"===r?we(e):("number"===r?$e:"string"===r?(n=$(e))?(e=n,Me):Ne:e instanceof $?Me:e instanceof Date?Ee:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Ae:Array.isArray(e)?Te:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Oe:$e)(t,e)}function ze(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function De(t){return+t}var je=[0,1];function Re(t){return t}function Ie(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Pe(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Fe(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Ie(i,r),o=n(a,o)):(r=Ie(r,i),o=n(o,a)),function(t){return o(r(t))}}function Ue(t,e,r){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)o[s]=Ie(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(e){var r=n(t,e,1,i)-1;return a[r](o[r](e))}}function He(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Be(){var t,e,n,r,i,o,a=je,s=je,l=Ce,c=Re;function u(){return r=Math.min(a.length,s.length)>2?Ue:Fe,i=o=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),$e)))(n)))},h.domain=function(t){return arguments.length?(a=be.call(t,De),c===Re||(c=Pe(a)),u()):a.slice()},h.range=function(t){return arguments.length?(s=xe.call(t),u()):s.slice()},h.rangeRound=function(t){return s=xe.call(t),l=ze,u()},h.clamp=function(t){return arguments.length?(c=t?Pe(a):Re,h):c!==Re},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function qe(t,e){return Be()(t,e)}function Ye(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function We(t){return(t=Ye(Math.abs(t)))?t[1]:NaN}var Ge,Ve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xe(t){if(!(e=Ve.exec(t)))throw new Error("invalid format: "+t);var e;return new Ke({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ke(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ze(t,e){var n=Ye(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Xe.prototype=Ke.prototype,Ke.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Je={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ze(100*t,e)},r:Ze,s:function(t,e){var n=Ye(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ge=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ye(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Qe(t){return t}var tn,en,nn,rn=Array.prototype.map,on=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function an(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Qe:(e=rn.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Qe:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(rn.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Xe(t)).fill,n=t.align,h=t.sign,f=t.symbol,p=t.zero,d=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):Je[v]||(void 0===m&&(m=12),y=!0,v="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var b="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===f?o:/[%p]/.test(v)?l:"",w=Je[v],k=/[defgprs%]/.test(v);function _(t){var i,o,l,f=b,_=x;if("c"===v)_=w(t)+_,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==h&&(M=!1),f=(M?"("===h?h:c:"-"===h||"("===h?"":h)+f,_=("s"===v?on[8+Ge/3]:"")+_+(M&&"("===h?")":""),k)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){_=(46===l?a+t.slice(i+1):t.slice(i))+_,t=t.slice(0,i);break}}g&&!p&&(t=r(t,1/0));var A=f.length+t.length+_.length,T=A<d?new Array(d-A+1).join(e):"";switch(g&&p&&(t=r(T+t,T.length?d-_.length:1/0),T=""),n){case"<":t=f+t+_+T;break;case"=":t=f+T+t+_;break;case"^":t=T.slice(0,A=T.length>>1)+f+t+_+T.slice(A);break;default:t=T+f+t+_}return s(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),_.toString=function(){return t+""},_}return{format:h,formatPrefix:function(t,e){var n=h(((t=Xe(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(We(e)/3))),i=Math.pow(10,-r),o=on[8+r/3];return function(t){return n(i*t)+o}}}}function sn(t,e,n,r){var i,o=u(t,e,n);switch((r=Xe(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(We(e)/3)))-We(Math.abs(t)))}(o,a))||(r.precision=i),nn(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,We(e)-We(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-We(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return en(r)}function ln(t){var e=t.domain;return t.ticks=function(t){var n=e();return l(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return sn(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],l=i[a];return l<s&&(r=s,s=l,l=r,r=o,o=a,a=r),(r=c(s,l,n))>0?r=c(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=c(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(l/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(l*r)/r,e(i)),t},t}function cn(){var t=qe(Re,Re);return t.copy=function(){return He(t,cn())},ye.apply(t,arguments),ln(t)}function un(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function hn(t){return Math.log(t)}function fn(t){return Math.exp(t)}function pn(t){return-Math.log(-t)}function dn(t){return-Math.exp(-t)}function gn(t){return isFinite(t)?+("1e"+t):t<0?0:t}function mn(t){return function(e){return-t(-e)}}function yn(t){var e,n,r=t(hn,fn),i=r.domain,o=10;function a(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?gn:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),i()[0]<0?(e=mn(e),n=mn(n),t(pn,dn)):t(hn,fn),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),s=a[0],c=a[a.length-1];(r=c<s)&&(p=s,s=c,c=p);var u,h,f,p=e(s),d=e(c),g=null==t?10:+t,m=[];if(!(o%1)&&d-p<g){if(p=Math.round(p)-1,d=Math.round(d)+1,s>0){for(;p<d;++p)for(h=1,u=n(p);h<o;++h)if(!((f=u*h)<s)){if(f>c)break;m.push(f)}}else for(;p<d;++p)for(h=o-1,u=n(p);h>=1;--h)if(!((f=u*h)<s)){if(f>c)break;m.push(f)}}else m=l(p,d,Math.min(d-p,g)).map(n);return r?m.reverse():m},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=en(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(un(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function vn(){var t=yn(Be()).domain([1,10]);return t.copy=function(){return He(t,vn()).base(t.base())},ye.apply(t,arguments),t}tn=an({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),en=tn.format,nn=tn.formatPrefix;var bn=new Date,xn=new Date;function wn(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return wn((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return bn.setTime(+e),xn.setTime(+r),t(bn),t(xn),Math.floor(n(bn,xn))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var kn=wn((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));kn.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?wn((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):kn:null};var _n=kn;kn.range;var Mn=wn((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),An=Mn;Mn.range;var Tn=wn((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),En=Tn;Tn.range;var $n=wn((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),On=$n;$n.range;var Sn=wn((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1})),Ln=Sn;function Nn(t){return wn((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}Sn.range;var Cn=Nn(0),zn=Nn(1),Dn=Nn(2),jn=Nn(3),Rn=Nn(4),In=Nn(5),Pn=Nn(6);Cn.range,zn.range,Dn.range,jn.range,Rn.range,In.range,Pn.range;var Fn=wn((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),Un=Fn;Fn.range;var Hn=wn((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Hn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?wn((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Bn=Hn;Hn.range;var qn=wn((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1})),Yn=qn;function Wn(t){return wn((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}qn.range;var Gn=Wn(0),Vn=Wn(1),Xn=Wn(2),Kn=Wn(3),Zn=Wn(4),Jn=Wn(5),Qn=Wn(6);Gn.range,Vn.range,Xn.range,Kn.range,Zn.range,Jn.range,Qn.range;var tr=wn((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));tr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?wn((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var er=tr;function nr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function rr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ir(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}tr.range;var or,ar,sr={"-":"",_:" ",0:"0"},lr=/^\s*\d+/,cr=/^%/,ur=/[\\^$*+?|[\]().{}]/g;function hr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function fr(t){return t.replace(ur,"\\$&")}function pr(t){return new RegExp("^(?:"+t.map(fr).join("|")+")","i")}function dr(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function gr(t,e,n){var r=lr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function mr(t,e,n){var r=lr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function yr(t,e,n){var r=lr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function vr(t,e,n){var r=lr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function br(t,e,n){var r=lr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function xr(t,e,n){var r=lr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function wr(t,e,n){var r=lr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function kr(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _r(t,e,n){var r=lr.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Mr(t,e,n){var r=lr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ar(t,e,n){var r=lr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Tr(t,e,n){var r=lr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Er(t,e,n){var r=lr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function $r(t,e,n){var r=lr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Or(t,e,n){var r=lr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Sr(t,e,n){var r=lr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Lr(t,e,n){var r=lr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Nr(t,e,n){var r=cr.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Cr(t,e,n){var r=lr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function zr(t,e,n){var r=lr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Dr(t,e){return hr(t.getDate(),e,2)}function jr(t,e){return hr(t.getHours(),e,2)}function Rr(t,e){return hr(t.getHours()%12||12,e,2)}function Ir(t,e){return hr(1+Ln.count(Bn(t),t),e,3)}function Pr(t,e){return hr(t.getMilliseconds(),e,3)}function Fr(t,e){return Pr(t,e)+"000"}function Ur(t,e){return hr(t.getMonth()+1,e,2)}function Hr(t,e){return hr(t.getMinutes(),e,2)}function Br(t,e){return hr(t.getSeconds(),e,2)}function qr(t){var e=t.getDay();return 0===e?7:e}function Yr(t,e){return hr(Cn.count(Bn(t)-1,t),e,2)}function Wr(t){var e=t.getDay();return e>=4||0===e?Rn(t):Rn.ceil(t)}function Gr(t,e){return t=Wr(t),hr(Rn.count(Bn(t),t)+(4===Bn(t).getDay()),e,2)}function Vr(t){return t.getDay()}function Xr(t,e){return hr(zn.count(Bn(t)-1,t),e,2)}function Kr(t,e){return hr(t.getFullYear()%100,e,2)}function Zr(t,e){return hr((t=Wr(t)).getFullYear()%100,e,2)}function Jr(t,e){return hr(t.getFullYear()%1e4,e,4)}function Qr(t,e){var n=t.getDay();return hr((t=n>=4||0===n?Rn(t):Rn.ceil(t)).getFullYear()%1e4,e,4)}function ti(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+hr(e/60|0,"0",2)+hr(e%60,"0",2)}function ei(t,e){return hr(t.getUTCDate(),e,2)}function ni(t,e){return hr(t.getUTCHours(),e,2)}function ri(t,e){return hr(t.getUTCHours()%12||12,e,2)}function ii(t,e){return hr(1+Yn.count(er(t),t),e,3)}function oi(t,e){return hr(t.getUTCMilliseconds(),e,3)}function ai(t,e){return oi(t,e)+"000"}function si(t,e){return hr(t.getUTCMonth()+1,e,2)}function li(t,e){return hr(t.getUTCMinutes(),e,2)}function ci(t,e){return hr(t.getUTCSeconds(),e,2)}function ui(t){var e=t.getUTCDay();return 0===e?7:e}function hi(t,e){return hr(Gn.count(er(t)-1,t),e,2)}function fi(t){var e=t.getUTCDay();return e>=4||0===e?Zn(t):Zn.ceil(t)}function pi(t,e){return t=fi(t),hr(Zn.count(er(t),t)+(4===er(t).getUTCDay()),e,2)}function di(t){return t.getUTCDay()}function gi(t,e){return hr(Vn.count(er(t)-1,t),e,2)}function mi(t,e){return hr(t.getUTCFullYear()%100,e,2)}function yi(t,e){return hr((t=fi(t)).getUTCFullYear()%100,e,2)}function vi(t,e){return hr(t.getUTCFullYear()%1e4,e,4)}function bi(t,e){var n=t.getUTCDay();return hr((t=n>=4||0===n?Zn(t):Zn.ceil(t)).getUTCFullYear()%1e4,e,4)}function xi(){return"+0000"}function wi(){return"%"}function ki(t){return+t}function _i(t){return Math.floor(+t/1e3)}!function(t){or=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=pr(i),u=dr(i),h=pr(o),f=dr(o),p=pr(a),d=dr(a),g=pr(s),m=dr(s),y=pr(l),v=dr(l),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Dr,e:Dr,f:Fr,g:Zr,G:Qr,H:jr,I:Rr,j:Ir,L:Pr,m:Ur,M:Hr,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ki,s:_i,S:Br,u:qr,U:Yr,V:Gr,w:Vr,W:Xr,x:null,X:null,y:Kr,Y:Jr,Z:ti,"%":wi},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:ei,e:ei,f:ai,g:yi,G:bi,H:ni,I:ri,j:ii,L:oi,m:si,M:li,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ki,s:_i,S:ci,u:ui,U:hi,V:pi,w:di,W:gi,x:null,X:null,y:mi,Y:vi,Z:xi,"%":wi},w={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:Ar,e:Ar,f:Lr,g:wr,G:xr,H:Er,I:Er,j:Tr,L:Sr,m:Mr,M:$r,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:_r,Q:Cr,s:zr,S:Or,u:mr,U:yr,V:vr,w:gr,W:br,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:wr,Y:xr,Z:kr,"%":Nr};function k(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=sr[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function _(t,e){return function(n){var r,i,o=ir(1900,void 0,1);if(M(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=rr(ir(o.y,0,1))).getUTCDay(),r=i>4||0===i?Vn.ceil(r):Vn(r),r=Yn.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=nr(ir(o.y,0,1))).getDay(),r=i>4||0===i?zn.ceil(r):zn(r),r=Ln.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?rr(ir(o.y,0,1)).getUTCDay():nr(ir(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,rr(o)):nr(o)}}function M(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in sr?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=k(n,b),b.X=k(r,b),b.c=k(e,b),x.x=k(n,x),x.X=k(r,x),x.c=k(e,x),{format:function(t){var e=k(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=_(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=k(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=_(t+="",!0);return e.toString=function(){return t},e}}}(t),ar=or.format,or.parse,or.utcFormat,or.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Mi(t){return new Date(t)}function Ai(t){return t instanceof Date?+t:+new Date(+t)}function Ti(t,n,r,i,o,a,s,l,c){var h=qe(Re,Re),f=h.invert,p=h.domain,d=c(".%L"),g=c(":%S"),m=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),x=c("%B"),w=c("%Y"),k=[[s,1,1e3],[s,5,5e3],[s,15,15e3],[s,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[o,1,36e5],[o,3,108e5],[o,6,216e5],[o,12,432e5],[i,1,864e5],[i,2,1728e5],[r,1,6048e5],[n,1,2592e6],[n,3,7776e6],[t,1,31536e6]];function _(e){return(s(e)<e?d:a(e)<e?g:o(e)<e?m:i(e)<e?y:n(e)<e?r(e)<e?v:b:t(e)<e?x:w)(e)}function M(n,r,i,o){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(i-r)/n,s=e((function(t){return t[2]})).right(k,a);s===k.length?(o=u(r/31536e6,i/31536e6,n),n=t):s?(o=(s=k[a/k[s-1][2]<k[s][2]/a?s-1:s])[1],n=s[0]):(o=Math.max(u(r,i,n),1),n=l)}return null==o?n:n.every(o)}return h.invert=function(t){return new Date(f(t))},h.domain=function(t){return arguments.length?p(be.call(t,Ai)):p().map(Mi)},h.ticks=function(t,e){var n,r=p(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=M(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},h.tickFormat=function(t,e){return null==e?_:c(e)},h.nice=function(t,e){var n=p();return(t=M(t,n[0],n[n.length-1],e))?p(un(n,t)):h},h.copy=function(){return He(h,Ti(t,n,r,i,o,a,s,l,c))},h}function Ei(){return ye.apply(Ti(Bn,Un,Cn,Ln,On,En,An,_n,ar).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var $i=Math.PI,Oi=2*$i,Si=Oi-1e-6;function Li(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ni(){return new Li}function Ci(t){return function(){return t}}Li.prototype=Ni.prototype={constructor:Li,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,h=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(u*s-l*c)>1e-6&&i){var f=n-o,p=r-a,d=s*s+l*l,g=f*f+p*p,m=Math.sqrt(d),y=Math.sqrt(h),v=i*Math.tan(($i-Math.acos((d+h-g)/(2*m*y)))/2),b=v/y,x=v/m;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(e+b*u)),this._+="A"+i+","+i+",0,0,"+ +(u*f>c*p)+","+(this._x1=t+x*s)+","+(this._y1=e+x*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+l+","+c),n&&(h<0&&(h=h%Oi+Oi),h>Si?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=$i)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function zi(t){this._context=t}function Di(t){return new zi(t)}function ji(t){return t[0]}function Ri(t){return t[1]}function Ii(){var t=ji,e=Ri,n=Ci(!0),r=null,i=Di,o=null;function a(a){var s,l,c,u=a.length,h=!1;for(null==r&&(o=i(c=Ni())),s=0;s<=u;++s)!(s<u&&n(l=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(l,s,a),+e(l,s,a));if(c)return o=null,c+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:Ci(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Ci(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:Ci(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function Pi(){var t=ji,e=null,n=Ci(0),r=Ri,i=Ci(!0),o=null,a=Di,s=null;function l(l){var c,u,h,f,p,d=l.length,g=!1,m=new Array(d),y=new Array(d);for(null==o&&(s=a(p=Ni())),c=0;c<=d;++c){if(!(c<d&&i(f=l[c],c,l))===g)if(g=!g)u=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=c-1;h>=u;--h)s.point(m[h],y[h]);s.lineEnd(),s.areaEnd()}g&&(m[c]=+t(f,c,l),y[c]=+n(f,c,l),s.point(e?+e(f,c,l):m[c],r?+r(f,c,l):y[c]))}if(p)return s=null,p+""||null}function c(){return Ii().defined(i).curve(a).context(o)}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:Ci(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:Ci(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Ci(+t),l):e},l.y=function(t){return arguments.length?(n="function"==typeof t?t:Ci(+t),r=null,l):n},l.y0=function(t){return arguments.length?(n="function"==typeof t?t:Ci(+t),l):n},l.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Ci(+t),l):r},l.lineX0=l.lineY0=function(){return c().x(t).y(n)},l.lineY1=function(){return c().x(t).y(r)},l.lineX1=function(){return c().x(e).y(n)},l.defined=function(t){return arguments.length?(i="function"==typeof t?t:Ci(!!t),l):i},l.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),l):a},l.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),l):o},l}function Fi(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Ui(t){this._context=t}function Hi(t){return new Ui(t)}function Bi(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function qi(t,e){this._context=t,this._k=(1-e)/6}zi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},Ui.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fi(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fi(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},qi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Bi(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Bi(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Yi=function t(e){function n(t){return new qi(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Wi(t,e){this._context=t,this._alpha=e}Wi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:!function(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>1e-12){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>1e-12){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Gi=function t(e){function n(t){return e?new Wi(t,e):new qi(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Vi(t){return t<0?-1:1}function Xi(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Vi(o)+Vi(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Ki(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Zi(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Ji(t){this._context=t}function Qi(t){return new Ji(t)}function to(t){this._context=t}function eo(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function no(t){return new to(t)}function ro(t,e){this._context=t,this._t=e}function io(t){return new ro(t,.5)}function oo(t){return new ro(t,0)}function ao(t){return new ro(t,1)}Ji.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zi(this,this._t0,Ki(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Zi(this,Ki(this,n=Xi(this,t,e)),n);break;default:Zi(this,this._t0,n=Xi(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},Object.create(Ji.prototype).point=function(t,e){Ji.prototype.point.call(this,e,t)},to.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=eo(t),i=eo(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},ro.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var so="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function lo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var co=lo((function(t){return function(){return t}}));var uo=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},ho="object"==typeof so&&so&&so.Object===Object&&so,fo=ho,po="object"==typeof self&&self&&self.Object===Object&&self,go=fo||po||Function("return this")(),mo=go,yo=function(){return mo.Date.now()},vo=/\s/;var bo=function(t){for(var e=t.length;e--&&vo.test(t.charAt(e)););return e},xo=/^\s+/;var wo=function(t){return t?t.slice(0,bo(t)+1).replace(xo,""):t},ko=go.Symbol,_o=ko,Mo=Object.prototype,Ao=Mo.hasOwnProperty,To=Mo.toString,Eo=_o?_o.toStringTag:void 0;var $o=function(t){var e=Ao.call(t,Eo),n=t[Eo];try{t[Eo]=void 0;var r=!0}catch(t){}var i=To.call(t);return r&&(e?t[Eo]=n:delete t[Eo]),i},Oo=Object.prototype.toString;var So=$o,Lo=function(t){return Oo.call(t)},No=ko?ko.toStringTag:void 0;var Co=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":No&&No in Object(t)?So(t):Lo(t)};var zo=function(t){return null!=t&&"object"==typeof t},Do=Co,jo=zo;var Ro=function(t){return"symbol"==typeof t||jo(t)&&"[object Symbol]"==Do(t)},Io=lo(Ro),Po=wo,Fo=uo,Uo=Ro,Ho=/^[-+]0x[0-9a-f]+$/i,Bo=/^0b[01]+$/i,qo=/^0o[0-7]+$/i,Yo=parseInt;var Wo=function(t){if("number"==typeof t)return t;if(Uo(t))return NaN;if(Fo(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Fo(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Po(t);var n=Bo.test(t);return n||qo.test(t)?Yo(t.slice(2),n?2:8):Ho.test(t)?NaN:+t},Go=uo,Vo=yo,Xo=Wo,Ko=Math.max,Zo=Math.min;var Jo=function(t,e,n){var r,i,o,a,s,l,c=0,u=!1,h=!1,f=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=r,o=i;return r=i=void 0,c=e,a=t.apply(o,n)}function d(t){return c=t,s=setTimeout(m,e),u?p(t):a}function g(t){var n=t-l;return void 0===l||n>=e||n<0||h&&t-c>=o}function m(){var t=Vo();if(g(t))return y(t);s=setTimeout(m,function(t){var n=e-(t-l);return h?Zo(n,o-(t-c)):n}(t))}function y(t){return s=void 0,f&&r?p(t):(r=i=void 0,a)}function v(){var t=Vo(),n=g(t);if(r=arguments,i=this,l=t,n){if(void 0===s)return d(l);if(h)return clearTimeout(s),s=setTimeout(m,e),p(l)}return void 0===s&&(s=setTimeout(m,e)),a}return e=Xo(e)||0,Go(n)&&(u=!!n.leading,o=(h="maxWait"in n)?Ko(Xo(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f),v.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?a:y(Vo())},v},Qo=lo(Jo);var ta=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t};var ea=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}();var na=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},ra=Co,ia=zo;var oa=function(t){return ia(t)&&"[object Arguments]"==ra(t)},aa=zo,sa=Object.prototype,la=sa.hasOwnProperty,ca=sa.propertyIsEnumerable,ua=oa(function(){return arguments}())?oa:function(t){return aa(t)&&la.call(t,"callee")&&!ca.call(t,"callee")},ha=Array.isArray,fa={exports:{}};var pa=function(){return!1};!function(t,e){var n=go,r=pa,i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?n.Buffer:void 0,s=(a?a.isBuffer:void 0)||r;t.exports=s}(fa,fa.exports);var da=fa.exports,ga=/^(?:0|[1-9]\d*)$/;var ma=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ga.test(t))&&t>-1&&t%1==0&&t<e};var ya=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},va=Co,ba=ya,xa=zo,wa={};wa["[object Float32Array]"]=wa["[object Float64Array]"]=wa["[object Int8Array]"]=wa["[object Int16Array]"]=wa["[object Int32Array]"]=wa["[object Uint8Array]"]=wa["[object Uint8ClampedArray]"]=wa["[object Uint16Array]"]=wa["[object Uint32Array]"]=!0,wa["[object Arguments]"]=wa["[object Array]"]=wa["[object ArrayBuffer]"]=wa["[object Boolean]"]=wa["[object DataView]"]=wa["[object Date]"]=wa["[object Error]"]=wa["[object Function]"]=wa["[object Map]"]=wa["[object Number]"]=wa["[object Object]"]=wa["[object RegExp]"]=wa["[object Set]"]=wa["[object String]"]=wa["[object WeakMap]"]=!1;var ka=function(t){return xa(t)&&ba(t.length)&&!!wa[va(t)]};var _a=function(t){return function(e){return t(e)}},Ma={exports:{}};!function(t,e){var n=ho,r=e&&!e.nodeType&&e,i=r&&t&&!t.nodeType&&t,o=i&&i.exports===r&&n.process,a=function(){try{var t=i&&i.require&&i.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=a}(Ma,Ma.exports);var Aa=Ma.exports,Ta=ka,Ea=_a,$a=Aa&&Aa.isTypedArray,Oa=$a?Ea($a):Ta,Sa=na,La=ua,Na=ha,Ca=da,za=ma,Da=Oa,ja=Object.prototype.hasOwnProperty;var Ra=function(t,e){var n=Na(t),r=!n&&La(t),i=!n&&!r&&Ca(t),o=!n&&!r&&!i&&Da(t),a=n||r||i||o,s=a?Sa(t.length,String):[],l=s.length;for(var c in t)!e&&!ja.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||za(c,l))||s.push(c);return s},Ia=Object.prototype;var Pa=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ia)};var Fa=function(t,e){return function(n){return t(e(n))}},Ua=Fa(Object.keys,Object),Ha=Pa,Ba=Ua,qa=Object.prototype.hasOwnProperty;var Ya=Co,Wa=uo;var Ga=function(t){if(!Wa(t))return!1;var e=Ya(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Va=Ga,Xa=ya;var Ka=function(t){return null!=t&&Xa(t.length)&&!Va(t)},Za=Ra,Ja=function(t){if(!Ha(t))return Ba(t);var e=[];for(var n in Object(t))qa.call(t,n)&&"constructor"!=n&&e.push(n);return e},Qa=Ka;var ts=function(t){return Qa(t)?Za(t):Ja(t)},es=ea,ns=ts;var rs=Ka;var is=function(t,e){return function(n,r){if(null==n)return n;if(!rs(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}((function(t,e){return t&&es(t,e,ns)}));var os=function(t){return t},as=lo(os),ss=os;var ls=function(t){return"function"==typeof t?t:ss},cs=ta,us=is,hs=ls,fs=ha;var ps=lo((function(t,e){return(fs(t)?cs:us)(t,hs(e))}));var ds=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},gs=ua,ms=ha,ys=ko?ko.isConcatSpreadable:void 0;var vs=ds,bs=function(t){return ms(t)||gs(t)||!!(ys&&t&&t[ys])};var xs=function t(e,n,r,i,o){var a=-1,s=e.length;for(r||(r=bs),o||(o=[]);++a<s;){var l=e[a];n>0&&r(l)?n>1?t(l,n-1,r,i,o):vs(o,l):i||(o[o.length]=l)}return o};var ws=lo((function(t){return(null==t?0:t.length)?xs(t,1):[]})),ks=Co,_s=zo;var Ms=function(t){return _s(t)&&"[object Date]"==ks(t)},As=_a,Ts=Aa&&Aa.isDate,Es=lo(Ts?As(Ts):Ms);var $s=function(){this.__data__=[],this.size=0};var Os=function(t,e){return t===e||t!=t&&e!=e},Ss=Os;var Ls=function(t,e){for(var n=t.length;n--;)if(Ss(t[n][0],e))return n;return-1},Ns=Ls,Cs=Array.prototype.splice;var zs=Ls;var Ds=Ls;var js=Ls;var Rs=$s,Is=function(t){var e=this.__data__,n=Ns(e,t);return!(n<0)&&(n==e.length-1?e.pop():Cs.call(e,n,1),--this.size,!0)},Ps=function(t){var e=this.__data__,n=zs(e,t);return n<0?void 0:e[n][1]},Fs=function(t){return Ds(this.__data__,t)>-1},Us=function(t,e){var n=this.__data__,r=js(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Hs(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hs.prototype.clear=Rs,Hs.prototype.delete=Is,Hs.prototype.get=Ps,Hs.prototype.has=Fs,Hs.prototype.set=Us;var Bs=Hs,qs=Bs;var Ys=function(){this.__data__=new qs,this.size=0};var Ws=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var Gs=function(t){return this.__data__.get(t)};var Vs,Xs=function(t){return this.__data__.has(t)},Ks=go["__core-js_shared__"],Zs=(Vs=/[^.]+$/.exec(Ks&&Ks.keys&&Ks.keys.IE_PROTO||""))?"Symbol(src)_1."+Vs:"";var Js=function(t){return!!Zs&&Zs in t},Qs=Function.prototype.toString;var tl=function(t){if(null!=t){try{return Qs.call(t)}catch(t){}try{return t+""}catch(t){}}return""},el=Ga,nl=Js,rl=uo,il=tl,ol=/^\[object .+?Constructor\]$/,al=Function.prototype,sl=Object.prototype,ll=al.toString,cl=sl.hasOwnProperty,ul=RegExp("^"+ll.call(cl).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var hl=function(t){return!(!rl(t)||nl(t))&&(el(t)?ul:ol).test(il(t))},fl=function(t,e){return null==t?void 0:t[e]};var pl=function(t,e){var n=fl(t,e);return hl(n)?n:void 0},dl=pl(go,"Map"),gl=pl(Object,"create"),ml=gl;var yl=function(){this.__data__=ml?ml(null):{},this.size=0};var vl=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},bl=gl,xl=Object.prototype.hasOwnProperty;var wl=function(t){var e=this.__data__;if(bl){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return xl.call(e,t)?e[t]:void 0},kl=gl,_l=Object.prototype.hasOwnProperty;var Ml=gl;var Al=yl,Tl=vl,El=wl,$l=function(t){var e=this.__data__;return kl?void 0!==e[t]:_l.call(e,t)},Ol=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ml&&void 0===e?"__lodash_hash_undefined__":e,this};function Sl(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Sl.prototype.clear=Al,Sl.prototype.delete=Tl,Sl.prototype.get=El,Sl.prototype.has=$l,Sl.prototype.set=Ol;var Ll=Sl,Nl=Bs,Cl=dl;var zl=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Dl=function(t,e){var n=t.__data__;return zl(e)?n["string"==typeof e?"string":"hash"]:n.map},jl=Dl;var Rl=Dl;var Il=Dl;var Pl=Dl;var Fl=function(){this.size=0,this.__data__={hash:new Ll,map:new(Cl||Nl),string:new Ll}},Ul=function(t){var e=jl(this,t).delete(t);return this.size-=e?1:0,e},Hl=function(t){return Rl(this,t).get(t)},Bl=function(t){return Il(this,t).has(t)},ql=function(t,e){var n=Pl(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Yl(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yl.prototype.clear=Fl,Yl.prototype.delete=Ul,Yl.prototype.get=Hl,Yl.prototype.has=Bl,Yl.prototype.set=ql;var Wl=Yl,Gl=Bs,Vl=dl,Xl=Wl;var Kl=Bs,Zl=Ys,Jl=Ws,Ql=Gs,tc=Xs,ec=function(t,e){var n=this.__data__;if(n instanceof Gl){var r=n.__data__;if(!Vl||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Xl(r)}return n.set(t,e),this.size=n.size,this};function nc(t){var e=this.__data__=new Kl(t);this.size=e.size}nc.prototype.clear=Zl,nc.prototype.delete=Jl,nc.prototype.get=Ql,nc.prototype.has=tc,nc.prototype.set=ec;var rc=nc;var ic=Wl,oc=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ac=function(t){return this.__data__.has(t)};function sc(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new ic;++e<n;)this.add(t[e])}sc.prototype.add=sc.prototype.push=oc,sc.prototype.has=ac;var lc=sc,cc=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},uc=function(t,e){return t.has(e)};var hc=function(t,e,n,r,i,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var h=-1,f=!0,p=2&n?new lc:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var d=t[h],g=e[h];if(r)var m=a?r(g,d,h,e,t,o):r(d,g,h,t,e,o);if(void 0!==m){if(m)continue;f=!1;break}if(p){if(!cc(e,(function(t,e){if(!uc(p,e)&&(d===t||i(d,t,n,r,o)))return p.push(e)}))){f=!1;break}}else if(d!==g&&!i(d,g,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f},fc=go.Uint8Array;var pc=fc,dc=Os,gc=hc,mc=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},yc=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},vc=ko?ko.prototype:void 0,bc=vc?vc.valueOf:void 0;var xc=function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new pc(t),new pc(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return dc(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=mc;case"[object Set]":var l=1&r;if(s||(s=yc),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var u=gc(s(t),s(e),r,i,o,a);return a.delete(t),u;case"[object Symbol]":if(bc)return bc.call(t)==bc.call(e)}return!1},wc=ds,kc=ha;var _c=function(t,e,n){var r=e(t);return kc(t)?r:wc(r,n(t))};var Mc=function(){return[]},Ac=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o},Tc=Mc,Ec=Object.prototype.propertyIsEnumerable,$c=Object.getOwnPropertySymbols,Oc=$c?function(t){return null==t?[]:(t=Object(t),Ac($c(t),(function(e){return Ec.call(t,e)})))}:Tc,Sc=_c,Lc=Oc,Nc=ts;var Cc=function(t){return Sc(t,Nc,Lc)},zc=Cc,Dc=Object.prototype.hasOwnProperty;var jc=function(t,e,n,r,i,o){var a=1&n,s=zc(t),l=s.length;if(l!=zc(e).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in e:Dc.call(e,u)))return!1}var h=o.get(t),f=o.get(e);if(h&&f)return h==e&&f==t;var p=!0;o.set(t,e),o.set(e,t);for(var d=a;++c<l;){var g=t[u=s[c]],m=e[u];if(r)var y=a?r(m,g,u,e,t,o):r(g,m,u,t,e,o);if(!(void 0===y?g===m||i(g,m,n,r,o):y)){p=!1;break}d||(d="constructor"==u)}if(p&&!d){var v=t.constructor,b=e.constructor;v==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(t),o.delete(e),p},Rc=pl(go,"DataView"),Ic=dl,Pc=pl(go,"Promise"),Fc=pl(go,"Set"),Uc=pl(go,"WeakMap"),Hc=Co,Bc=tl,qc=Bc(Rc),Yc=Bc(Ic),Wc=Bc(Pc),Gc=Bc(Fc),Vc=Bc(Uc),Xc=Hc;(Rc&&"[object DataView]"!=Xc(new Rc(new ArrayBuffer(1)))||Ic&&"[object Map]"!=Xc(new Ic)||Pc&&"[object Promise]"!=Xc(Pc.resolve())||Fc&&"[object Set]"!=Xc(new Fc)||Uc&&"[object WeakMap]"!=Xc(new Uc))&&(Xc=function(t){var e=Hc(t),n="[object Object]"==e?t.constructor:void 0,r=n?Bc(n):"";if(r)switch(r){case qc:return"[object DataView]";case Yc:return"[object Map]";case Wc:return"[object Promise]";case Gc:return"[object Set]";case Vc:return"[object WeakMap]"}return e});var Kc=Xc,Zc=rc,Jc=hc,Qc=xc,tu=jc,eu=Kc,nu=ha,ru=da,iu=Oa,ou=Object.prototype.hasOwnProperty;var au=function(t,e,n,r,i,o){var a=nu(t),s=nu(e),l=a?"[object Array]":eu(t),c=s?"[object Array]":eu(e),u="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),h="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),f=l==c;if(f&&ru(t)){if(!ru(e))return!1;a=!0,u=!1}if(f&&!u)return o||(o=new Zc),a||iu(t)?Jc(t,e,n,r,i,o):Qc(t,e,l,n,r,i,o);if(!(1&n)){var p=u&&ou.call(t,"__wrapped__"),d=h&&ou.call(e,"__wrapped__");if(p||d){var g=p?t.value():t,m=d?e.value():e;return o||(o=new Zc),i(g,m,n,r,o)}}return!!f&&(o||(o=new Zc),tu(t,e,n,r,i,o))},su=zo;var lu=function t(e,n,r,i,o){return e===n||(null==e||null==n||!su(e)&&!su(n)?e!=e&&n!=n:au(e,n,r,i,t,o))},cu=lu;var uu=lo((function(t,e){return cu(t,e)})),hu=Co,fu=zo;var pu=lo((function(t){return"number"==typeof t||fu(t)&&"[object Number]"==hu(t)}));var du=lo((function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0})),gu=Wo;var mu=function(t){return t?(t=gu(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},yu=mu;var vu=na,bu=ls,xu=function(t){var e=yu(t),n=e%1;return e==e?n?e-n:e:0},wu=Math.min;var ku=lo((function(t,e){if((t=xu(t))<1||t>9007199254740991)return[];var n=4294967295,r=wu(t,4294967295);e=bu(e),t-=4294967295;for(var i=vu(r,e);++n<t;)e(n);return i}));var _u=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},Mu=ha,Au=Ro,Tu=ko?ko.prototype:void 0,Eu=Tu?Tu.toString:void 0;var $u=function t(e){if("string"==typeof e)return e;if(Mu(e))return _u(e,t)+"";if(Au(e))return Eu?Eu.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};var Ou=function(t){return null==t?"":$u(t)};var Su=function(t){return function(e){return null==t?void 0:t[e]}}({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Lu=Ou,Nu=Su,Cu=/&(?:amp|lt|gt|quot|#39);/g,zu=RegExp(Cu.source);var Du=lo((function(t){return(t=Lu(t))&&zu.test(t)?t.replace(Cu,Nu):t}));function ju(t,e,n,r){const i=Y(t),[o,a]=n?[Math.min(i.l,r[0]),Math.max(i.l,r[1])]:r;let s=1===e?[i.l]:function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}(Ce(o,a),e);if(n&&!s.includes(i.l)){const t=s.reduce((t,e)=>Math.abs(t)>Math.abs(i.l-e)?i.l-e:t,100);s=s.map(e=>e+t)}return s=s.map(t=>Y(t,i.a,i.b)),s.map(t=>t.hex())}function Ru(t){t.reverse();const e=t.length;if(e<3)return t.slice(0);let n=0,r=-2;const i=[],o={},a=Math.ceil(e/2.5);do{n%=e,!o[n]&&(e<5||Math.abs(r-n)>1)?(i.push(t[n]),o[n]=!0,r=n,n+=a):n+=1}while(i.length<e);return i}const Iu=t=>e=>({}.hasOwnProperty.call(t,e.key)?t[String(e.key)]:null),Pu=(t,e,n)=>r=>r.value>0?t:r.value<0?e:n,Fu=(t,e)=>n=>t[(Math.max(0,e)+n.i)%t.length],Uu=(t,e)=>function(n){if("string"!=typeof t[0]){t.sort((function(t,e){return t.length-e.length}));let r=t.length-1;return t.forEach((function(t,n){e>(t[n-1]||[]).length&&e<=t.length&&(r=n)})),t[r][n.i%t[r].length]}return t[n.i%t.length]},Hu=t=>{let e=0;const n=[];return r=>n[r.i]?n[r.i]:e!==t.length?n[r.i]=t[e++]:null},Bu=(t,e)=>null===t?e[0]:isNaN(t)?t:e[t%e.length];function qu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Yu,Wu,Gu,Vu,Xu,Ku,Zu,Ju,Qu,th,eh,nh,rh,ih,oh,ah,sh,lh,ch={exports:{}};(function(t){function e(){}function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function d(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function g(t){return document.createTextNode(t)}function m(){return g("")}function y(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.data!==e&&(t.data=e)}function x(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function w(t,e,n){t.classList[n?"add":"remove"](e)}class k{constructor(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.e||(this.is_svg?this.e=d(e.nodeName):this.e=p(11===e.nodeType?"TEMPLATE":e.nodeName),this.t="TEMPLATE"!==e.tagName?e:e.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)u(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(h)}}let _;function M(t){_=t}function A(){const t=function(){if(!_)throw new Error("Function called outside component initialization");return _}();return function(e,n){let{cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.$$.callbacks[e];if(i){const o=function(t,e){let{bubbles:n=!1,cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}(e,n,{cancelable:r});return i.slice().forEach(e=>{e.call(t,o)}),!o.defaultPrevented}return!0}}function T(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const E=[],$=[];let O=[];const S=[],L=Promise.resolve();let N=!1;function C(){N||(N=!0,L.then(I))}function z(){return C(),L}function D(t){O.push(t)}const j=new Set;let R=0;function I(){if(0!==R)return;const t=_;do{try{for(;R<E.length;){const t=E[R];R++,M(t),P(t.$$)}}catch(t){throw E.length=0,R=0,t}for(M(null),E.length=0,R=0;$.length;)$.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];j.has(e)||(j.add(e),e())}O.length=0}while(E.length);for(;S.length;)S.pop()();N=!1,j.clear(),M(t)}function P(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const F=new Set;let U;function H(){U={r:0,c:[],p:U}}function B(){U.r||o(U.c),U=U.p}function q(t,e){t&&t.i&&(F.delete(t),t.i(e))}function Y(t,e,n,r){if(t&&t.o){if(F.has(t))return;F.add(t),U.c.push(()=>{F.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function W(t){t&&t.c()}function G(t,e,n,i){const{fragment:s,after_update:l}=t.$$;s&&s.m(e,n),i||D(()=>{const e=t.$$.on_mount.map(r).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]}),l.forEach(D)}function V(t,e){const n=t.$$;null!==n.fragment&&(function(t){const e=[],n=[];O.forEach(r=>-1===t.indexOf(r)?e.push(r):n.push(r)),n.forEach(t=>t()),O=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function X(t,n,r,a,s,l,c){let u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1];const f=_;M(t);const p=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:s,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};c&&c(p.root);let d=!1;if(p.ctx=r?r(t,n.props||{},(function(e,n){const r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return p.ctx&&s(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),d&&function(t,e){-1===t.$$.dirty[0]&&(E.push(t),C(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],p.update(),d=!0,o(p.before_update),p.fragment=!!a&&a(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(h)}else p.fragment&&p.fragment.c();n.intro&&q(t.$$.fragment),G(t,n.target,n.anchor,n.customElement),I()}M(f)}class K{$destroy(){V(this,1),this.$destroy=e}$on(t,n){if(!a(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Z(t){let e,n,r=t[6](t[2])+"",i=t[3]&&J(t);return{c(){e=p("div"),n=p("span"),i&&i.c(),v(e,"class","legend-title label"),v(e,"aria-hidden","true")},m(t,o){u(t,e,o),c(e,n),n.innerHTML=r,i&&i.m(e,null)},p(t,o){68&o&&r!==(r=t[6](t[2])+"")&&(n.innerHTML=r),t[3]?i?i.p(t,o):(i=J(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(t){t&&h(e),i&&i.d()}}}function J(t){let e,n,r=t[6](t[2])+"";return{c(){e=p("div"),n=p("span"),x(n,"color",t[3].color),x(n,"-webkit-text-stroke",t[3].textStroke),v(e,"class","legend-title label buffer"),v(e,"aria-hidden","true")},m(t,i){u(t,e,i),c(e,n),n.innerHTML=r},p(t,e){68&e&&r!==(r=t[6](t[2])+"")&&(n.innerHTML=r),8&e&&x(n,"color",t[3].color),8&e&&x(n,"-webkit-text-stroke",t[3].textStroke)},d(t){t&&h(e)}}}function Q(t){let e,n,r,i=t[2]&&Z(t);const o=t[8].default,a=function(t,e,n,r){if(t){const r=l(t,e,n,null);return t[0](r)}}(o,t,t[7]);return{c(){e=p("div"),i&&i.c(),n=m(),a&&a.c(),v(e,"class",t[0]),v(e,"role","graphics-legend"),v(e,"aria-label",t[1]),x(e,"width",t[4]),x(e,"height",t[5])},m(t,o){u(t,e,o),i&&i.m(e,null),c(e,n),a&&a.m(e,null),r=!0},p(t,s){let[c]=s;t[2]?i?i.p(t,c):(i=Z(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),a&&a.p&&(!r||128&c)&&function(t,e,n,r,i,o){if(i){const o=l(e,n,r,null);t.p(o,i)}}(a,o,t,t[7],r?function(t,e,n,r){return t[2],e.dirty}(o,t[7]):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[7])),(!r||1&c)&&v(e,"class",t[0]),(!r||2&c)&&v(e,"aria-label",t[1]),16&c&&x(e,"width",t[4]),32&c&&x(e,"height",t[5])},i(t){r||(q(a,t),r=!0)},o(t){Y(a,t),r=!1},d(t){t&&h(e),i&&i.d(),a&&a.d(t)}}}function tt(t,e,n){let{$$slots:r={},$$scope:i}=e,{className:o=""}=e,{ariaLabel:a=""}=e,{title:s=""}=e,{buffer:l}=e,{width:c="auto"}=e,{height:u="auto"}=e,{purifyHtml:h}=e;return t.$$set=t=>{"className"in t&&n(0,o=t.className),"ariaLabel"in t&&n(1,a=t.ariaLabel),"title"in t&&n(2,s=t.title),"buffer"in t&&n(3,l=t.buffer),"width"in t&&n(4,c=t.width),"height"in t&&n(5,u=t.height),"purifyHtml"in t&&n(6,h=t.purifyHtml),"$$scope"in t&&n(7,i=t.$$scope)},[o,a,s,l,c,u,h,i,r]}class et extends K{constructor(t){super(),X(this,t,tt,Q,s,{className:0,ariaLabel:1,title:2,buffer:3,width:4,height:5,purifyHtml:6})}}function nt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let i=t;for(let t=0;t<r.length&&null!=i;t++)i=i[r[t]];return null==i?n:i}var rt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==so?so:"undefined"!=typeof self?self:{};function it(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ot,at={exports:{}};
/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE */function st(){return ot||(ot=1,function(t,e){t.exports=function(){const{entries:t,setPrototypeOf:e,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:o,seal:a,create:s}=Object,{apply:l,construct:c}="undefined"!=typeof Reflect&&Reflect;o||(o=function(t){return t}),a||(a=function(t){return t}),l||(l=function(t,e,n){return t.apply(e,n)}),c||(c=function(t,e){return new t(...e)});const u=w(Array.prototype.forEach),h=w(Array.prototype.pop),f=w(Array.prototype.push),p=w(String.prototype.toLowerCase),d=w(String.prototype.toString),g=w(String.prototype.match),m=w(String.prototype.replace),y=w(String.prototype.indexOf),v=w(String.prototype.trim),b=w(RegExp.prototype.test),x=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,n)}}(TypeError);function w(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return l(t,e,r)}}function k(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;e&&e(t,null);let o=r.length;for(;o--;){let e=r[o];if("string"==typeof e){const t=i(e);t!==e&&(n(r)||(r[o]=t),e=t)}t[e]=!0}return t}function _(e){const n=s(null);for(const[r,o]of t(e))void 0!==i(e,r)&&(n[r]=o);return n}function M(t,e){for(;null!==t;){const n=i(t,e);if(n){if(n.get)return w(n.get);if("function"==typeof n.value)return w(n.value)}t=r(t)}return function(t){return console.warn("fallback value for",t),null}}const A=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),T=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),E=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),O=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),S=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),L=o(["#text"]),N=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),C=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),z=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),D=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),j=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),R=a(/<%[\w\W]*|[\w\W]*%>/gm),I=a(/\${[\w\W]*}/gm),P=a(/^data-[\-\w.\u00B7-\uFFFF]/),F=a(/^aria-[\-\w]+$/),U=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),H=a(/^(?:\w+script|data):/i),B=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),q=a(/^html$/i);var Y=Object.freeze({__proto__:null,MUSTACHE_EXPR:j,ERB_EXPR:R,TMPLIT_EXPR:I,DATA_ATTR:P,ARIA_ATTR:F,IS_ALLOWED_URI:U,IS_SCRIPT_OR_DATA:H,ATTR_WHITESPACE:B,DOCTYPE_NAME:q});return function e(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const r=t=>e(t);if(r.version="3.0.6",r.removed=[],!n||!n.document||9!==n.document.nodeType)return r.isSupported=!1,r;let{document:i}=n;const a=i,l=a.currentScript,{DocumentFragment:c,HTMLTemplateElement:w,Node:j,Element:R,NodeFilter:I,NamedNodeMap:P=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:F,DOMParser:H,trustedTypes:B}=n,W=R.prototype,G=M(W,"cloneNode"),V=M(W,"nextSibling"),X=M(W,"childNodes"),K=M(W,"parentNode");if("function"==typeof w){const t=i.createElement("template");t.content&&t.content.ownerDocument&&(i=t.content.ownerDocument)}let Z,J="";const{implementation:Q,createNodeIterator:tt,createDocumentFragment:et,getElementsByTagName:nt}=i,{importNode:rt}=a;let it={};r.isSupported="function"==typeof t&&"function"==typeof K&&Q&&void 0!==Q.createHTMLDocument;const{MUSTACHE_EXPR:ot,ERB_EXPR:at,TMPLIT_EXPR:st,DATA_ATTR:lt,ARIA_ATTR:ct,IS_SCRIPT_OR_DATA:ut,ATTR_WHITESPACE:ht}=Y;let{IS_ALLOWED_URI:ft}=Y,pt=null;const dt=k({},[...A,...T,...E,...O,...L]);let gt=null;const mt=k({},[...N,...C,...z,...D]);let yt=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),vt=null,bt=null,xt=!0,wt=!0,kt=!1,_t=!0,Mt=!1,At=!1,Tt=!1,Et=!1,$t=!1,Ot=!1,St=!1,Lt=!0,Nt=!1,Ct=!0,zt=!1,Dt={},jt=null;const Rt=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let It=null;const Pt=k({},["audio","video","img","source","image","track"]);let Ft=null;const Ut=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ht="http://www.w3.org/1998/Math/MathML",Bt="http://www.w3.org/2000/svg",qt="http://www.w3.org/1999/xhtml";let Yt=qt,Wt=!1,Gt=null;const Vt=k({},[Ht,Bt,qt],d);let Xt=null;const Kt=["application/xhtml+xml","text/html"];let Zt=null,Jt=null;const Qt=i.createElement("form"),te=function(t){return t instanceof RegExp||t instanceof Function},ee=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Jt||Jt!==t){if(t&&"object"==typeof t||(t={}),t=_(t),Xt=Xt=-1===Kt.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,Zt="application/xhtml+xml"===Xt?d:p,pt="ALLOWED_TAGS"in t?k({},t.ALLOWED_TAGS,Zt):dt,gt="ALLOWED_ATTR"in t?k({},t.ALLOWED_ATTR,Zt):mt,Gt="ALLOWED_NAMESPACES"in t?k({},t.ALLOWED_NAMESPACES,d):Vt,Ft="ADD_URI_SAFE_ATTR"in t?k(_(Ut),t.ADD_URI_SAFE_ATTR,Zt):Ut,It="ADD_DATA_URI_TAGS"in t?k(_(Pt),t.ADD_DATA_URI_TAGS,Zt):Pt,jt="FORBID_CONTENTS"in t?k({},t.FORBID_CONTENTS,Zt):Rt,vt="FORBID_TAGS"in t?k({},t.FORBID_TAGS,Zt):{},bt="FORBID_ATTR"in t?k({},t.FORBID_ATTR,Zt):{},Dt="USE_PROFILES"in t&&t.USE_PROFILES,xt=!1!==t.ALLOW_ARIA_ATTR,wt=!1!==t.ALLOW_DATA_ATTR,kt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,_t=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Mt=t.SAFE_FOR_TEMPLATES||!1,At=t.WHOLE_DOCUMENT||!1,$t=t.RETURN_DOM||!1,Ot=t.RETURN_DOM_FRAGMENT||!1,St=t.RETURN_TRUSTED_TYPE||!1,Et=t.FORCE_BODY||!1,Lt=!1!==t.SANITIZE_DOM,Nt=t.SANITIZE_NAMED_PROPS||!1,Ct=!1!==t.KEEP_CONTENT,zt=t.IN_PLACE||!1,ft=t.ALLOWED_URI_REGEXP||U,Yt=t.NAMESPACE||qt,yt=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&te(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(yt.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&te(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(yt.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(yt.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Mt&&(wt=!1),Ot&&($t=!0),Dt&&(pt=k({},[...L]),gt=[],!0===Dt.html&&(k(pt,A),k(gt,N)),!0===Dt.svg&&(k(pt,T),k(gt,C),k(gt,D)),!0===Dt.svgFilters&&(k(pt,E),k(gt,C),k(gt,D)),!0===Dt.mathMl&&(k(pt,O),k(gt,z),k(gt,D))),t.ADD_TAGS&&(pt===dt&&(pt=_(pt)),k(pt,t.ADD_TAGS,Zt)),t.ADD_ATTR&&(gt===mt&&(gt=_(gt)),k(gt,t.ADD_ATTR,Zt)),t.ADD_URI_SAFE_ATTR&&k(Ft,t.ADD_URI_SAFE_ATTR,Zt),t.FORBID_CONTENTS&&(jt===Rt&&(jt=_(jt)),k(jt,t.FORBID_CONTENTS,Zt)),Ct&&(pt["#text"]=!0),At&&k(pt,["html","head","body"]),pt.table&&(k(pt,["tbody"]),delete vt.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Z=t.TRUSTED_TYPES_POLICY,J=Z.createHTML("")}else void 0===Z&&(Z=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";e&&e.hasAttribute(r)&&(n=e.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(B,l)),null!==Z&&"string"==typeof J&&(J=Z.createHTML(""));o&&o(t),Jt=t}},ne=k({},["mi","mo","mn","ms","mtext"]),re=k({},["foreignobject","desc","title","annotation-xml"]),ie=k({},["title","style","font","a","script"]),oe=k({},T);k(oe,E),k(oe,$);const ae=k({},O);k(ae,S);const se=function(t){f(r.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){t.remove()}},le=function(t,e){try{f(r.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){f(r.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!gt[t])if($t||Ot)try{se(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},ce=function(t){let e=null,n=null;if(Et)t="<remove></remove>"+t;else{const e=g(t,/^[\r\n\t ]+/);n=e&&e[0]}"application/xhtml+xml"===Xt&&Yt===qt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const r=Z?Z.createHTML(t):t;if(Yt===qt)try{e=(new H).parseFromString(r,Xt)}catch(t){}if(!e||!e.documentElement){e=Q.createDocument(Yt,"template",null);try{e.documentElement.innerHTML=Wt?J:r}catch(t){}}const o=e.body||e.documentElement;return t&&n&&o.insertBefore(i.createTextNode(n),o.childNodes[0]||null),Yt===qt?nt.call(e,At?"html":"body")[0]:At?e.documentElement:o},ue=function(t){return tt.call(t.ownerDocument||t,t,I.SHOW_ELEMENT|I.SHOW_COMMENT|I.SHOW_TEXT,null)},he=function(t){return"function"==typeof j&&t instanceof j},fe=function(t,e,n){it[t]&&u(it[t],t=>{t.call(r,e,n,Jt)})},pe=function(t){let e=null;if(fe("beforeSanitizeElements",t,null),function(t){return t instanceof F&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof P)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)}(t))return se(t),!0;const n=Zt(t.nodeName);if(fe("uponSanitizeElement",t,{tagName:n,allowedTags:pt}),t.hasChildNodes()&&!he(t.firstElementChild)&&b(/<[/\w]/g,t.innerHTML)&&b(/<[/\w]/g,t.textContent))return se(t),!0;if(!pt[n]||vt[n]){if(!vt[n]&&ge(n)){if(yt.tagNameCheck instanceof RegExp&&b(yt.tagNameCheck,n))return!1;if(yt.tagNameCheck instanceof Function&&yt.tagNameCheck(n))return!1}if(Ct&&!jt[n]){const e=K(t)||t.parentNode,n=X(t)||t.childNodes;if(n&&e)for(let r=n.length-1;r>=0;--r)e.insertBefore(G(n[r],!0),V(t))}return se(t),!0}return t instanceof R&&!function(t){let e=K(t);e&&e.tagName||(e={namespaceURI:Yt,tagName:"template"});const n=p(t.tagName),r=p(e.tagName);return!!Gt[t.namespaceURI]&&(t.namespaceURI===Bt?e.namespaceURI===qt?"svg"===n:e.namespaceURI===Ht?"svg"===n&&("annotation-xml"===r||ne[r]):Boolean(oe[n]):t.namespaceURI===Ht?e.namespaceURI===qt?"math"===n:e.namespaceURI===Bt?"math"===n&&re[r]:Boolean(ae[n]):t.namespaceURI===qt?!(e.namespaceURI===Bt&&!re[r])&&!(e.namespaceURI===Ht&&!ne[r])&&!ae[n]&&(ie[n]||!oe[n]):!("application/xhtml+xml"!==Xt||!Gt[t.namespaceURI]))}(t)?(se(t),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!b(/<\/no(script|embed|frames)/i,t.innerHTML)?(Mt&&3===t.nodeType&&(e=t.textContent,u([ot,at,st],t=>{e=m(e,t," ")}),t.textContent!==e&&(f(r.removed,{element:t.cloneNode()}),t.textContent=e)),fe("afterSanitizeElements",t,null),!1):(se(t),!0)},de=function(t,e,n){if(Lt&&("id"===e||"name"===e)&&(n in i||n in Qt))return!1;if(wt&&!bt[e]&&b(lt,e));else if(xt&&b(ct,e));else if(!gt[e]||bt[e]){if(!(ge(t)&&(yt.tagNameCheck instanceof RegExp&&b(yt.tagNameCheck,t)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(t))&&(yt.attributeNameCheck instanceof RegExp&&b(yt.attributeNameCheck,e)||yt.attributeNameCheck instanceof Function&&yt.attributeNameCheck(e))||"is"===e&&yt.allowCustomizedBuiltInElements&&(yt.tagNameCheck instanceof RegExp&&b(yt.tagNameCheck,n)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(n))))return!1}else if(Ft[e]);else if(b(ft,m(n,ht,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==y(n,"data:")||!It[t])if(kt&&!b(ut,m(n,ht,"")));else if(n)return!1;return!0},ge=function(t){return t.indexOf("-")>0},me=function(t){fe("beforeSanitizeAttributes",t,null);const{attributes:e}=t;if(!e)return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:gt};let i=e.length;for(;i--;){const o=e[i],{name:a,namespaceURI:s,value:l}=o,c=Zt(a);let f="value"===a?l:v(l);if(n.attrName=c,n.attrValue=f,n.keepAttr=!0,n.forceKeepAttr=void 0,fe("uponSanitizeAttribute",t,n),f=n.attrValue,n.forceKeepAttr)continue;if(le(a,t),!n.keepAttr)continue;if(!_t&&b(/\/>/i,f)){le(a,t);continue}Mt&&u([ot,at,st],t=>{f=m(f,t," ")});const p=Zt(t.nodeName);if(de(p,c,f)){if(!Nt||"id"!==c&&"name"!==c||(le(a,t),f="user-content-"+f),Z&&"object"==typeof B&&"function"==typeof B.getAttributeType)if(s);else switch(B.getAttributeType(p,c)){case"TrustedHTML":f=Z.createHTML(f);break;case"TrustedScriptURL":f=Z.createScriptURL(f)}try{s?t.setAttributeNS(s,a,f):t.setAttribute(a,f),h(r.removed)}catch(t){}}}fe("afterSanitizeAttributes",t,null)},ye=function t(e){let n=null;const r=ue(e);for(fe("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)fe("uponSanitizeShadowNode",n,null),pe(n)||(n.content instanceof c&&t(n.content),me(n));fe("afterSanitizeShadowDOM",e,null)};return r.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,i=null,o=null,s=null;if(Wt=!t,Wt&&(t="\x3c!--\x3e"),"string"!=typeof t&&!he(t)){if("function"!=typeof t.toString)throw x("toString is not a function");if("string"!=typeof(t=t.toString()))throw x("dirty is not a string, aborting")}if(!r.isSupported)return t;if(Tt||ee(e),r.removed=[],"string"==typeof t&&(zt=!1),zt){if(t.nodeName){const e=Zt(t.nodeName);if(!pt[e]||vt[e])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof j)n=ce("\x3c!----\x3e"),i=n.ownerDocument.importNode(t,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?n=i:n.appendChild(i);else{if(!$t&&!Mt&&!At&&-1===t.indexOf("<"))return Z&&St?Z.createHTML(t):t;if(n=ce(t),!n)return $t?null:St?J:""}n&&Et&&se(n.firstChild);const l=ue(zt?t:n);for(;o=l.nextNode();)pe(o)||(o.content instanceof c&&ye(o.content),me(o));if(zt)return t;if($t){if(Ot)for(s=et.call(n.ownerDocument);n.firstChild;)s.appendChild(n.firstChild);else s=n;return(gt.shadowroot||gt.shadowrootmode)&&(s=rt.call(a,s,!0)),s}let h=At?n.outerHTML:n.innerHTML;return At&&pt["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&b(q,n.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+h),Mt&&u([ot,at,st],t=>{h=m(h,t," ")}),Z&&St?Z.createHTML(h):h},r.setConfig=function(){ee(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Tt=!0},r.clearConfig=function(){Jt=null,Tt=!1},r.isValidAttribute=function(t,e,n){Jt||ee({});const r=Zt(t),i=Zt(e);return de(r,i,n)},r.addHook=function(t,e){"function"==typeof e&&(it[t]=it[t]||[],f(it[t],e))},r.removeHook=function(t){if(it[t])return h(it[t])},r.removeHooks=function(t){it[t]&&(it[t]=[])},r.removeAllHooks=function(){it={}},r}()}()}(at)),at.exports}window.DOMPurify||(window.DOMPurify=st().default||st());var lt,ct=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},ut="object"==typeof rt&&rt&&rt.Object===Object&&rt,ht="object"==typeof self&&self&&self.Object===Object&&self,ft=ut||ht||Function("return this")(),pt=ft.Symbol,dt=pt,gt=Object.prototype,mt=gt.hasOwnProperty,yt=gt.toString,vt=dt?dt.toStringTag:void 0,bt=Object.prototype.toString,xt=pt?pt.toStringTag:void 0,wt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":xt&&xt in Object(t)?function(t){var e=mt.call(t,vt),n=t[vt];try{t[vt]=void 0;var r=!0}catch(t){}var i=yt.call(t);return r&&(e?t[vt]=n:delete t[vt]),i}(t):function(t){return bt.call(t)}(t)},kt=ct,_t=ft["__core-js_shared__"],Mt=(lt=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||""))?"Symbol(src)_1."+lt:"",At=Function.prototype.toString,Tt=ct,Et=/^\[object .+?Constructor\]$/,$t=Function.prototype,Ot=Object.prototype,St=$t.toString,Lt=Ot.hasOwnProperty,Nt=RegExp("^"+St.call(Lt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ct=function(t){return!(!Tt(t)||function(t){return!!Mt&&Mt in t}(t))&&(function(t){if(!kt(t))return!1;var e=wt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(t)?Nt:Et).test(function(t){if(null!=t){try{return At.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))},zt=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Ct(n)?n:void 0},Dt=zt;!function(){try{var t=Dt(Object,"defineProperty");t({},"",{})}catch(t){}}();var jt=zt(Object,"create"),Rt=jt,It=jt,Pt=Object.prototype.hasOwnProperty,Ft=jt,Ut=Object.prototype.hasOwnProperty,Ht=jt;function Bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bt.prototype.clear=function(){this.__data__=Rt?Rt(null):{},this.size=0},Bt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Bt.prototype.get=function(t){var e=this.__data__;if(It){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Pt.call(e,t)?e[t]:void 0},Bt.prototype.has=function(t){var e=this.__data__;return Ft?void 0!==e[t]:Ut.call(e,t)},Bt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ht&&void 0===e?"__lodash_hash_undefined__":e,this};var qt=Bt,Yt=function(t,e){return t===e||t!=t&&e!=e},Wt=function(t,e){for(var n=t.length;n--;)if(Yt(t[n][0],e))return n;return-1},Gt=Wt,Vt=Array.prototype.splice,Xt=Wt,Kt=Wt,Zt=Wt;function Jt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jt.prototype.clear=function(){this.__data__=[],this.size=0},Jt.prototype.delete=function(t){var e=this.__data__,n=Gt(e,t);return!(n<0||(n==e.length-1?e.pop():Vt.call(e,n,1),--this.size,0))},Jt.prototype.get=function(t){var e=this.__data__,n=Xt(e,t);return n<0?void 0:e[n][1]},Jt.prototype.has=function(t){return Kt(this.__data__,t)>-1},Jt.prototype.set=function(t,e){var n=this.__data__,r=Zt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Qt=Jt,te=zt(ft,"Map"),ee=qt,ne=Qt,re=te,ie=function(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map},oe=ie,ae=ie,se=ie,le=ie;function ce(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ce.prototype.clear=function(){this.size=0,this.__data__={hash:new ee,map:new(re||ne),string:new ee}},ce.prototype.delete=function(t){var e=oe(this,t).delete(t);return this.size-=e?1:0,e},ce.prototype.get=function(t){return ae(this,t).get(t)},ce.prototype.has=function(t){return se(this,t).has(t)},ce.prototype.set=function(t,e){var n=le(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var ue=ce;function he(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(he.Cache||ue),n}he.Cache=ue;var fe=he,pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,de=/\\(\\)?/g;!function(t){var e=fe((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(pe,(function(t,n,r,i){e.push(r?i.replace(de,"$1"):n||t)})),e}),(function(t){return 500===e.size&&e.clear(),t})).cache}();var ge=pt?pt.prototype:void 0;ge&&ge.toString;var me="object"==typeof rt&&rt&&rt.Object===Object&&rt,ye=me,ve="object"==typeof self&&self&&self.Object===Object&&self,be=ye||ve||Function("return this")(),xe=be.Symbol,we=xe,ke=Object.prototype,_e=ke.hasOwnProperty,Me=ke.toString,Ae=we?we.toStringTag:void 0,Te=Object.prototype.toString,Ee=xe?xe.toStringTag:void 0,$e=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Ee&&Ee in Object(t)?function(t){var e=_e.call(t,Ae),n=t[Ae];try{t[Ae]=void 0;var r=!0}catch(t){}var i=Me.call(t);return r&&(e?t[Ae]=n:delete t[Ae]),i}(t):function(t){return Te.call(t)}(t)},Oe=function(t){return null!=t&&"object"==typeof t},Se=$e,Le=Oe,Ne=function(t){return Le(t)&&"[object Arguments]"==Se(t)},Ce=Oe,ze=Object.prototype,De=ze.hasOwnProperty,je=ze.propertyIsEnumerable,Re=Ne(function(){return arguments}())?Ne:function(t){return Ce(t)&&De.call(t,"callee")&&!je.call(t,"callee")},Ie=Array.isArray,Pe={exports:{}},Fe=function(){return!1};!function(t,e){var n=be,r=Fe,i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?n.Buffer:void 0,s=(a?a.isBuffer:void 0)||r;t.exports=s}(Pe,Pe.exports);var Ue=/^(?:0|[1-9]\d*)$/,He={exports:{}};!function(t,e){var n=me,r=e&&!e.nodeType&&e,i=r&&t&&!t.nodeType&&t,o=i&&i.exports===r&&n.process,a=function(){try{return i&&i.require&&i.require("util").types||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=a}(He,He.exports);var Be=He.exports;Be&&Be.isTypedArray;var qe=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Ye=$e,We=qe,Ge=function(t,e){return t===e||t!=t&&e!=e},Ve=function(t,e){for(var n=t.length;n--;)if(Ge(t[n][0],e))return n;return-1},Xe=Ve,Ke=Array.prototype.splice,Ze=Ve,Je=Ve,Qe=Ve;function tn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tn.prototype.clear=function(){this.__data__=[],this.size=0},tn.prototype.delete=function(t){var e=this.__data__,n=Xe(e,t);return!(n<0||(n==e.length-1?e.pop():Ke.call(e,n,1),--this.size,0))},tn.prototype.get=function(t){var e=this.__data__,n=Ze(e,t);return n<0?void 0:e[n][1]},tn.prototype.has=function(t){return Je(this.__data__,t)>-1},tn.prototype.set=function(t,e){var n=this.__data__,r=Qe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var en=tn,nn=be["__core-js_shared__"],rn=function(){var t=/[^.]+$/.exec(nn&&nn.keys&&nn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),on=Function.prototype.toString,an=function(t){if(null!=t){try{return on.call(t)}catch(t){}try{return t+""}catch(t){}}return""},sn=qe,ln=an,cn=/^\[object .+?Constructor\]$/,un=Function.prototype,hn=Object.prototype,fn=un.toString,pn=hn.hasOwnProperty,dn=RegExp("^"+fn.call(pn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gn=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!sn(t)||function(t){return!!rn&&rn in t}(t))&&(function(t){if(!We(t))return!1;var e=Ye(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(t)?dn:cn).test(ln(t))}(n)?n:void 0},mn=gn(be,"Map"),yn=gn(Object,"create"),vn=yn,bn=yn,xn=Object.prototype.hasOwnProperty,wn=yn,kn=Object.prototype.hasOwnProperty,_n=yn;function Mn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Mn.prototype.clear=function(){this.__data__=vn?vn(null):{},this.size=0},Mn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Mn.prototype.get=function(t){var e=this.__data__;if(bn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return xn.call(e,t)?e[t]:void 0},Mn.prototype.has=function(t){var e=this.__data__;return wn?void 0!==e[t]:kn.call(e,t)},Mn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_n&&void 0===e?"__lodash_hash_undefined__":e,this};var An=Mn,Tn=en,En=mn,$n=function(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map},On=$n,Sn=$n,Ln=$n,Nn=$n;function Cn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cn.prototype.clear=function(){this.size=0,this.__data__={hash:new An,map:new(En||Tn),string:new An}},Cn.prototype.delete=function(t){var e=On(this,t).delete(t);return this.size-=e?1:0,e},Cn.prototype.get=function(t){return Sn(this,t).get(t)},Cn.prototype.has=function(t){return Ln(this,t).has(t)},Cn.prototype.set=function(t,e){var n=Nn(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var zn=Cn;be.Uint8Array;var Dn=xe?xe.prototype:void 0;Dn&&Dn.valueOf;var jn=gn(be,"DataView"),Rn=mn,In=gn(be,"Promise"),Pn=gn(be,"Set"),Fn=gn(be,"WeakMap"),Un=$e,Hn=an,Bn="[object Map]",qn="[object Promise]",Yn="[object Set]",Wn="[object WeakMap]",Gn="[object DataView]",Vn=Hn(jn),Xn=Hn(Rn),Kn=Hn(In),Zn=Hn(Pn),Jn=Hn(Fn),Qn=Un;(jn&&Qn(new jn(new ArrayBuffer(1)))!=Gn||Rn&&Qn(new Rn)!=Bn||In&&Qn(In.resolve())!=qn||Pn&&Qn(new Pn)!=Yn||Fn&&Qn(new Fn)!=Wn)&&(Qn=function(t){var e=Un(t),n="[object Object]"==e?t.constructor:void 0,r=n?Hn(n):"";if(r)switch(r){case Vn:return Gn;case Xn:return Bn;case Kn:return qn;case Zn:return Yn;case Jn:return Wn}return e});var tr=$e,er=Oe,nr=function(t){return"symbol"==typeof t||er(t)&&"[object Symbol]"==tr(t)},rr=Ie,ir=nr,or=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ar=/^\w*$/,sr=zn;function lr(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(lr.Cache||sr),n}lr.Cache=sr;var cr=lr,ur=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hr=/\\(\\)?/g,fr=function(t){var e=cr((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ur,(function(t,n,r,i){e.push(r?i.replace(hr,"$1"):n||t)})),e}),(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}(),pr=Ie,dr=nr,gr=xe?xe.prototype:void 0,mr=gr?gr.toString:void 0,yr=Ie,vr=fr,br=nr,xr=function(t,e){return yr(t)?t:function(t,e){if(rr(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ir(t))||ar.test(t)||!or.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:vr(function(t){return null==t?"":function t(e){if("string"==typeof e)return e;if(pr(e))return function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(e,t)+"";if(dr(e))return mr?mr.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}(t)}(t))},wr=Re,kr=Ie,_r=function(t){if("string"==typeof t||br(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},Mr=it((function(t){return t})),Ar=Object.prototype.hasOwnProperty,Tr=function(t,e){return null!=t&&Ar.call(t,e)},Er=function(t,e,n){for(var r=-1,i=(e=xr(e,t)).length,o=!1;++r<i;){var a=_r(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(i)&&function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Ue.test(t))&&t>-1&&t%1==0&&t<e}(a,i)&&(kr(t)||wr(t))},$r=it((function(t,e){return null!=t&&Er(t,e,Tr)}));function Or(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}var Sr=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function Lr(t){var e,n;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var r=t-2,i=t-1;r>1;)i*=r,r--;return 0===i&&(i=1),i}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Lr(1-t));if(t>=171.35)return 1/0;if(t>85){var o=t*t,a=o*t,s=a*t,l=s*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*o)-139/(51840*a)-571/(2488320*s)+163879/(209018880*l)+5246819/(75246796800*l*t))}--t,n=Sr[0];for(var c=1;c<Sr.length;++c)n+=Sr[c]/(t+c);return e=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*n}var Nr=Object.freeze({__proto__:null,add:function(t,e){return Number(t)+Number(e)},sub:function(t,e){return t-e},mul:function(t,e){return t*e},div:function(t,e){return t/e},mod:function(t,e){return t%e},concat:function(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e},equal:function(t,e){return t===e},notEqual:function(t,e){return t!==e},greaterThan:function(t,e){return t>e},lessThan:function(t,e){return t<e},greaterThanEqual:function(t,e){return t>=e},lessThanEqual:function(t,e){return t<=e},andOperator:function(t,e){return Boolean(t&&e)},orOperator:function(t,e){return Boolean(t||e)},inOperator:function(t,e){return Or(e,t)},sinh:function(t){return(Math.exp(t)-Math.exp(-t))/2},cosh:function(t){return(Math.exp(t)+Math.exp(-t))/2},tanh:function(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))},asinh:function(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},atanh:function(t){return Math.log((1+t)/(1-t))/2},log10:function(t){return Math.log(t)*Math.LOG10E},neg:function(t){return-t},not:function(t){return!t},trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)},random:function(t){return Math.random()*(t||1)},factorial:function(t){return Lr(t+1)},gamma:Lr,stringOrArrayLength:function(t){return Array.isArray(t)?t.length:String(t).length},hypot:function(){for(var t=0,e=0,n=0;n<arguments.length;n++){var r,i=Math.abs(arguments[n]);e<i?(t=t*(r=e/i)*r+1,e=i):t+=i>0?(r=i/e)*r:i}return e===1/0?1/0:e*Math.sqrt(t)},condition:function(t,e,n){return t?e:n},roundTo:function(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))},setVar:function(t,e,n){return n&&(n[t]=e),e},arrayIndex:function(t,e){return t[0|e]},max:function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)},min:function(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)},arrayMap:function(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))},arrayFold:function(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)},arrayFilter:function(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))},stringOrArrayIndexOf:function(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)},arrayJoin:function(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)},sign:function(t){return(t>0)-(t<0)||+t},cbrt:function(t){return t<0?-Math.pow(-t,1/3):Math.pow(t,1/3)},expm1:function(t){return Math.exp(t)-1},log1p:function(t){return Math.log(1+t)},log2:function(t){return Math.log(t)/Math.LN2},sum:function(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}}),Cr="INUMBER",zr="IOP1",Dr="IOP2",jr="IOP3",Rr="IVAR",Ir="IVARNAME",Pr="IFUNCALL",Fr="IFUNDEF",Ur="IEXPR",Hr="IEXPREVAL",Br="IMEMBER",qr="IENDSTATEMENT",Yr="IARRAY";function Wr(t,e){this.type=t,this.value=null!=e?e:0}function Gr(t){return new Wr(zr,t)}function Vr(t){return new Wr(Dr,t)}function Xr(t,e,n){var r,i,o,a,s,l,c=[];if(Zr(t))return Jr(t,n);for(var u=t.length,h=0;h<u;h++){var f=t[h],p=f.type;if(p===Cr||p===Ir)c.push(f.value);else if(p===Dr)i=c.pop(),r=c.pop(),"and"===f.value?c.push(!!r&&!!Xr(i,e,n)):"or"===f.value?c.push(!!r||!!Xr(i,e,n)):"="===f.value?(a=e.binaryOps[f.value],c.push(a(r,Xr(i,e,n),n))):(a=e.binaryOps[f.value],c.push(a(Jr(r,n),Jr(i,n))));else if(p===jr)o=c.pop(),i=c.pop(),r=c.pop(),"?"===f.value?c.push(Xr(r?i:o,e,n)):(a=e.ternaryOps[f.value],c.push(a(Jr(r,n),Jr(i,n),Jr(o,n))));else if(p===Rr){if(/^__proto__|prototype|constructor$/.test(f.value))throw new Error("prototype access detected");if(f.value in e.functions)c.push(e.functions[f.value]);else if(f.value in e.unaryOps&&e.parser.isOperatorEnabled(f.value))c.push(e.unaryOps[f.value]);else{var d=n[f.value];if(void 0===d)throw new Error("undefined variable: "+f.value);c.push(d)}}else if(p===zr)r=c.pop(),a=e.unaryOps[f.value],c.push(a(Jr(r,n)));else if(p===Pr){for(l=f.value,s=[];l-- >0;)s.unshift(Jr(c.pop(),n));if(!(a=c.pop()).apply||!a.call)throw new Error(a+" is not a function");c.push(a.apply(void 0,s))}else if(p===Fr)c.push(function(){for(var t=c.pop(),r=[],i=f.value;i-- >0;)r.unshift(c.pop());var o=c.pop(),a=function(){for(var i=Object.assign({},n),o=0,a=r.length;o<a;o++)i[r[o]]=arguments[o];return Xr(t,e,i)};return Object.defineProperty(a,"name",{value:o,writable:!1}),n[o]=a,a}());else if(p===Ur)c.push(Kr(f,e));else if(p===Hr)c.push(f);else if(p===Br)r=c.pop(),c.push(r[f.value]);else if(p===qr)c.pop();else{if(p!==Yr)throw new Error("invalid Expression");for(l=f.value,s=[];l-- >0;)s.unshift(c.pop());c.push(s)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:Jr(c[0],n)}function Kr(t,e,n){return Zr(t)?t:{type:Hr,value:function(n){return Xr(t.value,e,n)}}}function Zr(t){return t&&t.type===Hr}function Jr(t,e){return Zr(t)?t.value(e):t}Wr.prototype.toString=function(){switch(this.type){case Cr:case zr:case Dr:case jr:case Rr:case Ir:case qr:return this.value;case Pr:return"CALL "+this.value;case Fr:return"DEF "+this.value;case Yr:return"ARRAY "+this.value;case Br:return"."+this.value;default:return"Invalid Instruction"}};var Qr="TEOF",ti="TOP",ei="TNUMBER",ni="TSTRING",ri="TPAREN",ii="TBRACKET",oi="TCOMMA",ai="TNAME",si="TSEMICOLON";function li(t,e,n){this.type=t,this.value=e,this.index=n}function ci(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}li.prototype.toString=function(){return this.type+": "+this.value},ci.prototype.newToken=function(t,e,n){return new li(t,e,null!=n?n:this.pos)},ci.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},ci.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},ci.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(Qr,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},ci.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var i=this.expression.substring(e+1,r);this.current=this.newToken(ni,this.unescape(i),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},ci.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(ri,t),this.pos++,!0)},ci.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("[")||(this.current=this.newToken(ii,t),this.pos++,0))},ci.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(oi,","),this.pos++,!0)},ci.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(si,";"),this.pos++,!0)},ci.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken(ei,this.consts[r]),this.pos+=r.length,!0}return!1},ci.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(ti,r),this.pos+=r.length,!0}return!1},ci.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var i=this.expression.substring(t,e);return this.current=this.newToken(ai,i),this.pos+=i.length,!0}return!1},ci.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var ui=/^[0-9a-f]{4}$/i;function hi(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess,this.restrictMemberAccess=new Set(n.restrictMemberAccess||[])}ci.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var i=t.substring(e+1,e+5);ui.test(i)||this.parseError("Illegal escape sequence: \\u"+i),n+=String.fromCharCode(parseInt(i,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var o=t.indexOf("\\",e);n+=t.substring(e,o<0?t.length:o),e=o}return n},ci.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},ci.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,i=n;n<this.expression.length;){var o=this.expression.charAt(n);if(!e.test(o))break;n++,r=!0}return r&&(this.current=this.newToken(ei,parseInt(this.expression.substring(i,n),t)),this.pos=n),r},ci.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,i=n,o=!1,a=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!o&&"."===t);)"."===t?o=!0:a=!0,n++,e=a;if(e&&(i=n),"e"===t||"E"===t){n++;for(var s=!0,l=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!s||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;l=!0,s=!1}else s=!1;n++}l||(n=i)}return e?(this.current=this.newToken(ei,parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=i,e},ci.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(ti,e);else if("∙"===e||"•"===e)this.current=this.newToken(ti,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ti,">="),this.pos++):this.current=this.newToken(ti,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ti,"<="),this.pos++):this.current=this.newToken(ti,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(ti,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ti,"=="),this.pos++):this.current=this.newToken(ti,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ti,"!="),this.pos++):this.current=this.newToken(ti,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},ci.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},ci.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},ci.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},hi.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},hi.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?Or(e,t.value):"function"==typeof e?e(t):t.value===e)},hi.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},hi.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},hi.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e)||(this.next(),0))},hi.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},hi.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(ai)||this.accept(ti,(function(t){return t.value in e})))t.push(new Wr(Rr,this.current.value));else if(this.accept(ei))t.push(new Wr(Cr,this.current.value));else if(this.accept(ni))t.push(new Wr(Cr,this.current.value));else if(this.accept(ri,"("))this.parseExpression(t),this.expect(ri,")");else{if(!this.accept(ii,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(ii,"]"))t.push(new Wr(Yr,0));else{var n=this.parseArrayList(t);t.push(new Wr(Yr,n))}}},hi.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},hi.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},hi.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(si)&&(!this.nextToken||this.nextToken.type===Qr||this.nextToken.type===ri&&")"===this.nextToken.value||e.push(new Wr(qr)),this.nextToken.type!==Qr&&this.parseExpression(e),t.push(new Wr(Ur,e)),!0)},hi.prototype.parseArrayList=function(t){for(var e=0;!this.accept(ii,"]");)for(this.parseExpression(t),++e;this.accept(oi);)this.parseExpression(t),++e;return e},hi.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(ti,"=");){var e=t.pop(),n=[],r=t.length-1;if(e.type!==Pr){if(e.type!==Rr&&e.type!==Br)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new Wr(Ir,e.value)),t.push(new Wr(Ur,n)),t.push(Vr("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var i=0,o=e.value+1;i<o;i++){var a=r-i;t[a].type===Rr&&(t[a]=new Wr(Ir,t[a].value))}this.parseVariableAssignmentExpression(n),t.push(new Wr(Ur,n)),t.push(new Wr(Fr,e.value))}}},hi.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(ti,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(ti,":"),this.parseConditionalExpression(n),t.push(new Wr(Ur,e)),t.push(new Wr(Ur,n)),t.push(new Wr(jr,"?"))}},hi.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(ti,"or");){var e=[];this.parseAndExpression(e),t.push(new Wr(Ur,e)),t.push(Vr("or"))}},hi.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(ti,"and");){var e=[];this.parseComparison(e),t.push(new Wr(Ur,e)),t.push(Vr("and"))}};var fi=["==","!=","<","<=",">=",">","in"];hi.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(ti,fi);){var e=this.current;this.parseAddSub(t),t.push(Vr(e.value))}};var pi=["+","-","||"];hi.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(ti,pi);){var e=this.current;this.parseTerm(t),t.push(Vr(e.value))}};var di=["*","/","%"];hi.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(ti,di);){var e=this.current;this.parseFactor(t),t.push(Vr(e.value))}},hi.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(ti,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===ri&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===si||this.nextToken.type===oi||this.nextToken.type===Qr||this.nextToken.type===ri&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(Gr(n.value))}else this.parseExponential(t)},hi.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(ti,"^");)this.parseFactor(t),t.push(Vr("^"))},hi.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(ti,"!");)t.push(Gr("!"))},hi.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(ti,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(Gr(n.value))}else for(this.parseMemberExpression(t);this.accept(ri,"(");)if(this.accept(ri,")"))t.push(new Wr(Pr,0));else{var r=this.parseArgumentList(t);t.push(new Wr(Pr,r))}},hi.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(ri,")");)for(this.parseExpression(t),++e;this.accept(oi);)this.parseExpression(t),++e;return e},hi.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(ti,".")||this.accept(ii,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect(ai),t.push(new Wr(Br,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(ii,"]"),t.push(Vr("["))}}};const{add:gi,sub:mi,mul:yi,div:vi,mod:bi,equal:xi,notEqual:wi,greaterThan:ki,lessThan:_i,greaterThanEqual:Mi,lessThanEqual:Ai,andOperator:Ti,orOperator:Ei,log10:$i,neg:Oi,not:Si,trunc:Li,random:Ni,stringOrArrayLength:Ci,condition:zi,roundTo:Di,arrayIndex:ji,max:Ri,min:Ii,sum:Pi,arrayMap:Fi,arrayFold:Ui,arrayFilter:Hi,sign:Bi,log1p:qi,log2:Yi}=Nr;function Wi(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function Gi(t){return t.trim()}Wi.prototype.evaluate=function(t){return t=t||{},Xr(this.tokens,this,t)},Wi.prototype.variables=function(){return(this.tokens||[]).filter(t=>"IVAR"===t.type).map(t=>t.value)};const Vi=new Set(["__proto__","prototype","constructor"]);function Xi(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||Yi,LN:Math.log,LOG10:Math.log10||$i,LG:Math.log10||$i,LOG1P:Math.log1p||qi,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:t=>null===t,TRUNC:Math.trunc||Li,"-":Oi,"+":Number,EXP:Math.exp,NOT:Si,LENGTH:Ci,"!":Si,SIGN:Math.sign||Bi,TEXT:t=>e(t)?t.toISOString():String(t),NUMBER:Number},this.binaryOps={"+":gi,"-":mi,"*":yi,"/":vi,"%":bi,"^":Math.pow,"==":xi,"!=":wi,">":ki,"<":_i,">=":Mi,"<=":Ai,and:Ti,or:Ei,in:(t,e)=>Array.isArray(e)?e.includes(t):String(e).includes(t),"[":ji},this.ternaryOps={"?":zi};const e=t=>t instanceof Date&&!isNaN(t),n=t=>{if(e(t))return t;try{const n=new Date(t);return e(n)?n:null}catch(t){return null}};function r(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter(t=>!isNaN(t)&&Number.isFinite(t))}let i=/\w*/g,o=/\w\S*/g;const a=/[\\^$*+?.()|[\]{}]/g;try{i=new RegExp("\\p{L}*","ug"),o=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:zi,RANDOM:Ni,MIN(){const t=r.apply(this,arguments);return Ii(t)},MAX(){return Ri(r.apply(this,arguments))},SUM(){return Pi(r.apply(this,arguments))},MEAN(){const t=r.apply(this,arguments);return Pi(t)/t.length},MEDIAN(){const t=r.apply(this,arguments).sort((t,e)=>t-e),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:Di,CONCAT(){return Array.from(arguments).join("")},TRIM:Gi,SUBSTR:(t,e,n)=>t.substr(e,n),REPLACE:(t,e,n)=>t.replace(new RegExp(String(e).replace(a,"\\$&"),"g"),n),REPLACE_REGEX:(t,e,n)=>t.replace(new RegExp(e,"g"),n),SPLIT:(t,e)=>String(t).split(e),LOWER:t=>String(t).toLowerCase(),UPPER:t=>String(t).toUpperCase(),PROPER:t=>String(t).replace(i,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()),TITLE:t=>String(t).replace(o,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()),SORT(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Vi.has(n))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort((t,r)=>((t="string"==typeof n?t[n]:"function"==typeof n?n(t):t)>(r="string"==typeof n?r[n]:"function"==typeof n?n(r):r)?1:t<r?-1:0)*(e?1:-1))},SLICE(t,e,n){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,n)},JOIN(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return n?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(n):t.join(e)},MAP:Fi,FOLD:Ui,FILTER:Hi,PLUCK(t,e){if(Vi.has(e))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map(t=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:null)},INDEXOF:(t,e)=>(Array.isArray(t)||(t=String(t)),t.indexOf(e)),FIND(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");const n=t.length;for(let r=0;r<n;r++)if(e(t[r]))return t[r];return null},RANGE(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},EVERY(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");const n=t.length;let r=!0;for(let i=0;i<n;i++)if(r=r&&e(t[i]),!r)return!1;return!0},SOME(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");const n=t.length;let r=!1;for(let i=0;i<n;i++)if(r=r||e(t[i]),r)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:t=>(t=n(t))?t.getFullYear():null,MONTH:t=>(t=n(t))?t.getMonth()+1:null,DAY:t=>(t=n(t))?t.getDate():null,WEEKDAY:t=>(t=n(t))?t.getDay():null,HOURS:t=>(t=n(t))?t.getHours():null,MINUTES:t=>(t=n(t))?t.getMinutes():null,SECONDS:t=>(t=n(t))?t.getSeconds():null,DATEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/864e5:null),TIMEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}Xi.prototype.parse=function(t){var e=[],n=new hi(this,new ci(this,t),{allowMemberAccess:!0,restrictMemberAccess:Vi});return n.parseExpression(e),n.expect(Qr,"EOF"),new Wi(e,this)},Xi.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var Ki=new Xi;Xi.parse=function(t){return Ki.parse(t)},Xi.evaluate=function(t,e){return Ki.parse(t).evaluate(e)},Xi.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var Zi={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};Xi.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call(Zi,t)?Zi[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};const Ji="%UNDEFINED%",Qi={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{tsf:t=>eo(t),prop:"letter-spacing"},fontSize:{prop:"font-size",tsf:t=>eo(t)},lineHeight:{prop:"line-height",tsf:t=>{return(e=t)===Ji?e:e>3?"".concat(e,"px"):String(e);var e}},underlined:{prop:"text-decoration",tsf:t=>t?"underline":"none"},cursive:{prop:"font-style",tsf:t=>t?"italic":"normal"}};function to(t,e){const n=function(t){let e="";for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const n of t)e+=n+(r.length?r.shift():"");return e.split("\n").filter(t=>t).filter(t=>!t.includes(Ji)).join("\n")};function r(t,e,n){return nt(t,e,void 0===n?Ji:n)}return{getProp:(t,n)=>r(e,t,n),getObjProp:r,typography:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(Qi).filter(n=>{let[r]=n;return $r(t,r)||$r(e,r)}).map(n=>{let[r,{prop:i,tsf:o=Mr}]=n;return"".concat(i,": ").concat(o(nt(t,r,e[r])),";")}).join("\n")},css:function(){return t.css(n(...arguments))},cssTemplate:n,UNDEFINED_STYLE:Ji}}function eo(t){return t===Ji?t:Number.isFinite(t)?"".concat(t,"px"):t}const no=Math.cos,ro=Math.sin,io=Math.sqrt,oo=Math.PI,ao=2*oo,lo=Math.PI,co=2*lo,uo=1e-6,ho=co-uo;function fo(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class po{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?fo:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error("invalid digits: ".concat(t));if(e>15)return fo;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append(Yu||(Yu=qu(["M",",",""])),this._x0=this._x1=+t,this._y0=this._y1=+e)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(Wu||(Wu=qu(["Z"]))))}lineTo(t,e){this._append(Gu||(Gu=qu(["L",",",""])),this._x1=+t,this._y1=+e)}quadraticCurveTo(t,e,n,r){this._append(Vu||(Vu=qu(["Q",",",",",",",""])),+t,+e,this._x1=+n,this._y1=+r)}bezierCurveTo(t,e,n,r,i,o){this._append(Xu||(Xu=qu(["C",",",",",",",",",",",""])),+t,+e,+n,+r,this._x1=+i,this._y1=+o)}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,h=c*c+u*u;if(null===this._x1)this._append(Ku||(Ku=qu(["M",",",""])),this._x1=t,this._y1=e);else if(h>uo)if(Math.abs(u*s-l*c)>uo&&i){let f=n-o,p=r-a,d=s*s+l*l,g=f*f+p*p,m=Math.sqrt(d),y=Math.sqrt(h),v=i*Math.tan((lo-Math.acos((d+h-g)/(2*m*y)))/2),b=v/y,x=v/m;Math.abs(b-1)>uo&&this._append(Zu||(Zu=qu(["L",",",""])),t+b*c,e+b*u),this._append(Ju||(Ju=qu(["A",",",",0,0,",",",",",""])),i,i,+(u*f>c*p),this._x1=t+x*s,this._y1=e+x*l)}else this._append(Qu||(Qu=qu(["L",",",""])),this._x1=t,this._y1=e)}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,h=o?r-i:i-r;null===this._x1?this._append(th||(th=qu(["M",",",""])),l,c):(Math.abs(this._x1-l)>uo||Math.abs(this._y1-c)>uo)&&this._append(eh||(eh=qu(["L",",",""])),l,c),n&&(h<0&&(h=h%co+co),h>ho?this._append(nh||(nh=qu(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,t-a,e-s,n,n,u,this._x1=l,this._y1=c):h>uo&&this._append(rh||(rh=qu(["A",",",",0,",",",",",",",""])),n,n,+(h>=lo),u,this._x1=t+n*Math.cos(i),this._y1=e+n*Math.sin(i)))}rect(t,e,n,r){this._append(ih||(ih=qu(["M",",","h","v","h","Z"])),this._x0=this._x1=+t,this._y0=this._y1=+e,n=+n,+r,-n)}toString(){return this._}}function go(){return new po}go.prototype=po.prototype;var mo={draw(t,e){const n=io(e/oo);t.moveTo(n,0),t.arc(0,0,n,0,ao)}},yo={draw(t,e){const n=io(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},vo={draw(t,e){const n=io(e),r=-n/2;t.rect(r,r,n,n)}};const bo=ro(oo/10)/ro(7*oo/10),xo=ro(ao/10)*bo,wo=-no(ao/10)*bo;var ko={draw(t,e){const n=io(.8908130915292852*e),r=xo*n,i=wo*n;t.moveTo(0,-n),t.lineTo(r,i);for(let e=1;e<5;++e){const o=ao*e/5,a=no(o),s=ro(o);t.lineTo(s*n,-a*n),t.lineTo(a*r-s*i,s*r+a*i)}t.closePath()}};const _o=-.5,Mo=io(3)/2,Ao=1/io(12),To=3*(Ao/2+1);var Eo={draw(t,e){const n=io(e/To),r=n/2,i=n*Ao,o=r,a=n*Ao+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(_o*r-Mo*i,Mo*r+_o*i),t.lineTo(_o*o-Mo*a,Mo*o+_o*a),t.lineTo(_o*s-Mo*l,Mo*s+_o*l),t.lineTo(_o*r+Mo*i,_o*i-Mo*r),t.lineTo(_o*o+Mo*a,_o*a-Mo*o),t.lineTo(_o*s+Mo*l,_o*l-Mo*s),t.closePath()}},$o=Object.assign(Object.assign({name:"circle"},mo),{bbox(t){const e=2*Math.sqrt(t/Math.PI);return{width:e,height:e}}}),Oo=Object.assign(Object.assign({name:"cross"},yo),{bbox(t){const e=3*Math.sqrt(t/5);return{width:e,height:e}},verticalAlign:"bottom"}),So={name:"diamond",draw(t,e){const n=.7071*Math.sqrt(e);t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()},bbox(t){const e=.7071*Math.sqrt(t);return{width:2*e,height:2*e}}},Lo={name:"hexagon",draw(t,e){const n=.56416*Math.sqrt(e),r=1.09963*n,i=r/2,o=.952436*n;t.moveTo(0,-r),t.lineTo(o,-i),t.lineTo(o,i),t.lineTo(0,r),t.lineTo(-o,i),t.lineTo(-o,-i),t.lineTo(0,-r)},bbox(t){const e=.56416*Math.sqrt(t);return{width:.952436*e*2,height:1.09963*e*2}}},No={name:"marker",draw(t,e){const n=.691*Math.sqrt(e);t.moveTo(.004066*n,-2.757056*n),t.bezierCurveTo(-.462735*n,-2.757056*n,-.841214*n,-2.378661*n,-.841214*n,-1.9117769999999998*n),t.bezierCurveTo(-.841214*n,-1.7810229999999998*n,-.811497*n,-1.6570359999999997*n,-.75842*n,-1.54659*n),t.bezierCurveTo(-.75545*n,-1.5403129999999998*n,.004064999999999985*n,0,.004064999999999985*n,0),t.lineTo(.757389*n,-1.5280999999999998*n),t.bezierCurveTo(.8161619999999999*n,-1.6431679999999997*n,.849344*n,-1.7735959999999997*n,.849344*n,-1.9117769999999998*n),t.bezierCurveTo(.849344*n,-2.378662*n,.470949*n,-2.757056*n,.0040639999999999565*n,-2.757056*n),t.moveTo(.507167*n,n*(-1.404609-.507167)),t.arc(0,n*(-1.404609-.507167),.507167*n,0,2*Math.PI)},bbox(t){const e=Math.sqrt(t);return{width:1.1682*e,height:1.9051*e}},baseline:1},Co={name:"spike",draw(t,e){t.moveTo(-2,0),t.lineTo(0,-e),t.lineTo(2,0)},bbox:t=>({width:4,height:t}),baseline:1},zo=Object.assign(Object.assign({name:"square"},vo),{bbox(t){const e=Math.sqrt(t);return{width:e,height:e}}}),Do=Object.assign(Object.assign({name:"star"},ko),{bbox(t){const e=Math.sqrt(t);return{width:1.7897*e,height:1.7048*e}},baseline:.55}),jo=Object.assign(Object.assign({name:"wye"},Eo),{bbox(t){const e=Math.sqrt(t);return{width:1.472*e,height:1.2763*e}},baseline:.455});const Ro=Math.sqrt(3);var Io={name:"triangleUp",draw(t,e){const n=-Math.sqrt(e/(3*Ro));t.moveTo(0,2*n),t.lineTo(-Ro*n,-n),t.lineTo(Ro*n,-n),t.closePath()},bbox(t){const e=Math.sqrt(t/(3*Ro));return{width:Ro*e*2,height:3*e}},baseline:.66667};const Po=Math.sqrt(3);var Fo={name:"triangleDown",draw(t,e){const n=-Math.sqrt(e/(3*Po));t.moveTo(0,2*-n),t.lineTo(-Po*n,n),t.lineTo(Po*n,n),t.closePath()},bbox(t){const e=Math.sqrt(t/(3*Po));return{width:Po*e*2,height:3*e}},baseline:.3333},Uo=Object.freeze({__proto__:null,symbolCircle:$o,symbolCross:Oo,symbolDiamond:So,symbolHexagon:Lo,symbolMarker:No,symbolSpike:Co,symbolSquare:zo,symbolStar:Do,symbolTriangleDown:Fo,symbolTriangleUp:Io,symbolWye:jo}),Ho=/\s/,Bo=/^\s+/,qo="object"==typeof rt&&rt&&rt.Object===Object&&rt,Yo="object"==typeof self&&self&&self.Object===Object&&self,Wo=(qo||Yo||Function("return this")()).Symbol,Go=Wo,Vo=Object.prototype,Xo=Vo.hasOwnProperty,Ko=Vo.toString,Zo=Go?Go.toStringTag:void 0,Jo=Object.prototype.toString,Qo=Wo?Wo.toStringTag:void 0,ta=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Qo&&Qo in Object(t)?function(t){var e=Xo.call(t,Zo),n=t[Zo];try{t[Zo]=void 0;var r=!0}catch(t){}var i=Ko.call(t);return r&&(e?t[Zo]=n:delete t[Zo]),i}(t):function(t){return Jo.call(t)}(t)},ea=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},na=/^[-+]0x[0-9a-f]+$/i,ra=/^0b[01]+$/i,ia=/^0o[0-7]+$/i,oa=parseInt,aa=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==ta(t)}(t))return NaN;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=function(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&Ho.test(t.charAt(e)););return e}(t)+1).replace(Bo,""):t}(t);var n=ra.test(t);return n||ia.test(t)?oa(t.slice(2),n?2:8):na.test(t)?NaN:+t},sa=it((function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=aa(n))==n?n:0),void 0!==e&&(e=(e=aa(e))==e?e:0),function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}(aa(t),e,n)}));function la(t){let e;function n(t,e){return t[13]?ua:ca}let r=n(t),i=r(t);return{c(){i.c(),e=m()},m(t,n){i.m(t,n),u(t,e,n)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&h(e)}}}function ca(t){let e,n;return{c(){e=p("div"),v(e,"class",n="legend-color buffer ".concat(t[33])),x(e,"width",eo((t[11]?t[11]:t[20])+t[1].size)),x(e,"height",eo(t[18]+t[1].size)),x(e,"background",t[1].color),x(e,"margin-left",t[0]?eo(t[28]):null),x(e,"margin-right",t[0]?null:eo(t[28])),x(e,"position","absolute"),x(e,"z-index","0"),x(e,"right",t[0]?eo(-t[1].size/2):null),x(e,"left",t[0]?null:eo(-t[1].size/2)),x(e,"top",t[5]?"calc(60% - ".concat(t[18]/2+t[1].size,"px)"):eo(-t[1].size/2))},m(t,n){u(t,e,n)},p(t,r){4&r[1]&&n!==(n="legend-color buffer ".concat(t[33]))&&v(e,"class",n),1050626&r[0]&&x(e,"width",eo((t[11]?t[11]:t[20])+t[1].size)),262146&r[0]&&x(e,"height",eo(t[18]+t[1].size)),2&r[0]&&x(e,"background",t[1].color),268435457&r[0]&&x(e,"margin-left",t[0]?eo(t[28]):null),268435457&r[0]&&x(e,"margin-right",t[0]?null:eo(t[28])),3&r[0]&&x(e,"right",t[0]?eo(-t[1].size/2):null),3&r[0]&&x(e,"left",t[0]?null:eo(-t[1].size/2)),262178&r[0]&&x(e,"top",t[5]?"calc(60% - ".concat(t[18]/2+t[1].size,"px)"):eo(-t[1].size/2))},d(t){t&&h(e)}}}function ua(t){let e,n,r,i=t[13].strokeWidth>0&&ha(t),o=t[13].symbol&&fa(t);return{c(){e=d("svg"),i&&i.c(),n=m(),o&&o.c(),v(e,"class",r="legend-color buffer ".concat(t[33])),x(e,"width",eo(t[20])),x(e,"height",eo(t[18])),x(e,"margin-left",t[0]?eo(t[28]):null),x(e,"margin-right",t[0]?null:eo(t[28])),x(e,"position","absolute"),x(e,"z-index","0"),x(e,"right",t[0]?eo(-t[1].size/2):null),x(e,"left",t[0]?null:eo(-t[1].size/2)),x(e,"top","calc(60% - ".concat(t[18]/2+t[1].size,"px)"))},m(t,r){u(t,e,r),i&&i.m(e,null),c(e,n),o&&o.m(e,null)},p(t,a){t[13].strokeWidth>0?i?i.p(t,a):(i=ha(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),t[13].symbol?o?o.p(t,a):(o=fa(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null),4&a[1]&&r!==(r="legend-color buffer ".concat(t[33]))&&v(e,"class",r),1048576&a[0]&&x(e,"width",eo(t[20])),262144&a[0]&&x(e,"height",eo(t[18])),268435457&a[0]&&x(e,"margin-left",t[0]?eo(t[28]):null),268435457&a[0]&&x(e,"margin-right",t[0]?null:eo(t[28])),3&a[0]&&x(e,"right",t[0]?eo(-t[1].size/2):null),3&a[0]&&x(e,"left",t[0]?null:eo(-t[1].size/2)),262146&a[0]&&x(e,"top","calc(60% - ".concat(t[18]/2+t[1].size,"px)"))},d(t){t&&h(e),i&&i.d(),o&&o.d()}}}function ha(t){let e,n,r,i,o,a,s;return{c(){e=d("line"),v(e,"x1",n=t[24][0].x+(t[0]?-t[1].size:0)),v(e,"y1",r=t[24][0].y+(t[19]?t[1].size:t[1].size/4)),v(e,"x2",i=t[24][1].x+(t[0]?0:t[1].size)),v(e,"y2",o=t[24][1].y+t[1].size/4),v(e,"stroke",a=t[1].color),v(e,"stroke-width",s=t[13].strokeWidth+t[1].size),v(e,"stroke-linecap",t[21])},m(t,n){u(t,e,n)},p(t,l){16777219&l[0]&&n!==(n=t[24][0].x+(t[0]?-t[1].size:0))&&v(e,"x1",n),17301506&l[0]&&r!==(r=t[24][0].y+(t[19]?t[1].size:t[1].size/4))&&v(e,"y1",r),16777219&l[0]&&i!==(i=t[24][1].x+(t[0]?0:t[1].size))&&v(e,"x2",i),16777218&l[0]&&o!==(o=t[24][1].y+t[1].size/4)&&v(e,"y2",o),2&l[0]&&a!==(a=t[1].color)&&v(e,"stroke",a),8194&l[0]&&s!==(s=t[13].strokeWidth+t[1].size)&&v(e,"stroke-width",s),2097152&l[0]&&v(e,"stroke-linecap",t[21])},d(t){t&&h(e)}}}function fa(t){let e,n,r,i,o;return{c(){e=d("path"),v(e,"class","symbol"),v(e,"transform",n="translate("+(t[17].x+.5*t[1].size*(t[0]?-1:1))+", "+t[17].y+")"),v(e,"d",t[25]),v(e,"fill",r=t[1].color),v(e,"stroke",i=t[1].color),v(e,"stroke-width",o=t[1].size)},m(t,n){u(t,e,n)},p(t,a){131075&a[0]&&n!==(n="translate("+(t[17].x+.5*t[1].size*(t[0]?-1:1))+", "+t[17].y+")")&&v(e,"transform",n),33554432&a[0]&&v(e,"d",t[25]),2&a[0]&&r!==(r=t[1].color)&&v(e,"fill",r),2&a[0]&&i!==(i=t[1].color)&&v(e,"stroke",i),2&a[0]&&o!==(o=t[1].size)&&v(e,"stroke-width",o)},d(t){t&&h(e)}}}function pa(t){let e,n,r,i=t[6]&&ma(t);return{c(){e=p("div"),i&&i.c(),r=m(),v(e,"class",n="legend-color ".concat(t[33])),x(e,"width",eo(t[11]||t[20])),x(e,"height",eo(t[18])),x(e,"margin-left",t[0]?eo(t[28]):null),x(e,"margin-right",t[0]?null:eo(t[28])),x(e,"background",t[8]),x(e,"mix-blend-mode",t[6]?"screen":null)},m(t,n){u(t,e,n),i&&i.m(t,n),u(t,r,n)},p(t,o){4&o[1]&&n!==(n="legend-color ".concat(t[33]))&&v(e,"class",n),1050624&o[0]&&x(e,"width",eo(t[11]||t[20])),262144&o[0]&&x(e,"height",eo(t[18])),268435457&o[0]&&x(e,"margin-left",t[0]?eo(t[28]):null),268435457&o[0]&&x(e,"margin-right",t[0]?null:eo(t[28])),256&o[0]&&x(e,"background",t[8]),64&o[0]&&x(e,"mix-blend-mode",t[6]?"screen":null),t[6]?i?i.p(t,o):(i=ma(t),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(t){t&&h(e),i&&i.d(t),t&&h(r)}}}function da(t){let e,n,r=t[13].strokeWidth>0&&ya(t),i=t[13].symbol&&va(t);return{c(){e=d("svg"),r&&r.c(),n=m(),i&&i.c(),v(e,"class","legend-color"),x(e,"width",eo(t[20])),x(e,"height",eo(t[18])),x(e,"margin-left",t[0]?eo(t[28]):null),x(e,"margin-right",t[0]?null:eo(t[28]))},m(t,o){u(t,e,o),r&&r.m(e,null),c(e,n),i&&i.m(e,null)},p(t,o){t[13].strokeWidth>0?r?r.p(t,o):(r=ya(t),r.c(),r.m(e,n)):r&&(r.d(1),r=null),t[13].symbol?i?i.p(t,o):(i=va(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null),1048576&o[0]&&x(e,"width",eo(t[20])),262144&o[0]&&x(e,"height",eo(t[18])),268435457&o[0]&&x(e,"margin-left",t[0]?eo(t[28]):null),268435457&o[0]&&x(e,"margin-right",t[0]?null:eo(t[28]))},d(t){t&&h(e),r&&r.d(),i&&i.d()}}}function ga(t){let e,n,r,i,o,a,s,l,f,p,g,m;return{c(){e=d("svg"),n=d("defs"),r=d("pattern"),i=d("line"),p=d("rect"),v(i,"x1",o=t[30]/2),v(i,"y1","0"),v(i,"x2",a=t[30]/2),v(i,"y2",t[30]),v(i,"stroke",t[8]),v(i,"stroke-width",s=t[12].strokeWidth),v(r,"id",l="color-legend-fill-pattern-".concat(t[2])),v(r,"patternTransform",f="rotate(".concat(180-(t[31]||0)," 0 0)")),v(r,"patternUnits","userSpaceOnUse"),v(r,"width",t[30]),v(r,"height",t[30]),v(p,"width",g=t[11]||t[20]),v(p,"height",t[18]),v(p,"fill",m="url(#color-legend-fill-pattern-".concat(t[2],")")),v(p,"rx",t[23]),v(p,"ry",t[23]),v(e,"class","legend-color"),x(e,"width",eo(t[11]||t[20])),x(e,"height",eo(t[18])),x(e,"margin-left",t[0]?eo(t[28]):null),x(e,"margin-right",t[0]?null:eo(t[28]))},m(t,o){u(t,e,o),c(e,n),c(n,r),c(r,i),c(e,p)},p(t,n){1073741824&n[0]&&o!==(o=t[30]/2)&&v(i,"x1",o),1073741824&n[0]&&a!==(a=t[30]/2)&&v(i,"x2",a),1073741824&n[0]&&v(i,"y2",t[30]),256&n[0]&&v(i,"stroke",t[8]),4096&n[0]&&s!==(s=t[12].strokeWidth)&&v(i,"stroke-width",s),4&n[0]&&l!==(l="color-legend-fill-pattern-".concat(t[2]))&&v(r,"id",l),1&n[1]&&f!==(f="rotate(".concat(180-(t[31]||0)," 0 0)"))&&v(r,"patternTransform",f),1073741824&n[0]&&v(r,"width",t[30]),1073741824&n[0]&&v(r,"height",t[30]),1050624&n[0]&&g!==(g=t[11]||t[20])&&v(p,"width",g),262144&n[0]&&v(p,"height",t[18]),4&n[0]&&m!==(m="url(#color-legend-fill-pattern-".concat(t[2],")"))&&v(p,"fill",m),8388608&n[0]&&v(p,"rx",t[23]),8388608&n[0]&&v(p,"ry",t[23]),1050624&n[0]&&x(e,"width",eo(t[11]||t[20])),262144&n[0]&&x(e,"height",eo(t[18])),268435457&n[0]&&x(e,"margin-left",t[0]?eo(t[28]):null),268435457&n[0]&&x(e,"margin-right",t[0]?null:eo(t[28]))},d(t){t&&h(e)}}}function ma(t){let e,n;return{c(){e=p("div"),v(e,"class",n="legend-color blend-multiply-background ".concat(t[33])),x(e,"width",eo(t[11]||t[20])),x(e,"height",eo(t[18])),x(e,"margin-left",t[0]?null:eo(-(t[11]||t[20])-t[28])),x(e,"margin-right",t[0]?eo(-(t[11]||t[20])-t[28]):null),x(e,"background",t[7]),x(e,"position","relative"),x(e,"z-index","-1")},m(t,n){u(t,e,n)},p(t,r){4&r[1]&&n!==(n="legend-color blend-multiply-background ".concat(t[33]))&&v(e,"class",n),1050624&r[0]&&x(e,"width",eo(t[11]||t[20])),262144&r[0]&&x(e,"height",eo(t[18])),269486081&r[0]&&x(e,"margin-left",t[0]?null:eo(-(t[11]||t[20])-t[28])),269486081&r[0]&&x(e,"margin-right",t[0]?eo(-(t[11]||t[20])-t[28]):null),128&r[0]&&x(e,"background",t[7])},d(t){t&&h(e)}}}function ya(t){let e,n,r,i,o,a,s;return{c(){e=d("line"),v(e,"x1",n=t[24][0].x),v(e,"y1",r=t[24][0].y),v(e,"x2",i=t[24][1].x),v(e,"y2",o=t[24][1].y),v(e,"stroke",t[8]),v(e,"stroke-width",a=t[13].strokeWidth),v(e,"stroke-dasharray",s=t[13].dashArray),v(e,"stroke-linecap",t[21])},m(t,n){u(t,e,n)},p(t,l){16777216&l[0]&&n!==(n=t[24][0].x)&&v(e,"x1",n),16777216&l[0]&&r!==(r=t[24][0].y)&&v(e,"y1",r),16777216&l[0]&&i!==(i=t[24][1].x)&&v(e,"x2",i),16777216&l[0]&&o!==(o=t[24][1].y)&&v(e,"y2",o),256&l[0]&&v(e,"stroke",t[8]),8192&l[0]&&a!==(a=t[13].strokeWidth)&&v(e,"stroke-width",a),8192&l[0]&&s!==(s=t[13].dashArray)&&v(e,"stroke-dasharray",s),2097152&l[0]&&v(e,"stroke-linecap",t[21])},d(t){t&&h(e)}}}function va(t){let e,n,r,i,o,a;return{c(){var s;e=d("path"),v(e,"class","symbol"),v(e,"transform",n="translate("+t[17].x+", "+t[17].y+")"),v(e,"d",t[25]),v(e,"fill",r="hollow"===t[26]?null===(s=t[3].colors)||void 0===s?void 0:s.background:t[8]),v(e,"stroke",i="hollow"===t[26]?t[8]:null),v(e,"stroke-width",o="hollow"===t[26]?t[13].strokeWidth:null),v(e,"opacity",a=t[13].symbol.opacity)},m(t,n){u(t,e,n)},p(t,s){var l;131072&s[0]&&n!==(n="translate("+t[17].x+", "+t[17].y+")")&&v(e,"transform",n),33554432&s[0]&&v(e,"d",t[25]),67109128&s[0]&&r!==(r="hollow"===t[26]?null===(l=t[3].colors)||void 0===l?void 0:l.background:t[8])&&v(e,"fill",r),67109120&s[0]&&i!==(i="hollow"===t[26]?t[8]:null)&&v(e,"stroke",i),67117056&s[0]&&o!==(o="hollow"===t[26]?t[13].strokeWidth:null)&&v(e,"stroke-width",o),8192&s[0]&&a!==(a=t[13].symbol.opacity)&&v(e,"opacity",a)},d(t){t&&h(e)}}}function ba(t){let e,n=t[4](t[22])+"";return{c(){e=p("div"),v(e,"class","legend-label"),x(e,"text-shadow",t[1]?t[1].textShadow:null),x(e,"color",t[27])},m(t,r){u(t,e,r),e.innerHTML=n},p(t,r){4194320&r[0]&&n!==(n=t[4](t[22])+"")&&(e.innerHTML=n),2&r[0]&&x(e,"text-shadow",t[1]?t[1].textShadow:null),134217728&r[0]&&x(e,"color",t[27])},d(t){t&&h(e)}}}function xa(t){let e,n,r=t[4](t[9])+"";return{c(){e=new k(!1),n=m(),e.a=n},m(t,i){e.m(r,t,i),u(t,n,i)},p(t,n){528&n[0]&&r!==(r=t[4](t[9])+"")&&e.p(r)},d(t){t&&h(n),t&&e.d()}}}function wa(t){let e,n,r=t[4](t[32])+"";return{c(){e=new k(!1),n=m(),e.a=n},m(t,i){e.m(r,t,i),u(t,n,i)},p(t,n){16&n[0]|2&n[1]&&r!==(r=t[4](t[32])+"")&&e.p(r)},d(t){t&&h(n),t&&e.d()}}}function ka(t){let n,r,i,a,s,l,f,d=t[1]&&la(t);function g(t,e){return t[12]?ga:t[13]&&(t[13].strokeWidth>0||t[13].symbol)?da:pa}let b=g(t),k=b(t),_=t[5]&&ba(t);function M(t,e){return t[5]?wa:xa}let A=M(t),T=A(t);return{c(){n=p("div"),r=p("div"),d&&d.c(),i=m(),k.c(),a=m(),_&&_.c(),s=p("div"),T.c(),v(r,"class","legend-no-break"),v(s,"class","legend-label"),x(s,"text-shadow",t[1]?t[1].textShadow:null),x(s,"color",t[27]),v(n,"class","legend-swatch"),v(n,"aria-hidden","true"),w(n,"highlight",t[16]),x(n,"margin-left",t[0]?eo(t[29]):null),x(n,"margin-right",t[0]?null:eo(t[29])),x(n,"--swatch-height",eo(t[18]))},m(e,o){u(e,n,o),c(n,r),d&&d.m(r,null),c(r,i),k.m(r,null),c(r,a),_&&_.m(r,null),c(n,s),T.m(s,null),l||(f=[y(n,"mouseenter",t[42]),y(n,"click",t[43]),y(n,"mousemove",t[40]),y(n,"mouseleave",t[41])],l=!0)},p(t,e){t[1]?d?d.p(t,e):(d=la(t),d.c(),d.m(r,i)):d&&(d.d(1),d=null),b===(b=g(t))&&k?k.p(t,e):(k.d(1),k=b(t),k&&(k.c(),k.m(r,a))),t[5]?_?_.p(t,e):(_=ba(t),_.c(),_.m(r,null)):_&&(_.d(1),_=null),A===(A=M(t))&&T?T.p(t,e):(T.d(1),T=A(t),T&&(T.c(),T.m(s,null))),2&e[0]&&x(s,"text-shadow",t[1]?t[1].textShadow:null),134217728&e[0]&&x(s,"color",t[27]),65536&e[0]&&w(n,"highlight",t[16]),536870913&e[0]&&x(n,"margin-left",t[0]?eo(t[29]):null),536870913&e[0]&&x(n,"margin-right",t[0]?null:eo(t[29])),262144&e[0]&&x(n,"--swatch-height",eo(t[18]))},i:e,o:e,d(t){t&&h(n),d&&d.d(),k.d(),_&&_.d(),T.d(),l=!1,o(f)}}}function _a(t,e,n){let r,i,o,a,s,l,c,u,h,f,p,d,g,m,y,v;const b=A();let{rtl:x}=e,{buffer:w}=e,{id:k}=e,{themeData:_}=e,{chroma:M}=e,{purifyHtml:E}=e,{horizontal:$=!0}=e,{blendMultiply:O=!1}=e,{blendMultiplyBackground:S=""}=e;if(O&&!S)throw new Error("Property 'blendMultiplyBackground' missing from legend");let{color:L}=e,{label:N}=e,{key:C}=e,{width:z}=e,{pattern:D}=e,{line:j}=e,{min:R}=e,{max:I}=e,{highlight:P=!1}=e;const F={horizontal:90,vertical:0,"diagonal-up":135,"diagonal-down":45};let U,H,B,q="fill";const Y={x:0,y:0};return t.$$set=t=>{"rtl"in t&&n(0,x=t.rtl),"buffer"in t&&n(1,w=t.buffer),"id"in t&&n(2,k=t.id),"themeData"in t&&n(3,_=t.themeData),"chroma"in t&&n(35,M=t.chroma),"purifyHtml"in t&&n(4,E=t.purifyHtml),"horizontal"in t&&n(5,$=t.horizontal),"blendMultiply"in t&&n(6,O=t.blendMultiply),"blendMultiplyBackground"in t&&n(7,S=t.blendMultiplyBackground),"color"in t&&n(8,L=t.color),"label"in t&&n(9,N=t.label),"key"in t&&n(10,C=t.key),"width"in t&&n(11,z=t.width),"pattern"in t&&n(12,D=t.pattern),"line"in t&&n(13,j=t.line),"min"in t&&n(14,R=t.min),"max"in t&&n(15,I=t.max),"highlight"in t&&n(16,P=t.highlight)},t.$$.update=()=>{var e,b,x,w,k,A,T,E;if(8&t.$$.dirty[0]&&n(23,r=nt(_,"vis.base.legend.swatch.borderRadius")),8388608&t.$$.dirty[0]&&n(33,i="50%"===r?"dw-circle":"export-rect"),512&t.$$.dirty[0]&&n(22,o=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const e=t.trim().indexOf(" "),n=t.trim().indexOf("-");return e<0&&n<0?t:n<0||e>0&&e<n?t.slice(0,e):t.slice(0,n+1)}(N)),4194816&t.$$.dirty[0]&&n(32,a=function(t,e){const n=t.slice(e.length),r=e.match(/<(\w*)>/);if(r){const t=r[1];if(!e.match(new RegExp("</".concat(t,">"),"g")))return"".concat(" "===n.charAt(0)?" ":"","<").concat(t,">").concat(n.trim())}return n}(N,o)),4096&t.$$.dirty[0]&&n(31,s=D?F[D.type]:0),4096&t.$$.dirty[0]&&n(30,l=D?D.lineGap+D.strokeWidth:0),8&t.$$.dirty[0]&&n(29,c=nt(_,"vis.base.legend.text.marginRight",10)),8&t.$$.dirty[0]&&n(28,u=nt(_,"vis.base.legend.swatch.marginRight",3)),8&t.$$.dirty[0]&&n(19,y=nt(_,"vis.base.legend.swatch.diagonal",!1)),532488&t.$$.dirty[0]&&n(20,h=j?nt(_,"vis.d3-lines.legend.swatch.width",16):nt(_,"vis.base.legend.swatch.width",nt(_,"vis.base.legend.swatch.size",14))),1581064&t.$$.dirty[0]&&n(18,f=j?y?h:nt(_,"vis.d3-lines.legend.swatch.height",20):nt(_,"vis.base.legend.swatch.height",nt(_,"vis.base.legend.swatch.size",14))),8&t.$$.dirty[0]&&n(39,p=nt(_,"colors.background","#ffffff")),264&t.$$.dirty[0]|272&t.$$.dirty[1]&&n(27,d=nt(_,"vis.base.legend.text.useSwatchColor")&&function(t,e,n,r){const[i,o,a]=r(t).lch(),s=r(e).lch()[0];if(r.contrast(t,e)>=n)return t;const l=r.contrast("#000000",e),c=r.contrast("#ffffff",e),u=s>i&&l>=n||s<=i&&c<n;return u?h(0,i,10):h(i,100,10);function h(t,i,s){const l=.5*(t+i),c=r.lch(l,o,a),f=r.contrast(c,e);return Math.abs(f-n)<.2||!s?c.hex():f<n&&u||f>n&&!u?h(t,l,s-1):h(l,i,s-1)}}(L,p,4.5,M)),8&t.$$.dirty[0]&&n(21,g=nt(_,"vis.d3-lines.legend.swatch.linecap","round")),2105344&t.$$.dirty[0]&&n(38,m=j&&"butt"!==g?.5*j.strokeWidth:0),8192&t.$$.dirty[0]&&n(37,v=null!==(e=j)&&void 0!==e&&e.symbol?(null===(b=j)||void 0===b||null===(b=b.symbol)||void 0===b?void 0:b.position)||"center":null),8192&t.$$.dirty[0]&&null!==(x=j)&&void 0!==x&&x.symbol&&n(36,H=2*sa((null===(w=j)||void 0===w?void 0:w.symbol.size)||3.5,1,4)),1843200&t.$$.dirty[0]|96&t.$$.dirty[1]&&null!==(k=j)&&void 0!==k&&k.symbol&&(n(17,Y.x="left"===v?H/2+j.strokeWidth:"right"===v?h-H/2-j.strokeWidth:h/2,Y),n(17,Y.y=y&&"left"===v?f-H/2-j.strokeWidth:y&&"right"===v?H/2+j.strokeWidth:f/2,Y)),1974272&t.$$.dirty[0]|192&t.$$.dirty[1]&&n(24,U=j?[{x:"left"===v?Y.x:m,y:y?"left"===v?Y.y:f-m:f/2},{x:"right"===v?Y.x:h-m,y:y?"right"===v?Y.y:m:f/2}]:[{x:0,y:0},{x:0,y:0}]),8192&t.$$.dirty[0]|32&t.$$.dirty[1]&&null!==(A=j)&&void 0!==A&&A.symbol){const t=go(),e=j.symbol,r=Object.values(Uo).find(t=>t.name===e.shape);if(void 0===r)throw new Error("'".concat(e.shape,"' is not a valid shape"));const i=Math.pow(H/2,2)*Math.PI;r.draw(t,i),n(25,B=t.toString())}8192&t.$$.dirty[0]&&(null===(T=j)||void 0===T?void 0:T.symbol)&&n(26,q=(null===(E=j)||void 0===E?void 0:E.symbol.style)||"fill")},[x,w,k,_,E,$,O,S,L,N,C,z,D,j,R,I,P,Y,f,y,h,g,o,r,U,B,q,d,u,c,l,s,a,i,b,M,H,v,m,p,function(e){T.call(this,t,e)},function(e){T.call(this,t,e)},()=>b("mouseenter",{key:C,label:N,color:L,min:R,max:I,value:C}),()=>b("mouseenter",{key:C,label:N,color:L,min:R,max:I,value:C})]}class Ma extends K{constructor(t){super(),X(this,t,_a,ka,s,{rtl:0,buffer:1,id:2,themeData:3,chroma:35,purifyHtml:4,horizontal:5,blendMultiply:6,blendMultiplyBackground:7,color:8,label:9,key:10,width:11,pattern:12,line:13,min:14,max:15,highlight:16},null,[-1,-1])}}function Aa(t,e,n){const{css:r,getProp:i,typography:o}=to(t,e),a="vis.base.legend.caption",s="vis.base.labels.legend",l=i("vis.base.legend.alignment"),c="below"===n;return r(oh||(oh=qu(["\n        text-align: ",";\n        &.dir-rtl {\n            direction: rtl;\n            text-align: ",";\n        }\n\n        padding-top: ",";\n        padding-bottom: ",";\n\n        width: ",";\n        height: ",";\n\n        .legend-title {\n            position: relative;\n            margin-bottom: ",";\n        }\n        .legend-title,\n        .legend-title span {\n            text-shadow: none;\n            ","\n        }\n        .legend-title:not(.buffer) > span {\n            position: relative;\n            z-index: 10;\n        }\n        .legend-title.buffer {\n            position: absolute;\n            top: 0;\n            width: 100%;\n            z-index: 1;\n        }\n        text:not(.buffer) {\n            fill: currentColor;\n        }\n        g.group text.label,\n        g.group text.label tspan,\n        g.swatch text,\n        g.swatch text tspan {\n            font-size: ",";\n            font-family: ",";\n        }\n    "])),l,("left"===l?"right":"right"===l?"left":null)||l,eo(c?i("vis.base.legend.padding.bottom",10):i("vis.base.legend.padding.top")),eo(c?i("vis.base.legend.padding.top"):i("vis.base.legend.padding.bottom",10)),eo(i("".concat(s,".width"))),eo(i("".concat(s,".height"))),eo(i("".concat(a,".margin.vertical"),4)),o(nt(e,a),{fontWeight:700}),eo(i("vis.base.labels.legend.fontSize")),i("vis.base.labels.legend.typeface"))}function Ta(t,e){const{css:n}=to(t,e);return n(ah||(ah=qu(["\n        /* general styles */\n        svg {\n            overflow: visible;\n            display: block;\n        }\n\n        &.dir-rtl {\n            direction: rtl;\n        }\n\n        /* shared styles */\n        g.group text.label,\n        g.group text.label tspan {\n            dominant-baseline: middle;\n        }\n\n        g.swatch path.tick {\n            shape-rendering: crispEdges;\n        }\n\n        g.swatch text {\n            transition: opacity 0.15s ease-in-out;\n        }\n\n        &.vertical {\n            & g.swatch text,\n            & g.swatch text tspan {\n                text-anchor: start;\n                dominant-baseline: middle;\n            }\n\n            & g.labels text,\n            & g.labels text tspan {\n                text-anchor: start;\n            }\n\n            & .group text.label,\n            & .group text.label tspan {\n                dominant-baseline: middle;\n            }\n\n            &:not(.dir-rtl) {\n                & .group text.label,\n                & .group text.label tspan {\n                    text-anchor: end;\n                }\n            }\n\n            &.dir-rtl {\n                & .group text.label,\n                & .group text.label tspan {\n                    text-anchor: start;\n                }\n            }\n        }\n\n        &.horizontal {\n            & g.swatch text,\n            & g.swatch text tspan {\n                text-anchor: middle;\n                dominant-baseline: hanging;\n            }\n\n            & g.labels text,\n            & g.labels text tspan {\n                dominant-baseline: hanging;\n            }\n        }\n\n        & g.highlighted g.swatch {\n            & text {\n                opacity: 0.3;\n            }\n\n            & rect,\n            & path {\n                opacity: 0.2;\n            }\n\n            &.highlight {\n                & text,\n                & rect,\n                & path {\n                    opacity: 1;\n                }\n            }\n        }\n    "])))}const Ea="accessibility / color-legend / ";function $a(t,e){let{colors:n,title:r="",format:i,swatches:o,limits:a}=e;const s=e=>t("".concat(Ea).concat(e));if("function"==typeof n&&a){const[t,e]=[a[0],a[a.length-1]].map(i);return r?s("continuous-title").replace("%title%",r).replace("%from%",t).replace("%to%",e):s("continuous").replace("%from%",t).replace("%to%",e)}{if(!o||!o.length)return"";const[t,e]=[o[0].label,o[o.length-1].label].map(t=>t.replace("<",s("less-than")).replace("≥",s("greater-equal-than")));return r?s("stepped-title").replace("%title%",r).replace("%count%",String(o.length)).replace("%from%",t).replace("%to%",e):s("stepped").replace("%count%",String(o.length)).replace("%from%",t).replace("%to%",e)}}function Oa(t,e){return"ListFormat"in Intl?new Intl.ListFormat(t).format(e):e.join(", ")}function Sa(t,e,n,r){if(!n||!n.length)return"";const i=e=>t("".concat(Ea).concat(e)),o=n.map(t=>t.label),a=o.length<=5?i("category-items-few").replace("%items%",Oa(e,[...o.slice(0,-1),o[o.length-1]])):i("category-items-many").replace("%items%",Oa(e,o.slice(0,3))).replace("%last%",o[o.length-1]);return 1===o.length?r?i("category-single-title").replace("%title%",r).replace("%item%",o[0]):i("category-single").replace("%item%",o[0]):o.length<=5?r?i("category-few-title").replace("%count%",String(o.length)).replace("%title%",r).replace("%items_description%",a):i("category-few").replace("%count%",String(o.length)).replace("%items_description%",a):r?i("category-many-title").replace("%count%",String(o.length)).replace("%title%",r).replace("%items_description%",a):i("category-many").replace("%count%",String(o.length)).replace("%items_description%",a)}function La(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700,r=null,i=!1,o=!0;return{set(a){let s=a;"string"!=typeof a&&(s=JSON.stringify(a)),r!==s&&(e&&clearTimeout(e),e=setTimeout(()=>{o=!1,t(a)},o?n:0)),r=s,i=!0},clear(){i&&null===r||(r=null,o=!0,e&&clearTimeout(e),t(null)),i=!0},get:()=>r}}function Na(t,e){const n="ontouchstart"in window||navigator.maxTouchPoints,r=La(t=>{o&&o("string"==typeof t||"number"==typeof t?t:null)},n?0:700),i=e=>{r.clear(),t(e.type)};let o;return{onMouseEnter:n=>{e&&r.set(n.detail.key),t(n.type,n.detail)},onMouseLeave:i,onClick:t=>{n&&t.target instanceof HTMLElement&&t.target.closest("#chart")&&i(new MouseEvent("mouseleave"))},onHighlight:t=>{o=t}}}function Ca(t){const e={size:5,color:t};return{...e,textStroke:"".concat(e.size,"px ").concat(e.color),textShadow:"1px 1px 0px ".concat(e.color,", 0px 1px 0px ").concat(e.color,", -1px 1px 0px ").concat(e.color,", 1px -1px 0px ").concat(e.color,", 0px -1px 0px ").concat(e.color,", -1px -1px 0px ").concat(e.color,", 1px 0px 0px ").concat(e.color,", 0px 0px 0px ").concat(e.color,", -1px 0px 0px ").concat(e.color),svgTextStyles:{fill:e.color,stroke:e.color,"stroke-width":e.size,"stroke-linejoin":"round"}}}function za(t,e,n){const r=t.slice();return r[35]=e[n],r[37]=n,r}function Da(t){let e,n,r=t[19],i=[];for(let e=0;e<r.length;e+=1)i[e]=ja(za(t,r,e));const o=t=>Y(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=m()},m(t,r){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,r);u(t,e,r),n=!0},p(t,n){if(20453757&n[0]){let a;for(r=t[19],a=0;a<r.length;a+=1){const o=za(t,r,a);i[a]?(i[a].p(o,n),q(i[a],1)):(i[a]=ja(o),i[a].c(),q(i[a],1),i[a].m(e.parentNode,e))}for(H(),a=r.length;a<i.length;a+=1)o(a);B()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)q(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Y(i[t]);n=!1},d(t){f(i,t),t&&h(e)}}}function ja(t){let e,r;const i=[t[35],{id:"".concat(t[24],"-").concat(t[37])},{rtl:t[4]},{themeData:t[8]},{chroma:t[5]},{purifyHtml:t[6]},{buffer:t[20]},{highlight:t[0]?t[0]===t[35].key:t[3].includes(t[35].key)},{blendMultiply:t[11]},{blendMultiplyBackground:t[12]},{horizontal:t[2]}];let o={};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new Ma({props:o}),e.$on("mouseenter",t[21]),{c(){W(e.$$.fragment)},m(t,n){G(e,t,n),r=!0},p(t,n){const r=18356605&n[0]?function(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}(i,[524288&n[0]&&(o=t[35],"object"==typeof o&&null!==o?o:{}),16777216&n[0]&&{id:"".concat(t[24],"-").concat(t[37])},16&n[0]&&{rtl:t[4]},256&n[0]&&{themeData:t[8]},32&n[0]&&{chroma:t[5]},64&n[0]&&{purifyHtml:t[6]},1048576&n[0]&&{buffer:t[20]},524297&n[0]&&{highlight:t[0]?t[0]===t[35].key:t[3].includes(t[35].key)},2048&n[0]&&{blendMultiply:t[11]},4096&n[0]&&{blendMultiplyBackground:t[12]},4&n[0]&&{horizontal:t[2]}]):{};var o;e.$set(r)},i(t){r||(q(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){V(e,t)}}}function Ra(t){let e,n,r,i,o,a=t[7]&&Da(t);return{c(){e=p("div"),a&&a.c(),v(e,"class",n=["legend-categories",t[17],t[16],t[15],t[2]?"horizontal":"vertical"].join(" ")),w(e,"highlighted",""!==t[0]||t[3].length)},m(n,s){u(n,e,s),a&&a.m(e,null),r=!0,i||(o=y(e,"mouseleave",t[22]),i=!0)},p(t,i){t[7]?a?(a.p(t,i),128&i[0]&&q(a,1)):(a=Da(t),a.c(),q(a,1),a.m(e,null)):a&&(H(),Y(a,1,1,()=>{a=null}),B()),(!r||229380&i[0]&&n!==(n=["legend-categories",t[17],t[16],t[15],t[2]?"horizontal":"vertical"].join(" ")))&&v(e,"class",n),(!r||229389&i[0])&&w(e,"highlighted",""!==t[0]||t[3].length)},i(t){r||(q(a),r=!0)},o(t){Y(a),r=!1},d(t){t&&h(e),a&&a.d(),i=!1,o()}}}function Ia(t){let e,n,r,i;return e=new et({props:{title:t[1],buffer:t[20],className:["category-legend",t[2]?"horizontal":"vertical",t[16],t[15],t[18]].join(" "),width:eo(t[9]),height:eo(t[10]),ariaLabel:Sa(t[13],t[14],t[19],t[1]),purifyHtml:t[6],$$slots:{default:[Ra]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(o,a){G(e,o,a),n=!0,r||(i=y(window,"click",t[23]),r=!0)},p(t,n){const r={};2&n[0]&&(r.title=t[1]),1048576&n[0]&&(r.buffer=t[20]),360452&n[0]&&(r.className=["category-legend",t[2]?"horizontal":"vertical",t[16],t[15],t[18]].join(" ")),512&n[0]&&(r.width=eo(t[9])),1024&n[0]&&(r.height=eo(t[10])),548866&n[0]&&(r.ariaLabel=Sa(t[13],t[14],t[19],t[1])),64&n[0]&&(r.purifyHtml=t[6]),1808893&n[0]|128&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){V(e,t),r=!1,i()}}}function Pa(t,e,n){let r,i,o,a,s,l,c,u;const h=A();let{title:f=""}=e,{horizontal:p=!0}=e,{highlight:d=!1}=e,{defaultHighlighted:g=[]}=e,{reverse:m=!1}=e,{rtl:y=!1}=e,{emotion:v}=e,{chroma:b}=e,{purifyHtml:x}=e,{swatches:w}=e,{themeData:k={}}=e,{width:_="100%"}=e,{height:M="auto"}=e,{position:T="above"}=e,{buffer:E=!1}=e,{blendMultiply:$=!1}=e,{blendMultiplyBackground:O=""}=e,{translate:S}=e,{locale:L}=e,{highlightedKey:N=""}=e,{highlightedValue:C=null}=e;const{onMouseEnter:z,onMouseLeave:D,onClick:j,onHighlight:R}=Na(h,d);R(t=>{n(0,N=t||""),""===N&&n(25,C=null)});const I=Math.random().toString().replace(".","");return t.$$set=t=>{"title"in t&&n(1,f=t.title),"horizontal"in t&&n(2,p=t.horizontal),"highlight"in t&&n(26,d=t.highlight),"defaultHighlighted"in t&&n(3,g=t.defaultHighlighted),"reverse"in t&&n(27,m=t.reverse),"rtl"in t&&n(4,y=t.rtl),"emotion"in t&&n(28,v=t.emotion),"chroma"in t&&n(5,b=t.chroma),"purifyHtml"in t&&n(6,x=t.purifyHtml),"swatches"in t&&n(7,w=t.swatches),"themeData"in t&&n(8,k=t.themeData),"width"in t&&n(9,_=t.width),"height"in t&&n(10,M=t.height),"position"in t&&n(29,T=t.position),"buffer"in t&&n(30,E=t.buffer),"blendMultiply"in t&&n(11,$=t.blendMultiply),"blendMultiplyBackground"in t&&n(12,O=t.blendMultiplyBackground),"translate"in t&&n(13,S=t.translate),"locale"in t&&n(14,L=t.locale),"highlightedKey"in t&&n(0,N=t.highlightedKey),"highlightedValue"in t&&n(25,C=t.highlightedValue)},t.$$.update=()=>{var e;256&t.$$.dirty[0]&&n(32,r=nt(k,"colors.background","white")),1073741824&t.$$.dirty[0]|2&t.$$.dirty[1]&&n(20,i=E&&Ca(r)),32&t.$$.dirty[0]|2&t.$$.dirty[1]&&n(31,o=b(r).lab()[0]<50),134217856&t.$$.dirty[0]&&n(19,a=m?w.slice(0).reverse():w),805306624&t.$$.dirty[0]&&n(18,s=v&&Aa(v,k,T)),268435712&t.$$.dirty[0]&&n(17,l=v&&function(t,e){const{css:n,getProp:r,typography:i}=to(t,e);return n(sh||(sh=qu(["\n        line-height: 1.4;\n        ","\n\n        svg {\n            overflow: visible;\n            border-radius: ",";\n            vertical-align: middle;\n            position: relative;\n            z-index: 10;\n        }\n\n        .legend-color {\n            display: inline-block;\n            vertical-align: middle;\n            border-radius: ",";\n            position: relative;\n            z-index: 10;\n        }\n\n        &:not(.dir-rtl) .legend-color {\n            margin-right: 3px;\n        }\n        &.dir-rtl .legend-color {\n            margin-left: 3px;\n        }\n\n        .legend-no-break {\n            white-space: nowrap;\n            display: inline-block;\n            position: relative;\n        }\n\n        .legend-label {\n            display: inline;\n            white-space: normal;\n            vertical-align: middle;\n            position: relative;\n        }\n        .legend-label span {\n            position: relative;\n            z-index: 10;\n        }\n        .legend-label.buffer {\n            position: absolute;\n            right: 0;\n            z-index: 1;\n        }\n\n        .legend-swatch {\n            margin-bottom: 3px;\n            margin-bottom: ",";\n        }\n        &.horizontal:not(.dir-rtl) .legend-swatch {\n            margin-right: 10px;\n        }\n        &.horizontal.dir-rtl .legend-swatch {\n            margin-left: 10px;\n        }\n        &.horizontal .legend-swatch {\n            display: inline;\n        }\n        &.horizontal .legend-swatch .legend-color {\n            display: inline-block;\n        }\n        /* if br tag is present in label, we force swatch to be full width */\n        &.horizontal .legend-swatch:has(br) {\n            display: block;\n        }\n        &.vertical .legend-swatch {\n            display: grid;\n            grid-template-columns: auto 1fr;\n            min-height: var(--swatch-height);\n            grid-template-rows: max(1lh, var(--swatch-height)) auto;\n        }\n        &.vertical .legend-no-break {\n            display: grid;\n            align-content: center;\n        }\n        &.vertical .legend-color {\n            grid-column: 1;\n            grid-row: 1;\n        }\n        &.vertical .legend-label {\n            grid-row: span 2;\n            align-self: center;\n        }\n\n        &.highlighted .legend-swatch {\n            opacity: 0.3;\n            transition: opacity 0.15s ease-in-out;\n        }\n        &.highlighted.is-dark .legend-swatch {\n            opacity: 0.4;\n        }\n        &.highlighted .legend-swatch.highlight {\n            opacity: 1;\n        }\n    "])),i(nt(e,"vis.base.labels.legend")),eo(r("vis.base.legend.swatch.borderRadius")),eo(r("vis.base.legend.swatch.borderRadius")),eo(r("vis.base.legend.rowSpacing")))}(v,k)),16&t.$$.dirty[0]&&n(16,c=y?"dir-rtl":"dir-ltr"),1&t.$$.dirty[1]&&n(15,u=o?"is-dark":""),33554560&t.$$.dirty[0]&&n(0,N=(null===(e=w.find(t=>{if(null!==C&&t.min&&t.max)return C>=t.min&&C<t.max}))||void 0===e?void 0:e.key)||"")},[N,f,p,g,y,b,x,w,k,_,M,$,O,S,L,u,c,l,s,a,i,z,D,j,I,C,d,m,v,T,E,o,r]}class Fa extends K{constructor(t){super(),X(this,t,Pa,Ia,s,{title:1,horizontal:2,highlight:26,defaultHighlighted:3,reverse:27,rtl:4,emotion:28,chroma:5,purifyHtml:6,swatches:7,themeData:8,width:9,height:10,position:29,buffer:30,blendMultiply:11,blendMultiplyBackground:12,translate:13,locale:14,highlightedKey:0,highlightedValue:25},null,[-1,-1])}}function Ua(t,e,n){const r=t.slice();return r[64]=e[n],r}function Ha(t,e,n){const r=t.slice();return r[67]=e[n],r[69]=n,r}function Ba(t,e,n){const r=t.slice();return r[70]=e[n],r[72]=n,r}function qa(t,e,n){const r=t.slice();return r[70]=e[n],r[72]=n,r}function Ya(t){let e,n,r,i,o,a,s,l;return{c(){e=d("g"),n=d("path"),i=d("rect"),v(n,"class","triangle"),v(n,"d",t[19]),v(n,"transform",r="translate(".concat(t[18].join(","),")")),x(n,"fill",t[24].svgTextStyles.fill),x(n,"stroke",t[24].svgTextStyles.stroke),x(n,"stroke-width",t[24].svgTextStyles["stroke-width"]),x(n,"stroke-linejoin",t[24].svgTextStyles["stroke-linejoin"]),v(e,"class","highlight"),v(e,"aria-hidden","true"),v(e,"style",t[15]),v(i,"class","buffer"),v(i,"width",o=(t[3]?t[4]:t[12])+t[24].size),v(i,"height",a=(t[3]?t[12]:t[5])+t[24].size),v(i,"x",s=-t[24].size/2),v(i,"y",l=-t[24].size/2),x(i,"fill",t[24].color),x(i,"pointer-events","none")},m(t,r){u(t,e,r),c(e,n),u(t,i,r)},p(t,c){524288&c[0]&&v(n,"d",t[19]),262144&c[0]&&r!==(r="translate(".concat(t[18].join(","),")"))&&v(n,"transform",r),16777216&c[0]&&x(n,"fill",t[24].svgTextStyles.fill),16777216&c[0]&&x(n,"stroke",t[24].svgTextStyles.stroke),16777216&c[0]&&x(n,"stroke-width",t[24].svgTextStyles["stroke-width"]),16777216&c[0]&&x(n,"stroke-linejoin",t[24].svgTextStyles["stroke-linejoin"]),32768&c[0]&&v(e,"style",t[15]),16781336&c[0]&&o!==(o=(t[3]?t[4]:t[12])+t[24].size)&&v(i,"width",o),16781352&c[0]&&a!==(a=(t[3]?t[12]:t[5])+t[24].size)&&v(i,"height",a),16777216&c[0]&&s!==(s=-t[24].size/2)&&v(i,"x",s),16777216&c[0]&&l!==(l=-t[24].size/2)&&v(i,"y",l),16777216&c[0]&&x(i,"fill",t[24].color)},d(t){t&&h(e),t&&h(i)}}}function Wa(t){let e,n,r;return{c(){e=d("rect"),v(e,"width",n=t[3]?t[4]:t[12]),v(e,"height",r=t[3]?t[12]:t[5]),x(e,"fill",t[23])},m(t,n){u(t,e,n)},p(t,i){4120&i[0]&&n!==(n=t[3]?t[4]:t[12])&&v(e,"width",n),4136&i[0]&&r!==(r=t[3]?t[12]:t[5])&&v(e,"height",r),8388608&i[0]&&x(e,"fill",t[23])},d(t){t&&h(e)}}}function Ga(t){let e,n,r,i=t[67],o=[];for(let e=0;e<i.length;e+=1)o[e]=Va(qa(t,i,e));return{c(){e=d("text");for(let t=0;t<o.length;t+=1)o[t].c();v(e,"class",n=["buffer",t[21][t[69]]].join(" ")),v(e,"transform",r="translate(".concat(t[20][t[69]],")")),x(e,"fill",t[24].svgTextStyles.fill),x(e,"stroke",t[24].svgTextStyles.stroke),x(e,"stroke-width",t[24].svgTextStyles["stroke-width"]),x(e,"stroke-linejoin",t[24].svgTextStyles["stroke-linejoin"])},m(t,n){u(t,e,n);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null)},p(t,a){if(512&a[0]){let n;for(i=t[67],n=0;n<i.length;n+=1){const r=qa(t,i,n);o[n]?o[n].p(r,a):(o[n]=Va(r),o[n].c(),o[n].m(e,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length}2097152&a[0]&&n!==(n=["buffer",t[21][t[69]]].join(" "))&&v(e,"class",n),1048576&a[0]&&r!==(r="translate(".concat(t[20][t[69]],")"))&&v(e,"transform",r),16777216&a[0]&&x(e,"fill",t[24].svgTextStyles.fill),16777216&a[0]&&x(e,"stroke",t[24].svgTextStyles.stroke),16777216&a[0]&&x(e,"stroke-width",t[24].svgTextStyles["stroke-width"]),16777216&a[0]&&x(e,"stroke-linejoin",t[24].svgTextStyles["stroke-linejoin"])},d(t){t&&h(e),f(o,t)}}}function Va(t){let e,n,r=t[70]+"";return{c(){e=d("tspan"),n=g(r),v(e,"x","0"),v(e,"dy",0===t[72]?0:es)},m(t,r){u(t,e,r),c(e,n)},p(t,e){512&e[0]&&r!==(r=t[70]+"")&&b(n,r)},d(t){t&&h(e)}}}function Xa(t){let e,n,r=t[70]+"";return{c(){e=d("tspan"),n=g(r),v(e,"x","0"),v(e,"dy",0===t[72]?0:es)},m(t,r){u(t,e,r),c(e,n)},p(t,e){512&e[0]&&r!==(r=t[70]+"")&&b(n,r)},d(t){t&&h(e)}}}function Ka(t){let e,n,r,i=t[0]&&t[24]&&Ga(t),o=t[67],a=[];for(let e=0;e<o.length;e+=1)a[e]=Xa(Ba(t,o,e));return{c(){i&&i.c(),e=d("text");for(let t=0;t<a.length;t+=1)a[t].c();v(e,"class",n=t[21][t[69]]),v(e,"transform",r="translate(".concat(t[20][t[69]],")"))},m(t,n){i&&i.m(t,n),u(t,e,n);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,null)},p(t,s){if(t[0]&&t[24]?i?i.p(t,s):(i=Ga(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),512&s[0]){let n;for(o=t[67],n=0;n<o.length;n+=1){const r=Ba(t,o,n);a[n]?a[n].p(r,s):(a[n]=Xa(r),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=o.length}2097152&s[0]&&n!==(n=t[21][t[69]])&&v(e,"class",n),1048576&s[0]&&r!==(r="translate(".concat(t[20][t[69]],")"))&&v(e,"transform",r)},d(t){i&&i.d(t),t&&h(e),f(a,t)}}}function Za(t){let e,n;return{c(){e=d("text"),n=g(t[17]),v(e,"class","buffer"),x(e,"fill",t[24].svgTextStyles.fill),x(e,"stroke",t[24].svgTextStyles.stroke),x(e,"stroke-width",t[24].svgTextStyles["stroke-width"]),x(e,"stroke-linejoin",t[24].svgTextStyles["stroke-linejoin"]),x(e,"pointer-events","none")},m(t,r){u(t,e,r),c(e,n)},p(t,r){131072&r[0]&&b(n,t[17]),16777216&r[0]&&x(e,"fill",t[24].svgTextStyles.fill),16777216&r[0]&&x(e,"stroke",t[24].svgTextStyles.stroke),16777216&r[0]&&x(e,"stroke-width",t[24].svgTextStyles["stroke-width"]),16777216&r[0]&&x(e,"stroke-linejoin",t[24].svgTextStyles["stroke-linejoin"])},d(t){t&&h(e)}}}function Ja(t){let e,n;return{c(){e=d("stop"),v(e,"offset",100*t[64]+"%"),v(e,"stop-color",n=t[31](t[64],t[2]))},m(t,n){u(t,e,n)},p(t,r){4&r[0]&&n!==(n=t[31](t[64],t[2]))&&v(e,"stop-color",n)},d(t){t&&h(e)}}}function Qa(t){let e,n,r,i,a,s,l,p,k,_,M,A,T,E,$,O,S,L,N,C,z,D,j,R=t[0]&&t[24]&&Ya(t),I=t[8]&&Wa(t),P=t[9],F=[];for(let e=0;e<P.length;e+=1)F[e]=Ka(Ha(t,P,e));let U=t[0]&&t[24]&&Za(t),H=t[29],B=[];for(let e=0;e<H.length;e+=1)B[e]=Ja(Ua(t,H,e));return{c(){e=d("svg"),n=d("g"),R&&R.c(),r=m(),I&&I.c(),i=d("rect"),l=d("g");for(let t=0;t<F.length;t+=1)F[t].c();k=d("g"),_=d("path"),A=d("g"),U&&U.c(),T=d("text"),E=g(t[17]),O=d("defs"),S=d("linearGradient");for(let t=0;t<B.length;t+=1)B[t].c();v(i,"width",a=t[3]?t[4]:t[12]),v(i,"height",s=t[3]?t[12]:t[5]),x(i,"fill","url(#".concat(t[30],")")),x(i,"mix-blend-mode",t[8]?"screen":null),v(l,"class","labels"),v(l,"aria-hidden","true"),v(l,"transform",p="translate(".concat(t[22],")")),v(_,"class","triangle"),v(_,"d",t[19]),v(_,"transform",M="translate(".concat(t[18].join(","),")")),v(A,"class","text"),v(A,"transform",$="translate(".concat(t[3]?[0,t[12]+12]:[t[6]?-12:t[12]+12,0],")")),v(k,"class","highlight"),v(k,"aria-hidden","true"),v(k,"style",t[15]),w(n,"highlighted",null!==t[13]&&t[10]),v(S,"id",t[30]),v(S,"x2",L=t[3]?1:0),v(S,"y2",N=t[3]?0:1),v(e,"width",C=t[16].width),v(e,"height",z=t[16].height),w(e,"no-transition",t[14])},m(o,a){u(o,e,a),c(e,n),R&&R.m(n,null),c(n,r),I&&I.m(n,null),c(n,i),c(n,l);for(let t=0;t<F.length;t+=1)F[t]&&F[t].m(l,null);c(n,k),c(k,_),c(k,A),U&&U.m(A,null),c(A,T),c(T,E),t[54](n),c(e,O),c(O,S);for(let t=0;t<B.length;t+=1)B[t]&&B[t].m(S,null);D||(j=[y(e,"mouseenter",t[33]),y(e,"mouseleave",t[34]),y(e,"mousemove",t[35])],D=!0)},p(t,o){if(t[0]&&t[24]?R?R.p(t,o):(R=Ya(t),R.c(),R.m(n,r)):R&&(R.d(1),R=null),t[8]?I?I.p(t,o):(I=Wa(t),I.c(),I.m(n,i)):I&&(I.d(1),I=null),4120&o[0]&&a!==(a=t[3]?t[4]:t[12])&&v(i,"width",a),4136&o[0]&&s!==(s=t[3]?t[12]:t[5])&&v(i,"height",s),256&o[0]&&x(i,"mix-blend-mode",t[8]?"screen":null),19923457&o[0]){let e;for(P=t[9],e=0;e<P.length;e+=1){const n=Ha(t,P,e);F[e]?F[e].p(n,o):(F[e]=Ka(n),F[e].c(),F[e].m(l,null))}for(;e<F.length;e+=1)F[e].d(1);F.length=P.length}if(4194304&o[0]&&p!==(p="translate(".concat(t[22],")"))&&v(l,"transform",p),524288&o[0]&&v(_,"d",t[19]),262144&o[0]&&M!==(M="translate(".concat(t[18].join(","),")"))&&v(_,"transform",M),t[0]&&t[24]?U?U.p(t,o):(U=Za(t),U.c(),U.m(A,T)):U&&(U.d(1),U=null),131072&o[0]&&b(E,t[17]),4168&o[0]&&$!==($="translate(".concat(t[3]?[0,t[12]+12]:[t[6]?-12:t[12]+12,0],")"))&&v(A,"transform",$),32768&o[0]&&v(k,"style",t[15]),9216&o[0]&&w(n,"highlighted",null!==t[13]&&t[10]),536870916&o[0]|1&o[1]){let e;for(H=t[29],e=0;e<H.length;e+=1){const n=Ua(t,H,e);B[e]?B[e].p(n,o):(B[e]=Ja(n),B[e].c(),B[e].m(S,null))}for(;e<B.length;e+=1)B[e].d(1);B.length=H.length}8&o[0]&&L!==(L=t[3]?1:0)&&v(S,"x2",L),8&o[0]&&N!==(N=t[3]?0:1)&&v(S,"y2",N),65536&o[0]&&C!==(C=t[16].width)&&v(e,"width",C),65536&o[0]&&z!==(z=t[16].height)&&v(e,"height",z),16384&o[0]&&w(e,"no-transition",t[14])},d(n){n&&h(e),R&&R.d(),I&&I.d(),f(F,n),U&&U.d(),t[54](null),f(B,n),D=!1,o(j)}}}function ts(t){let e,n,r,i;return e=new et({props:{title:t[1],ariaLabel:t[25],buffer:t[24],className:["color-legend","continuous",t[3]?"horizontal":"vertical",t[6]?"dir-rtl":"dir-ltr",t[28],t[27],t[26]].join(" "),width:t[3]?eo(t[4]):void 0,purifyHtml:t[7],$$slots:{default:[Qa]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(o,a){G(e,o,a),n=!0,r||(i=y(window,"click",t[32]),r=!0)},p(t,n){const r={};2&n[0]&&(r.title=t[1]),33554432&n[0]&&(r.ariaLabel=t[25]),16777216&n[0]&&(r.buffer=t[24]),469762120&n[0]&&(r.className=["color-legend","continuous",t[3]?"horizontal":"vertical",t[6]?"dir-rtl":"dir-ltr",t[28],t[27],t[26]].join(" ")),24&n[0]&&(r.width=t[3]?eo(t[4]):void 0),128&n[0]&&(r.purifyHtml=t[7]),33554301&n[0]|4096&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){V(e,t),r=!1,i()}}}const es=15;function ns(t,e,n){let r,i,o,a,s,l,c,u,h,f,p,d,g,m,y,v,b,{title:x=""}=e,{colors:w=(()=>"fff")}=e,{limits:k=[0,100]}=e,{format:_=(t=>String(+t.toFixed(2)))}=e,{labels:M}=e,{horizontal:T=!0}=e,{width:E=100}=e,{height:O=200}=e,{position:S="above"}=e,{highlight:L=!1}=e,{rtl:N=!1}=e,{reverse:C=!1}=e,{buffer:D=!1}=e,{emotion:j}=e,{purifyHtml:R}=e,{themeData:I={}}=e,{blendMultiply:P=!1}=e,{blendMultiplyBackground:F=""}=e,{translate:U}=e;const H=new Promise(t=>{b=t}),B=A();let q=!1,Y=!1;const W=[...Array(17).keys()].map(t=>t/16),G="g-".concat(Math.floor(1e6*Math.random()).toString(32));function V(t){return Y?t<.5?u[0]+2*t*(u[1]-u[0]):u[1]+2*(t-.5)*(u[2]-u[1]):u[0]+t*(u[1]-u[0])}let X=[],K=!1,Z=!1,{highlightedValue:J=null}=e,Q=null;const tt={x:null,y:null};let et=null,rt=null;const{onMouseEnter:it,onMouseLeave:ot,onClick:at,onHighlight:st}=Na(B,L);let lt;st(t=>{n(10,K=null!==t)});const ct={width:100,height:100};return t.$$set=t=>{"title"in t&&n(1,x=t.title),"colors"in t&&n(2,w=t.colors),"limits"in t&&n(36,k=t.limits),"format"in t&&n(37,_=t.format),"labels"in t&&n(38,M=t.labels),"horizontal"in t&&n(3,T=t.horizontal),"width"in t&&n(4,E=t.width),"height"in t&&n(5,O=t.height),"position"in t&&n(39,S=t.position),"highlight"in t&&n(40,L=t.highlight),"rtl"in t&&n(6,N=t.rtl),"reverse"in t&&n(41,C=t.reverse),"buffer"in t&&n(0,D=t.buffer),"emotion"in t&&n(42,j=t.emotion),"purifyHtml"in t&&n(7,R=t.purifyHtml),"themeData"in t&&n(43,I=t.themeData),"blendMultiply"in t&&n(8,P=t.blendMultiply),"blendMultiplyBackground"in t&&n(44,F=t.blendMultiplyBackground),"translate"in t&&n(45,U=t.translate),"highlightedValue"in t&&n(47,J=t.highlightedValue)},t.$$.update=()=>{if(6400&t.$$.dirty[1]&&n(28,r=j&&Aa(j,I,S)),6144&t.$$.dirty[1]&&n(27,i=j&&Ta(j,I)),6144&t.$$.dirty[1]&&n(26,o=j&&function(t,e){const{css:n}=to(t,e);return n(lh||(lh=qu(["\n        &.vertical {\n            g.labels text,\n            g.labels text tspan {\n                &.min {\n                    dominant-baseline: hanging;\n                }\n                &.center {\n                    dominant-baseline: middle;\n                }\n                &.max {\n                    dominant-baseline: ideographic;\n                }\n            }\n        }\n        &.horizontal {\n            g.labels text,\n            g.labels text tspan {\n                &.center {\n                    text-anchor: middle;\n                }\n            }\n            &:not(.dir-rtl) g.labels text,\n            &:not(.dir-rtl) g.labels text tspan {\n                &.min {\n                    text-anchor: start;\n                }\n                &.max {\n                    text-anchor: end;\n                }\n            }\n            &.dir-rtl g.labels text,\n            &.dir-rtl g.labels text tspan {\n                &.min {\n                    text-anchor: end;\n                }\n                &.max {\n                    text-anchor: start;\n                }\n            }\n        }\n        g.highlight {\n            display: none;\n            transition: transform 0.4s cubic-bezier(1, 0, 0, 1);\n        }\n        .no-transition g.highlight {\n            transition: none;\n        }\n        .highlighted g.highlight {\n            display: block;\n            & path.triangle {\n                fill: #000;\n            }\n            & text {\n                font-size: 14px;\n            }\n        }\n        .highlighted g.labels text {\n            opacity: 0.3;\n        }\n        &.horizontal .highlighted rect {\n            cursor: text;\n        }\n        &.vertical .highlighted rect {\n            cursor: vertical-text;\n        }\n        &.horizontal g.highlight text,\n        &.horizontal g.highlight text tspan {\n            text-anchor: middle;\n            dominant-baseline: hanging;\n        }\n        &.vertical g.highlight text,\n        &.vertical g.highlight text tspan {\n            dominant-baseline: mathematical;\n        }\n    "])))}(j,I)),72&t.$$.dirty[0]|1024&t.$$.dirty[1]&&n(48,q=N||!T?!C:C),32&t.$$.dirty[1]&&n(49,Y=3===k.length&&void 0!==k[2]),6&t.$$.dirty[0]|16480&t.$$.dirty[1]&&n(25,a=$a(U,{colors:w,title:x,format:_,limits:k})),1&t.$$.dirty[0]|4096&t.$$.dirty[1]&&n(24,s=D&&Ca(nt(I,"colors.background","white"))),4096&t.$$.dirty[1]&&n(12,l=nt(I,"vis.base.legend.ruler.thickness",13)),4096&t.$$.dirty[1]&&n(53,c=nt(I,"vis.base.legend.swatch.marginRight",3)),131104&t.$$.dirty[1]&&(u=q?[...k].reverse():[...k]),4096&t.$$.dirty[1]&&n(23,h=nt(I,"colors.background","#ffffff")),131296&t.$$.dirty[1]){const t=[...M||k.map(_)];q&&t.reverse(),n(9,X=t.map(t=>[...t.split("<br>")]))}if(4168&t.$$.dirty[0]|4194304&t.$$.dirty[1]&&n(22,f=(T?[0,l+c]:[N?-c:l+c,0]).join(",")),512&t.$$.dirty[0]|262144&t.$$.dirty[1]&&n(21,p=X.map((t,e)=>0===e?"min":1===e&&Y?"center":"max")),568&t.$$.dirty[0]|262144&t.$$.dirty[1]&&n(20,d=X.map((t,e)=>(T?[E*e/(Y?2:1),0]:[0,O*e/(Y?2:1)]).join(","))),72&t.$$.dirty[0]&&n(19,g=T?"M-5,0 L 5,0 L 0,-7 Z":N?"M0,5 L7,0 L 0,-5 Z":"M0,-5 L-7,0 L 0,5 Z"),4168&t.$$.dirty[0]&&n(18,m=T?[0,l+7]:[N?-7:l+7,0]),1024&t.$$.dirty[0]|65536&t.$$.dirty[1]&&null!==J&&(n(14,Z=!K),n(10,K=!0),n(50,Q=J)),589824&t.$$.dirty[1]&&null===J&&null!==Q&&(n(14,Z=!1),n(10,K=!1)),56&t.$$.dirty[0]|1048576&t.$$.dirty[1]){const t=T?tt.x:tt.y;n(52,et=null!==t?Math.min(1,Math.max(0,t/(T?E:O))):null)}if(2162688&t.$$.dirty[1]&&n(13,y=null!==J?J:null!==et?V(et):null),8192&t.$$.dirty[0]|64&t.$$.dirty[1]&&n(17,v=null!==y?_(y):""),56&t.$$.dirty[0]|2162688&t.$$.dirty[1]){const t=null!==J?function(t){return Y?(q?t>u[1]:t<u[1])?.5*(t-u[0])/(u[1]-u[0]):.5+.5*(t-u[1])/(u[2]-u[1]):(t-u[0])/(u[1]-u[0])}(J):null!==et?et:null;n(15,rt=null!==t?"transform: translate(".concat((T?[t*E,0]:[0,t*O]).map(t=>"".concat(t,"px")),")"):null)}2064&t.$$.dirty[0]&&async function(){if(!lt)return;const t=D;n(0,D=!1),await z();const e=lt.getBoundingClientRect();n(16,ct.height=e.height,ct),n(16,ct.width=e.width,ct),!T&&N&&lt.setAttribute("transform","translate(".concat(e.width-l,",0)")),n(0,D=t),b(null)}()},[D,x,w,T,E,O,N,R,P,X,K,lt,l,y,Z,rt,ct,v,m,g,d,p,f,h,s,a,o,i,r,W,G,function(t,e){const n=q?1-t:t;return e(Y?n<=.5?2*n*(k[1]-k[0])+k[0]:2*(n-.5)*(k[2]-k[1])+k[1]:n*(k[1]-k[0])+k[0])},at,function(){L&&n(14,Z=!0)},function(t){L&&(n(14,Z=!1),n(51,tt.x=null,tt),n(51,tt.y=null,tt),ot(t))},async function(t){if(!L)return;const e=t.currentTarget.getBoundingClientRect();if(n(51,tt.x=t.clientX-e.x,tt),n(51,tt.y=t.clientY-e.y,tt),await z(),null===et||null===y)return;const r=V(et+(q?.05:-.05)),i=V(et+(q?-.05:.05));it(new CustomEvent("mouseenter",{detail:{key:y,min:r,max:i}}))},k,_,M,S,L,C,j,I,F,U,H,J,q,Y,Q,tt,et,c,function(t){$[t?"unshift":"push"](()=>{lt=t,n(11,lt)})}]}class rs extends K{constructor(t){super(),X(this,t,ns,ts,s,{title:1,colors:2,limits:36,format:37,labels:38,horizontal:3,width:4,height:5,position:39,highlight:40,rtl:6,reverse:41,buffer:0,emotion:42,purifyHtml:7,themeData:43,blendMultiply:8,blendMultiplyBackground:44,translate:45,rendered:46,highlightedValue:47},null,[-1,-1,-1])}get rendered(){return this.$$.ctx[46]}}function is(t){let e,n=t[4]&&as(t);return{c(){n&&n.c(),e=d("rect"),v(e,"width",t[12]),v(e,"height",t[13]),x(e,"fill",t[6]),x(e,"mix-blend-mode",t[4]?"screen":null)},m(t,r){n&&n.m(t,r),u(t,e,r)},p(t,r){t[4]?n?n.p(t,r):(n=as(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),4096&r[0]&&v(e,"width",t[12]),8192&r[0]&&v(e,"height",t[13]),64&r[0]&&x(e,"fill",t[6]),16&r[0]&&x(e,"mix-blend-mode",t[4]?"screen":null)},d(t){n&&n.d(t),t&&h(e)}}}function os(t){let e,n,r,i,o,a;return{c(){e=d("rect"),v(e,"class","buffer"),v(e,"width",n=t[12]+t[0].size),v(e,"height",r=t[13]+t[0].size),v(e,"x",i=-t[0].size/2),v(e,"y",o=-t[0].size/2),v(e,"style",a=t[14]?"opacity: 0.2 !important;":""),x(e,"fill",t[0].color)},m(t,n){u(t,e,n)},p(t,s){4097&s[0]&&n!==(n=t[12]+t[0].size)&&v(e,"width",n),8193&s[0]&&r!==(r=t[13]+t[0].size)&&v(e,"height",r),1&s[0]&&i!==(i=-t[0].size/2)&&v(e,"x",i),1&s[0]&&o!==(o=-t[0].size/2)&&v(e,"y",o),16384&s[0]&&a!==(a=t[14]?"opacity: 0.2 !important;":"")&&v(e,"style",a),(16384&s[0]||16385&s[0])&&x(e,"fill",t[0].color)},d(t){t&&h(e)}}}function as(t){let e;return{c(){e=d("rect"),v(e,"width",t[12]),v(e,"height",t[13]),x(e,"fill",t[5])},m(t,n){u(t,e,n)},p(t,n){4096&n[0]&&v(e,"width",t[12]),8192&n[0]&&v(e,"height",t[13]),32&n[0]&&x(e,"fill",t[5])},d(t){t&&h(e)}}}function ss(t){let e,n;function r(t,e){return t[0]?cs:ls}let i=r(t),o=i(t),a=t[15]>0&&us(t);return{c(){o.c(),e=m(),a&&a.c(),n=m()},m(t,r){o.m(t,r),u(t,e,r),a&&a.m(t,r),u(t,n,r)},p(t,s){i===(i=r(t))&&o?o.p(t,s):(o.d(1),o=i(t),o&&(o.c(),o.m(e.parentNode,e))),t[15]>0?a?a.p(t,s):(a=us(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(t){o.d(t),t&&h(e),a&&a.d(t),t&&h(n)}}}function ls(t){let e,n;return{c(){e=d("text"),n=g(t[7]),v(e,"transform",t[18]),x(e,"text-anchor",t[3]?t[2]?"start":"end":""),x(e,"dominant-baseline",t[3]?"central":"")},m(r,i){u(r,e,i),c(e,n),t[36](e)},p(t,r){128&r[0]&&b(n,t[7]),262144&r[0]&&v(e,"transform",t[18]),12&r[0]&&x(e,"text-anchor",t[3]?t[2]?"start":"end":""),8&r[0]&&x(e,"dominant-baseline",t[3]?"central":"")},d(n){n&&h(e),t[36](null)}}}function cs(t){let e,n;return{c(){e=d("text"),n=g(t[7]),v(e,"transform",t[18]),x(e,"text-anchor",t[3]?t[2]?"start":"end":""),x(e,"dominant-baseline",t[3]?"central":""),x(e,"fill",t[0].svgTextStyles.fill),x(e,"stroke",t[0].svgTextStyles.stroke),x(e,"stroke-width",t[0].svgTextStyles["stroke-width"]),x(e,"stroke-linejoin",t[0].svgTextStyles["stroke-linejoin"])},m(r,i){u(r,e,i),c(e,n),t[35](e)},p(t,r){128&r[0]&&b(n,t[7]),262144&r[0]&&v(e,"transform",t[18]),12&r[0]&&x(e,"text-anchor",t[3]?t[2]?"start":"end":""),8&r[0]&&x(e,"dominant-baseline",t[3]?"central":""),1&r[0]&&x(e,"fill",t[0].svgTextStyles.fill),1&r[0]&&x(e,"stroke",t[0].svgTextStyles.stroke),1&r[0]&&x(e,"stroke-width",t[0].svgTextStyles["stroke-width"]),1&r[0]&&x(e,"stroke-linejoin",t[0].svgTextStyles["stroke-linejoin"])},d(n){n&&h(e),t[35](null)}}}function us(t){let e;return{c(){e=d("path"),v(e,"class","tick"),v(e,"d",t[22]()),x(e,"stroke",t[20]),x(e,"stroke-width",t[16])},m(t,n){u(t,e,n)},p(t,n){1048576&n[0]&&x(e,"stroke",t[20]),65536&n[0]&&x(e,"stroke-width",t[16])},d(t){t&&h(e)}}}function hs(t){let n,r,i,a,s;function l(t,e){return t[0]?os:is}let f=l(t),p=f(t),g=("center"===t[1]||t[9]>0)&&ss(t);return{c(){n=d("g"),p.c(),r=m(),g&&g.c(),v(n,"class","swatch"),v(n,"aria-hidden","true"),v(n,"transform",i="translate(".concat(t[17].join(),")")),w(n,"highlight",t[14]),w(n,"buffer",t[0])},m(e,i){u(e,n,i),p.m(n,null),c(n,r),g&&g.m(n,null),a||(s=[y(n,"mouseenter",t[37]),y(n,"click",t[38]),y(n,"mousemove",t[33]),y(n,"mouseleave",t[34])],a=!0)},p(t,e){f===(f=l(t))&&p?p.p(t,e):(p.d(1),p=f(t),p&&(p.c(),p.m(n,r))),"center"===t[1]||t[9]>0?g?g.p(t,e):(g=ss(t),g.c(),g.m(n,null)):g&&(g.d(1),g=null),131072&e[0]&&i!==(i="translate(".concat(t[17].join(),")"))&&v(n,"transform",i),16384&e[0]&&w(n,"highlight",t[14]),1&e[0]&&w(n,"buffer",t[0])},i:e,o:e,d(t){t&&h(n),p.d(),g&&g.d(),a=!1,o(s)}}}function fs(t,e,n){let r,i,o,a,s,l,c,u;const h=A();let{buffer:f}=e,{themeData:p}=e,{horizontal:d}=e,{labelPosition:g="center"}=e,{rtl:m=!1}=e,{rotateLabel:y=!1}=e,{parentWidth:v=0}=e,{chroma:b}=e,{blendMultiply:x=!1}=e,{blendMultiplyBackground:w=""}=e;if(x&&!w)throw new Error("Property 'blendMultiplyBackground' missing from legend");let k,_,M,{color:E}=e,{label:O}=e,{key:S}=e,{index:L}=e,{min:N}=e,{max:C}=e,{width:z}=e,{height:D}=e,{highlight:j=!1}=e;return t.$$set=t=>{"buffer"in t&&n(0,f=t.buffer),"themeData"in t&&n(23,p=t.themeData),"horizontal"in t&&n(24,d=t.horizontal),"labelPosition"in t&&n(1,g=t.labelPosition),"rtl"in t&&n(2,m=t.rtl),"rotateLabel"in t&&n(3,y=t.rotateLabel),"parentWidth"in t&&n(25,v=t.parentWidth),"chroma"in t&&n(26,b=t.chroma),"blendMultiply"in t&&n(4,x=t.blendMultiply),"blendMultiplyBackground"in t&&n(5,w=t.blendMultiplyBackground),"color"in t&&n(6,E=t.color),"label"in t&&n(7,O=t.label),"key"in t&&n(8,S=t.key),"index"in t&&n(9,L=t.index),"min"in t&&n(10,N=t.min),"max"in t&&n(11,C=t.max),"width"in t&&n(12,z=t.width),"height"in t&&n(13,D=t.height),"highlight"in t&&n(14,j=t.highlight)},t.$$.update=()=>{if(2&t.$$.dirty[0]&&n(30,o="tick"===g),1082130432&t.$$.dirty[0]&&n(32,a=o?nt(p,"vis.base.legend.ruler.tickWidth",1):1),8388608&t.$$.dirty[0]|2&t.$$.dirty[1]&&n(31,r=nt(p,"vis.base.legend.text.itemMarginBottom",a)),8388608&t.$$.dirty[0]&&n(29,i=nt(p,"vis.base.legend.swatch.marginRight",3)),8388608&t.$$.dirty[0]&&n(16,u=nt(p,"vis.base.legend.ruler.tickWidth",1)),50409988&t.$$.dirty[0]|3&t.$$.dirty[1]&&n(17,k=!d&&m&&v?[v-z,L*(D+u)]:d?[L*(z+a),0]:[0,L*(D+r)]),25165824&t.$$.dirty[0]&&n(28,s=nt(p,"vis.base.legend.ruler.labelDistance."+(d?"horizontal":"vertical"),3)),75497472&t.$$.dirty[0]&&n(20,l=nt(p,"vis.base.legend.ruler.tickColor",function(t,e){const n=nt(t,"colors.background","#ffffff"),r=nt(t,"colors.chartContentBaseColor",e.contrast(n,"#000000")<5.5?"#f1f1f1":"#333333"),i={tickText:{secondary:nt(t,"colors.bgBlendRatios.tickText.secondary",e(n).luminance()<.5?.6:.4),primary:nt(t,"colors.bgBlendRatios.tickText.primary",.2)},series:nt(t,"colors.bgBlendRatios.series",0),value:nt(t,"colors.bgBlendRatios.value",.2),axis:nt(t,"colors.bgBlendRatios.axis",0),gridline:nt(t,"colors.bgBlendRatios.gridline",.82)};return{tickText:{secondary:e.mix(r,n,i.tickText.secondary).hex(),primary:e.mix(r,n,i.tickText.primary).hex()},series:e.mix(r,n,i.series).hex(),value:e.mix(r,n,i.value).hex(),axis:e.mix(r,n,i.axis).hex(),gridline:e.mix(r,n,i.gridline).hex(),fallbackBaseColor:r,blendColor:t=>e.mix(r,n,t).hex()}}(p,b).fallbackBaseColor||"#222")),1082130432&t.$$.dirty[0]&&n(15,c=o?nt(p,"vis.base.legend.ruler.tickLength",0):0),822128654&t.$$.dirty[0]){let t=[];y?n(18,_="translate(0, ".concat(D+s+c,") rotate(-90)")):"center"===g?t=d?[.5*z,D+i]:[z+i,.5*D]:"tick"===g&&(t=d?[0,D+s+c]:[m?-(c+s):z+s+c,0]),t.length&&n(18,_="translate(".concat(t.join(),")"))}},[f,g,m,y,x,w,E,O,S,L,N,C,z,D,j,c,u,k,_,M,l,h,function(){return"M".concat(d?.5*-u:m?z:0,",").concat(d?0:.5*-u).concat(d?"v":"h").concat((!d&&m?-1:1)*((d?D:z)+c))},p,d,v,b,function(){return!!M&&M.getBoundingClientRect().width>z+2},s,i,o,r,a,function(e){T.call(this,t,e)},function(e){T.call(this,t,e)},function(t){$[t?"unshift":"push"](()=>{M=t,n(19,M)})},function(t){$[t?"unshift":"push"](()=>{M=t,n(19,M)})},()=>h("mouseenter",{key:S,label:O,color:E,min:N,max:C}),()=>h("mouseenter",{key:S,label:O,color:E,min:N,max:C})]}class ps extends K{constructor(t){super(),X(this,t,fs,hs,s,{buffer:0,themeData:23,horizontal:24,labelPosition:1,rtl:2,rotateLabel:3,parentWidth:25,chroma:26,blendMultiply:4,blendMultiplyBackground:5,color:6,label:7,key:8,index:9,min:10,max:11,width:12,height:13,highlight:14,labelFits:27},null,[-1,-1])}get labelFits(){return this.$$.ctx[27]}}function ds(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t=>String(+t.toFixed(0)),i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"center",l=o||!a;i&&(l=!l);const c=t.map((i,o)=>{let a=n?n[o]:0===o?"< ".concat(r(e[1])):o===t.length-1?"≥ ".concat(r(e[o])):"".concat(r(e[o]),"–").concat(r(e[o+1]));return"tick"===s&&(a=o===(l?t.length-1:0)?"":"".concat(r(e[l?o+1:o]))),{color:i,min:0===o?-1/0:+e[o],max:o===t.length-1?1/0:+e[o+1],label:a,key:a||"swatch_".concat(o)}});return l&&c.reverse(),c}function gs(t,e,n){const r=t.slice();return r[46]=e[n],r[47]=e,r[48]=n,r}function ms(t,e,n){const r=t.slice();return r[46]=e[n],r[48]=n,r}function ys(t){let e,n;return e=new et({props:{title:t[1],buffer:t[32],className:["color-legend",t[2]?"horizontal":"vertical",t[29],t[31],t[30]].join(" "),ariaLabel:$a(t[19],{colors:t[9],title:t[1],format:t[12],swatches:t[23]}),width:t[2]?eo(t[14]):void 0,purifyHtml:t[8],$$slots:{default:[ks]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(t,n){const r={};2&n[0]&&(r.title=t[1]),2&n[1]&&(r.buffer=t[32]),1610612740&n[0]|1&n[1]&&(r.className=["color-legend",t[2]?"horizontal":"vertical",t[29],t[31],t[30]].join(" ")),8917506&n[0]&&(r.ariaLabel=$a(t[19],{colors:t[9],title:t[1],format:t[12],swatches:t[23]})),16388&n[0]&&(r.width=t[2]?eo(t[14]):void 0),256&n[0]&&(r.purifyHtml=t[8]),530980997&n[0]|524290&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function vs(t){let e,n;return e=new Fa({props:{title:t[1],horizontal:t[2],highlight:t[3],reverse:t[4],rtl:t[5],emotion:t[6],swatches:ds(t[9],t[10],t[11],t[12],t[4]===t[5]?t[4]:!t[4],t[5],t[2]),themeData:t[13],chroma:t[7],purifyHtml:t[8],width:t[2]?eo(t[14]):"auto",height:t[2]?"auto":eo(t[15]),buffer:t[0],highlightedKey:t[24]||"",position:t[16],blendMultiply:t[17],blendMultiplyBackground:t[18],translate:t[19],locale:t[20]}}),{c(){W(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(t,n){const r={};2&n[0]&&(r.title=t[1]),4&n[0]&&(r.horizontal=t[2]),8&n[0]&&(r.highlight=t[3]),16&n[0]&&(r.reverse=t[4]),32&n[0]&&(r.rtl=t[5]),64&n[0]&&(r.emotion=t[6]),7732&n[0]&&(r.swatches=ds(t[9],t[10],t[11],t[12],t[4]===t[5]?t[4]:!t[4],t[5],t[2])),8192&n[0]&&(r.themeData=t[13]),128&n[0]&&(r.chroma=t[7]),256&n[0]&&(r.purifyHtml=t[8]),16388&n[0]&&(r.width=t[2]?eo(t[14]):"auto"),32772&n[0]&&(r.height=t[2]?"auto":eo(t[15])),1&n[0]&&(r.buffer=t[0]),16777216&n[0]&&(r.highlightedKey=t[24]||""),65536&n[0]&&(r.position=t[16]),131072&n[0]&&(r.blendMultiply=t[17]),262144&n[0]&&(r.blendMultiplyBackground=t[18]),524288&n[0]&&(r.translate=t[19]),1048576&n[0]&&(r.locale=t[20]),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function bs(t){let e,n,r=t[23],i=[];for(let e=0;e<r.length;e+=1)i[e]=xs(ms(t,r,e));const o=t=>Y(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=m()},m(t,r){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,r);u(t,e,r),n=!0},p(t,n){if(427827332&n[0]|6&n[1]){let a;for(r=t[23],a=0;a<r.length;a+=1){const o=ms(t,r,a);i[a]?(i[a].p(o,n),q(i[a],1)):(i[a]=xs(o),i[a].c(),q(i[a],1),i[a].m(e.parentNode,e))}for(H(),a=r.length;a<i.length;a+=1)o(a);B()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)q(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Y(i[t]);n=!1},d(t){f(i,t),t&&h(e)}}}function xs(t){let e,n;return e=new ps({props:{buffer:t[32],color:t[46].color,label:t[46].label,min:t[46].min,max:t[46].max,index:t[48],horizontal:t[2],width:t[28],height:t[27],themeData:t[13],key:t[46].key,highlight:t[24]===t[46].key,chroma:t[7]}}),e.$on("mouseenter",t[33]),{c(){W(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(t,n){const r={};2&n[1]&&(r.buffer=t[32]),8388608&n[0]&&(r.color=t[46].color),8388608&n[0]&&(r.label=t[46].label),8388608&n[0]&&(r.min=t[46].min),8388608&n[0]&&(r.max=t[46].max),4&n[0]&&(r.horizontal=t[2]),268435456&n[0]&&(r.width=t[28]),134217728&n[0]&&(r.height=t[27]),8192&n[0]&&(r.themeData=t[13]),8388608&n[0]&&(r.key=t[46].key),25165824&n[0]&&(r.highlight=t[24]===t[46].key),128&n[0]&&(r.chroma=t[7]),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function ws(t){let e,n,r=t[48];const i=()=>t[40](e,r),o=()=>t[40](null,r);let a={buffer:!1,color:t[46].color,label:t[46].label,min:t[46].min,max:t[46].max,index:t[48],horizontal:t[2],width:t[28],height:t[27],themeData:t[13],key:t[46].key,highlight:t[24]===t[46].key,chroma:t[7],blendMultiply:t[17],blendMultiplyBackground:t[18]};return e=new ps({props:a}),i(),e.$on("mouseenter",t[33]),{c(){W(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(t,n){r!==t[48]&&(o(),r=t[48],i());const a={};8388608&n[0]&&(a.color=t[46].color),8388608&n[0]&&(a.label=t[46].label),8388608&n[0]&&(a.min=t[46].min),8388608&n[0]&&(a.max=t[46].max),4&n[0]&&(a.horizontal=t[2]),268435456&n[0]&&(a.width=t[28]),134217728&n[0]&&(a.height=t[27]),8192&n[0]&&(a.themeData=t[13]),8388608&n[0]&&(a.key=t[46].key),25165824&n[0]&&(a.highlight=t[24]===t[46].key),128&n[0]&&(a.chroma=t[7]),131072&n[0]&&(a.blendMultiply=t[17]),262144&n[0]&&(a.blendMultiplyBackground=t[18]),e.$set(a)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){o(),V(e,t)}}}function ks(t){let e,n,r,i,o,a,s,l,p=t[0]&&bs(t),g=t[23],b=[];for(let e=0;e<g.length;e+=1)b[e]=ws(gs(t,g,e));const x=t=>Y(b[t],1,1,()=>{b[t]=null});return{c(){e=d("svg"),n=d("g"),p&&p.c(),r=m();for(let t=0;t<b.length;t+=1)b[t].c();v(n,"class",""),w(n,"highlighted",null!==t[24]),v(e,"width",i=t[25].width),v(e,"height",o=t[25].height)},m(i,o){u(i,e,o),c(e,n),p&&p.m(n,null),c(n,r);for(let t=0;t<b.length;t+=1)b[t]&&b[t].m(n,null);t[41](n),a=!0,s||(l=y(e,"mouseleave",t[34]),s=!0)},p(t,s){if(t[0]?p?(p.p(t,s),1&s[0]&&q(p,1)):(p=bs(t),p.c(),q(p,1),p.m(n,r)):p&&(H(),Y(p,1,1,()=>{p=null}),B()),495329412&s[0]|4&s[1]){let e;for(g=t[23],e=0;e<g.length;e+=1){const r=gs(t,g,e);b[e]?(b[e].p(r,s),q(b[e],1)):(b[e]=ws(r),b[e].c(),q(b[e],1),b[e].m(n,null))}for(H(),e=g.length;e<b.length;e+=1)x(e);B()}(!a||16777216&s[0])&&w(n,"highlighted",null!==t[24]),(!a||33554432&s[0]&&i!==(i=t[25].width))&&v(e,"width",i),(!a||33554432&s[0]&&o!==(o=t[25].height))&&v(e,"height",o)},i(t){if(!a){q(p);for(let t=0;t<g.length;t+=1)q(b[t]);a=!0}},o(t){Y(p),b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)Y(b[t]);a=!1},d(n){n&&h(e),p&&p.d(),f(b,n),t[41](null),s=!1,l()}}}function _s(t){let e,n,r,i,o,s;const l=[vs,ys],c=[];function f(t,e){return t[22]?0:1}return e=f(t),n=c[e]=l[e](t),{c(){n.c(),r=m()},m(n,l){c[e].m(n,l),u(n,r,l),i=!0,o||(s=y(window,"click",(function(){a(t[22]?null:t[35])&&(t[22]?null:t[35]).apply(this,arguments)})),o=!0)},p(i,o){let a=e;e=f(t=i),e===a?c[e].p(t,o):(H(),Y(c[a],1,1,()=>{c[a]=null}),B(),n=c[e],n?n.p(t,o):(n=c[e]=l[e](t),n.c()),q(n,1),n.m(r.parentNode,r))},i(t){i||(q(n),i=!0)},o(t){Y(n),i=!1},d(t){c[e].d(t),t&&h(r),o=!1,s()}}}function Ms(t,e,n){let r,i,o,a,s,l,c,u;const h=A();let f,{title:p=""}=e,{horizontal:d=!0}=e,{highlight:g=!1}=e,{reverse:m=!1}=e,{rtl:y=!1}=e,{emotion:v}=e,{chroma:b}=e,{purifyHtml:x}=e,{colors:w}=e,{breaks:k}=e,{labels:_}=e,{format:M=(t=>t.toFixed(0))}=e,{themeData:T={}}=e,{width:E=100}=e,{height:O=200}=e,{position:S="above"}=e,{buffer:L=!1}=e,{blendMultiply:N=!1}=e,{blendMultiplyBackground:C=""}=e,{translate:D}=e,{locale:j}=e;const R=new Promise(t=>{n(38,f=t)});let I,{highlightedValue:P=null}=e;const{onMouseEnter:F,onMouseLeave:U,onClick:H,onHighlight:B}=Na(h,g);let q;B(t=>{n(24,I=void 0!==t?t:null)});const Y={width:100,height:100};let W=!1;const G=[];return t.$$set=t=>{"title"in t&&n(1,p=t.title),"horizontal"in t&&n(2,d=t.horizontal),"highlight"in t&&n(3,g=t.highlight),"reverse"in t&&n(4,m=t.reverse),"rtl"in t&&n(5,y=t.rtl),"emotion"in t&&n(6,v=t.emotion),"chroma"in t&&n(7,b=t.chroma),"purifyHtml"in t&&n(8,x=t.purifyHtml),"colors"in t&&n(9,w=t.colors),"breaks"in t&&n(10,k=t.breaks),"labels"in t&&n(11,_=t.labels),"format"in t&&n(12,M=t.format),"themeData"in t&&n(13,T=t.themeData),"width"in t&&n(14,E=t.width),"height"in t&&n(15,O=t.height),"position"in t&&n(16,S=t.position),"buffer"in t&&n(0,L=t.buffer),"blendMultiply"in t&&n(17,N=t.blendMultiply),"blendMultiplyBackground"in t&&n(18,C=t.blendMultiplyBackground),"translate"in t&&n(19,D=t.translate),"locale"in t&&n(20,j=t.locale),"highlightedValue"in t&&n(37,P=t.highlightedValue)},t.$$.update=()=>{var e;8193&t.$$.dirty[0]&&n(32,r=L&&Ca(nt(T,"colors.background","white"))),73792&t.$$.dirty[0]&&n(31,i=v&&Aa(v,T,S)),8256&t.$$.dirty[0]&&n(30,o=v&&Ta(v,T)),32&t.$$.dirty[0]&&n(29,a=y?"dir-rtl":"dir-ltr"),7732&t.$$.dirty[0]&&n(23,s=ds(w,k,_,M,m,y,d,"center")),8192&t.$$.dirty[0]&&n(39,l=nt(T,"vis.base.legend.ruler.thickness",13)),25092&t.$$.dirty[0]&&n(28,c=d?Math.floor(E/w.length)-1:nt(T,"vis.base.legend.swatch.width",20)),8196&t.$$.dirty[0]|256&t.$$.dirty[1]&&n(27,u=d?l:nt(T,"vis.base.legend.swatch.height",20)),8388608&t.$$.dirty[0]|64&t.$$.dirty[1]&&n(24,I=(null===(e=s.find(t=>{if(null!==P&&t.min&&t.max)return P>=t.min&&P<t.max}))||void 0===e?void 0:e.key)||null),10502144&t.$$.dirty[0]&&async function(){if(!q||W)return;const t=L;n(0,L=!1),await z();const e=q.getBoundingClientRect();n(25,Y.height=e.height,Y),n(25,Y.width=e.width,Y),n(0,L=t),f(null)}(),8404992&t.$$.dirty[0]&&async function(){n(22,W=!1),await z();const t=G.filter(t=>!!t),e=t.map(t=>t.labelFits());n(22,W=d&&e.some(t=>t)||1===t.length)}(),4194304&t.$$.dirty[0]|128&t.$$.dirty[1]&&W&&f(null)},[L,p,d,g,m,y,v,b,x,w,k,_,M,T,E,O,S,N,C,D,j,q,W,s,I,Y,G,u,c,a,o,i,r,F,U,H,R,P,f,l,function(t,e){$[t?"unshift":"push"](()=>{G[e]=t,n(26,G)})},function(t){$[t?"unshift":"push"](()=>{q=t,n(21,q)})}]}class As extends K{constructor(t){super(),X(this,t,Ms,_s,s,{title:1,horizontal:2,highlight:3,reverse:4,rtl:5,emotion:6,chroma:7,purifyHtml:8,colors:9,breaks:10,labels:11,format:12,themeData:13,width:14,height:15,position:16,buffer:0,blendMultiply:17,blendMultiplyBackground:18,translate:19,locale:20,rendered:36,highlightedValue:37},null,[-1,-1])}get rendered(){return this.$$.ctx[36]}}function Ts(t,e,n){const r=t.slice();return r[46]=e[n],r[47]=e,r[48]=n,r}function Es(t,e,n){const r=t.slice();return r[46]=e[n],r[48]=n,r}function $s(t){let e,n,r=t[12],i=[];for(let e=0;e<r.length;e+=1)i[e]=Os(Es(t,r,e));const o=t=>Y(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=m()},m(t,r){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,r);u(t,e,r),n=!0},p(t,n){if(12810332&n[0]){let a;for(r=t[12],a=0;a<r.length;a+=1){const o=Es(t,r,a);i[a]?(i[a].p(o,n),q(i[a],1)):(i[a]=Os(o),i[a].c(),q(i[a],1),i[a].m(e.parentNode,e))}for(H(),a=r.length;a<i.length;a+=1)o(a);B()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)q(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Y(i[t]);n=!1},d(t){f(i,t),t&&h(e)}}}function Os(t){let e,n;return e=new ps({props:{color:t[46].color,label:t[46].label,min:t[46].min,max:t[46].max,index:t[48],horizontal:t[2],width:t[17],height:t[16],buffer:t[22],themeData:t[6],key:t[46].key,labelPosition:"tick",rotateLabel:t[11],rtl:t[3],parentWidth:t[14].width,highlight:t[13]===t[46].key,chroma:t[4]}}),e.$on("mouseenter",t[23]),{c(){W(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(t,n){const r={};4096&n[0]&&(r.color=t[46].color),4096&n[0]&&(r.label=t[46].label),4096&n[0]&&(r.min=t[46].min),4096&n[0]&&(r.max=t[46].max),4&n[0]&&(r.horizontal=t[2]),131072&n[0]&&(r.width=t[17]),65536&n[0]&&(r.height=t[16]),4194304&n[0]&&(r.buffer=t[22]),64&n[0]&&(r.themeData=t[6]),4096&n[0]&&(r.key=t[46].key),2048&n[0]&&(r.rotateLabel=t[11]),8&n[0]&&(r.rtl=t[3]),16384&n[0]&&(r.parentWidth=t[14].width),12288&n[0]&&(r.highlight=t[13]===t[46].key),16&n[0]&&(r.chroma=t[4]),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Ss(t){let e,n,r=t[48];const i=()=>t[39](e,r),o=()=>t[39](null,r);let a={color:t[46].color,label:t[46].label,min:t[46].min,max:t[46].max,index:t[48],horizontal:t[2],width:t[17],height:t[16],buffer:!1,themeData:t[6],key:t[46].key,labelPosition:"tick",rotateLabel:t[11],rtl:t[3],parentWidth:t[14].width,highlight:t[13]===t[46].key,chroma:t[4],blendMultiply:t[8],blendMultiplyBackground:t[9]};return e=new ps({props:a}),i(),e.$on("mouseenter",t[23]),{c(){W(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(t,n){r!==t[48]&&(o(),r=t[48],i());const a={};4096&n[0]&&(a.color=t[46].color),4096&n[0]&&(a.label=t[46].label),4096&n[0]&&(a.min=t[46].min),4096&n[0]&&(a.max=t[46].max),4&n[0]&&(a.horizontal=t[2]),131072&n[0]&&(a.width=t[17]),65536&n[0]&&(a.height=t[16]),64&n[0]&&(a.themeData=t[6]),4096&n[0]&&(a.key=t[46].key),2048&n[0]&&(a.rotateLabel=t[11]),8&n[0]&&(a.rtl=t[3]),16384&n[0]&&(a.parentWidth=t[14].width),12288&n[0]&&(a.highlight=t[13]===t[46].key),16&n[0]&&(a.chroma=t[4]),256&n[0]&&(a.blendMultiply=t[8]),512&n[0]&&(a.blendMultiplyBackground=t[9]),e.$set(a)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){o(),V(e,t)}}}function Ls(t){let e,n,r,i,o,a,s,l,p=t[0]&&$s(t),g=t[12],b=[];for(let e=0;e<g.length;e+=1)b[e]=Ss(Ts(t,g,e));const x=t=>Y(b[t],1,1,()=>{b[t]=null});return{c(){e=d("svg"),n=d("g"),p&&p.c(),r=m();for(let t=0;t<b.length;t+=1)b[t].c();v(n,"class",""),w(n,"highlighted",null!==t[13]),v(e,"width",i=t[14].width),v(e,"height",o=t[14].height)},m(i,o){u(i,e,o),c(e,n),p&&p.m(n,null),c(n,r);for(let t=0;t<b.length;t+=1)b[t]&&b[t].m(n,null);t[40](n),a=!0,s||(l=y(e,"mouseleave",t[24]),s=!0)},p(t,s){if(t[0]?p?(p.p(t,s),1&s[0]&&q(p,1)):(p=$s(t),p.c(),q(p,1),p.m(n,r)):p&&(H(),Y(p,1,1,()=>{p=null}),B()),8649564&s[0]){let e;for(g=t[12],e=0;e<g.length;e+=1){const r=Ts(t,g,e);b[e]?(b[e].p(r,s),q(b[e],1)):(b[e]=Ss(r),b[e].c(),q(b[e],1),b[e].m(n,null))}for(H(),e=g.length;e<b.length;e+=1)x(e);B()}(!a||8192&s[0])&&w(n,"highlighted",null!==t[13]),(!a||16384&s[0]&&i!==(i=t[14].width))&&v(e,"width",i),(!a||16384&s[0]&&o!==(o=t[14].height))&&v(e,"height",o)},i(t){if(!a){q(p);for(let t=0;t<g.length;t+=1)q(b[t]);a=!0}},o(t){Y(p),b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)Y(b[t]);a=!1},d(n){n&&h(e),p&&p.d(),f(b,n),t[40](null),s=!1,l()}}}function Ns(t){let e,n,r,i;return e=new et({props:{title:t[1],buffer:t[22],className:["color-legend","ruler",t[2]?"horizontal":"vertical",t[18],t[20],t[19]].join(" "),ariaLabel:t[21],width:t[2]?eo(t[7]):void 0,purifyHtml:t[5],$$slots:{default:[Ls]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(o,a){G(e,o,a),n=!0,r||(i=y(window,"click",t[25]),r=!0)},p(t,n){const r={};2&n[0]&&(r.title=t[1]),4194304&n[0]&&(r.buffer=t[22]),1835012&n[0]&&(r.className=["color-legend","ruler",t[2]?"horizontal":"vertical",t[18],t[20],t[19]].join(" ")),2097152&n[0]&&(r.ariaLabel=t[21]),132&n[0]&&(r.width=t[2]?eo(t[7]):void 0),32&n[0]&&(r.purifyHtml=t[5]),4456285&n[0]|524288&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){V(e,t),r=!1,i()}}}function Cs(t,e,n){let r,i,o,a,s,l,c,u,h;const f=A();let p,{title:d=""}=e,{horizontal:g=!0}=e,{highlight:m=!1}=e,{reverse:y=!1}=e,{rtl:v=!1}=e,{emotion:b}=e,{chroma:x}=e,{purifyHtml:w}=e,{colors:k}=e,{breaks:_}=e,{labels:M}=e,{format:T=(t=>t.toFixed(0))}=e,{themeData:E={}}=e,{width:O=100}=e,{height:S=200}=e,{position:L="above"}=e,{buffer:N=!1}=e,{blendMultiply:C=!1}=e,{blendMultiplyBackground:D=""}=e,{translate:j}=e;const R=new Promise(t=>{p=t});let I,{highlightedValue:P=null}=e;const{onMouseEnter:F,onMouseLeave:U,onClick:H,onHighlight:B}=Na(f,m);let q;B(t=>{n(13,I=void 0!==t?t:null)});const Y={width:100,height:100};let W=!1;const G=[];return t.$$set=t=>{"title"in t&&n(1,d=t.title),"horizontal"in t&&n(2,g=t.horizontal),"highlight"in t&&n(26,m=t.highlight),"reverse"in t&&n(27,y=t.reverse),"rtl"in t&&n(3,v=t.rtl),"emotion"in t&&n(28,b=t.emotion),"chroma"in t&&n(4,x=t.chroma),"purifyHtml"in t&&n(5,w=t.purifyHtml),"colors"in t&&n(29,k=t.colors),"breaks"in t&&n(30,_=t.breaks),"labels"in t&&n(31,M=t.labels),"format"in t&&n(32,T=t.format),"themeData"in t&&n(6,E=t.themeData),"width"in t&&n(7,O=t.width),"height"in t&&n(33,S=t.height),"position"in t&&n(34,L=t.position),"buffer"in t&&n(0,N=t.buffer),"blendMultiply"in t&&n(8,C=t.blendMultiply),"blendMultiplyBackground"in t&&n(9,D=t.blendMultiplyBackground),"translate"in t&&n(35,j=t.translate),"highlightedValue"in t&&n(37,P=t.highlightedValue)},t.$$.update=()=>{var e;65&t.$$.dirty[0]&&n(22,r=N&&Ca(nt(E,"colors.background","white"))),1744830478&t.$$.dirty[0]|19&t.$$.dirty[1]&&n(21,i=$a(j,{colors:k,title:d,format:T,swatches:ds(k,_,M,T,y,v,g,"center")})),268435520&t.$$.dirty[0]|8&t.$$.dirty[1]&&n(20,o=b&&Aa(b,E,L)),268435520&t.$$.dirty[0]&&n(19,a=b&&Ta(b,E)),8&t.$$.dirty[0]&&n(18,s=v?"dir-rtl":"dir-ltr"),1744830476&t.$$.dirty[0]|3&t.$$.dirty[1]&&n(12,l=ds(k,_,M,T,y,v,g,"tick")),64&t.$$.dirty[0]&&n(38,c=nt(E,"vis.base.legend.ruler.thickness",13)),536871044&t.$$.dirty[0]|128&t.$$.dirty[1]&&n(17,u=g?Math.floor(O/k.length)-1:c),536870916&t.$$.dirty[0]|132&t.$$.dirty[1]&&n(16,h=g?c:Math.floor(S/k.length)-1),4096&t.$$.dirty[0]|64&t.$$.dirty[1]&&n(13,I=(null===(e=l.find(t=>{if(null!==P&&t.min&&t.max)return P>=t.min&&P<t.max}))||void 0===e?void 0:e.key)||null),7296&t.$$.dirty[0]&&async function(){if(!q)return;const t=N;n(0,N=!1),await z();const e=q.getBoundingClientRect();n(14,Y.height=e.height,Y),n(14,Y.width=e.width,Y),n(0,N=t),p(null)}(),4224&t.$$.dirty[0]&&async function(){n(11,W=!1),await z();const t=G.filter(t=>!!t).map(t=>t.labelFits());n(11,W=g&&t.some(t=>t))}()},[N,d,g,v,x,w,E,O,C,D,q,W,l,I,Y,G,h,u,s,a,o,i,r,F,U,H,m,y,b,k,_,M,T,S,L,j,R,P,c,function(t,e){$[t?"unshift":"push"](()=>{G[e]=t,n(15,G)})},function(t){$[t?"unshift":"push"](()=>{q=t,n(10,q)})}]}class zs extends K{constructor(t){super(),X(this,t,Cs,Ns,s,{title:1,horizontal:2,highlight:26,reverse:27,rtl:3,emotion:28,chroma:4,purifyHtml:5,colors:29,breaks:30,labels:31,format:32,themeData:6,width:7,height:33,position:34,buffer:0,blendMultiply:8,blendMultiplyBackground:9,translate:35,rendered:36,highlightedValue:37},null,[-1,-1])}get rendered(){return this.$$.ctx[36]}}function Ds(t){return"string"!=typeof t?t:parseFloat(t.replace("px",""))}t.CategoryLegend=Fa,t.ContinuousLegend=rs,t.RangeLegend=As,t.RulerLegend=zs,t.categoryLegendWrapper=function(t,e){const n=new Fa({target:t,props:{...e,themeData:e.themeData||e.theme,swatches:e.swatches.map(t=>({...t,width:"width"in t?Ds(t.width):null}))}});return{on:function(t,e){n.$on(t,t=>{e(t.detail)})},highlight:t=>{n.$$set&&n.$$set({highlightedKey:t||""})},container:t}},t.colorLegendWrapper=function(t,e){var n;let r=null;switch(void 0===e.horizontal&&(e.horizontal=!0),function(t){return"function"==typeof t.colors?"continuous":t.ruler?"ruler":Array.isArray(t.colors)&&t.horizontal?"range":Array.isArray(t.colors)?"category":"winner"}(e)){case"continuous":r=new rs({target:t,props:{...e,themeData:e.themeData||e.theme}});break;case"ruler":r=new zs({target:t,props:{...e,themeData:e.themeData||e.theme}});break;case"category":r=new Fa({target:t,props:{...e,themeData:e.themeData||e.theme,swatches:ds(e.colors,e.breaks,e.labels,e.format,!1,e.rtl,e.horizontal),reverse:e.reverse,height:"auto"}});break;case"range":r=new As({target:t,props:{...e,themeData:e.themeData||e.theme}});break;default:t.innerHTML="winner tk"}return{on:function(t,e){var n;null===(n=r)||void 0===n||n.$on(t,t=>{e(t.detail)})},highlight:t=>{var e;(null===(e=r)||void 0===e?void 0:e.$$set)&&r.$$set({highlightedValue:"number"==typeof t?t:null})},container:t,rendered:null===(n=r)||void 0===n?void 0:n.rendered}},t.highlightTimer=La})(ch.exports);var uh=ch.exports;function hh(t){return(hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fh(t){var e=function(t,e){if("object"!==hh(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==hh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===hh(e)?e:String(e)}function ph(t,e,n){return(e=fh(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dh={exports:{}};!function(t,e){!function(t){function e(){}function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function d(t){return document.createTextNode(t)}function g(){return d(" ")}function m(){return d("")}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){for(const n in e)y(t,n,e[n])}function b(t,e){e=""+e,t.data!==e&&(t.data=e)}function x(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function w(t,e,n){t.classList.toggle(e,!!n)}let k;function _(t){k=t}function M(){if(!k)throw new Error("Function called outside component initialization");return k}function A(t){M().$$.after_update.push(t)}function T(){const t=M();return function(e,n){let{cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.$$.callbacks[e];if(i){const o=function(t,e){let{bubbles:n=!1,cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}(e,n,{cancelable:r});return i.slice().forEach(e=>{e.call(t,o)}),!o.defaultPrevented}return!0}}const E=[],$=[];let O=[];const S=[],L=Promise.resolve();let N=!1;function C(){N||(N=!0,L.then(I))}function z(){return C(),L}function D(t){O.push(t)}const j=new Set;let R=0;function I(){if(0!==R)return;const t=k;do{try{for(;R<E.length;){const t=E[R];R++,_(t),P(t.$$)}}catch(t){throw E.length=0,R=0,t}for(_(null),E.length=0,R=0;$.length;)$.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];j.has(e)||(j.add(e),e())}O.length=0}while(E.length);for(;S.length;)S.pop()();N=!1,j.clear(),_(t)}function P(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const F=new Set;let U;function H(){U={r:0,c:[],p:U}}function B(){U.r||o(U.c),U=U.p}function q(t,e){t&&t.i&&(F.delete(t),t.i(e))}function Y(t,e,n,r){if(t&&t.o){if(F.has(t))return;F.add(t),U.c.push(()=>{F.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function W(t){return void 0!==(null==t?void 0:t.length)?t:Array.from(t)}function G(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function V(t){return"object"==typeof t&&null!==t?t:{}}function X(t){t&&t.c()}function K(t,e,n){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),D(()=>{const e=t.$$.on_mount.map(r).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]}),s.forEach(D)}function Z(t,e){const n=t.$$;null!==n.fragment&&(function(t){const e=[],n=[];O.forEach(r=>-1===t.indexOf(r)?e.push(r):n.push(r)),n.forEach(t=>t()),O=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function J(t,n,r,a,s,l){let c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1];const f=k;_(t);const p=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:s,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};c&&c(p.root);let d=!1;if(p.ctx=r?r(t,n.props||{},(function(e,n){const r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return p.ctx&&s(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),d&&function(t,e){-1===t.$$.dirty[0]&&(E.push(t),C(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],p.update(),d=!0,o(p.before_update),p.fragment=!!a&&a(p.ctx),n.target){if(n.hydrate){const t=(g=n.target,Array.from(g.childNodes));p.fragment&&p.fragment.l(t),t.forEach(h)}else p.fragment&&p.fragment.c();n.intro&&q(t.$$.fragment),K(t,n.target,n.anchor),I()}var g;_(f)}class Q{constructor(){ph(this,"$$",void 0),ph(this,"$$set",void 0)}$destroy(){Z(this,1),this.$destroy=e}$on(t,n){if(!a(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function tt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let i=t;for(let t=0;t<r.length&&null!=i;t++)i=i[r[t]];return null==i?n:i}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var et="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==so?so:"undefined"!=typeof self?self:{};function nt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rt,it={exports:{}};
/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE */function ot(){return rt||(rt=1,function(t,e){t.exports=function(){const{entries:t,setPrototypeOf:e,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:o,seal:a,create:s}=Object,{apply:l,construct:c}="undefined"!=typeof Reflect&&Reflect;o||(o=function(t){return t}),a||(a=function(t){return t}),l||(l=function(t,e,n){return t.apply(e,n)}),c||(c=function(t,e){return new t(...e)});const u=w(Array.prototype.forEach),h=w(Array.prototype.pop),f=w(Array.prototype.push),p=w(String.prototype.toLowerCase),d=w(String.prototype.toString),g=w(String.prototype.match),m=w(String.prototype.replace),y=w(String.prototype.indexOf),v=w(String.prototype.trim),b=w(RegExp.prototype.test),x=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,n)}}(TypeError);function w(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return l(t,e,r)}}function k(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;e&&e(t,null);let o=r.length;for(;o--;){let e=r[o];if("string"==typeof e){const t=i(e);t!==e&&(n(r)||(r[o]=t),e=t)}t[e]=!0}return t}function _(e){const n=s(null);for(const[r,o]of t(e))void 0!==i(e,r)&&(n[r]=o);return n}function M(t,e){for(;null!==t;){const n=i(t,e);if(n){if(n.get)return w(n.get);if("function"==typeof n.value)return w(n.value)}t=r(t)}return function(t){return console.warn("fallback value for",t),null}}const A=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),T=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),E=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),O=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),S=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),L=o(["#text"]),N=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),C=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),z=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),D=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),j=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),R=a(/<%[\w\W]*|[\w\W]*%>/gm),I=a(/\${[\w\W]*}/gm),P=a(/^data-[\-\w.\u00B7-\uFFFF]/),F=a(/^aria-[\-\w]+$/),U=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),H=a(/^(?:\w+script|data):/i),B=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),q=a(/^html$/i);var Y=Object.freeze({__proto__:null,MUSTACHE_EXPR:j,ERB_EXPR:R,TMPLIT_EXPR:I,DATA_ATTR:P,ARIA_ATTR:F,IS_ALLOWED_URI:U,IS_SCRIPT_OR_DATA:H,ATTR_WHITESPACE:B,DOCTYPE_NAME:q});const W=function(){return"undefined"==typeof window?null:window},G=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";e&&e.hasAttribute(r)&&(n=e.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};return function e(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W();const r=t=>e(t);if(r.version="3.0.6",r.removed=[],!n||!n.document||9!==n.document.nodeType)return r.isSupported=!1,r;let{document:i}=n;const a=i,l=a.currentScript,{DocumentFragment:c,HTMLTemplateElement:w,Node:j,Element:R,NodeFilter:I,NamedNodeMap:P=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:F,DOMParser:H,trustedTypes:B}=n,V=R.prototype,X=M(V,"cloneNode"),K=M(V,"nextSibling"),Z=M(V,"childNodes"),J=M(V,"parentNode");if("function"==typeof w){const t=i.createElement("template");t.content&&t.content.ownerDocument&&(i=t.content.ownerDocument)}let Q,tt="";const{implementation:et,createNodeIterator:nt,createDocumentFragment:rt,getElementsByTagName:it}=i,{importNode:ot}=a;let at={};r.isSupported="function"==typeof t&&"function"==typeof J&&et&&void 0!==et.createHTMLDocument;const{MUSTACHE_EXPR:st,ERB_EXPR:lt,TMPLIT_EXPR:ct,DATA_ATTR:ut,ARIA_ATTR:ht,IS_SCRIPT_OR_DATA:ft,ATTR_WHITESPACE:pt}=Y;let{IS_ALLOWED_URI:dt}=Y,gt=null;const mt=k({},[...A,...T,...E,...O,...L]);let yt=null;const vt=k({},[...N,...C,...z,...D]);let bt=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xt=null,wt=null,kt=!0,_t=!0,Mt=!1,At=!0,Tt=!1,Et=!1,$t=!1,Ot=!1,St=!1,Lt=!1,Nt=!1,Ct=!0,zt=!1;const Dt="user-content-";let jt=!0,Rt=!1,It={},Pt=null;const Ft=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ut=null;const Ht=k({},["audio","video","img","source","image","track"]);let Bt=null;const qt=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Yt="http://www.w3.org/1998/Math/MathML",Wt="http://www.w3.org/2000/svg",Gt="http://www.w3.org/1999/xhtml";let Vt=Gt,Xt=!1,Kt=null;const Zt=k({},[Yt,Wt,Gt],d);let Jt=null;const Qt=["application/xhtml+xml","text/html"],te="text/html";let ee=null,ne=null;const re=i.createElement("form"),ie=function(t){return t instanceof RegExp||t instanceof Function},oe=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ne||ne!==t){if(t&&"object"==typeof t||(t={}),t=_(t),Jt=Jt=-1===Qt.indexOf(t.PARSER_MEDIA_TYPE)?te:t.PARSER_MEDIA_TYPE,ee="application/xhtml+xml"===Jt?d:p,gt="ALLOWED_TAGS"in t?k({},t.ALLOWED_TAGS,ee):mt,yt="ALLOWED_ATTR"in t?k({},t.ALLOWED_ATTR,ee):vt,Kt="ALLOWED_NAMESPACES"in t?k({},t.ALLOWED_NAMESPACES,d):Zt,Bt="ADD_URI_SAFE_ATTR"in t?k(_(qt),t.ADD_URI_SAFE_ATTR,ee):qt,Ut="ADD_DATA_URI_TAGS"in t?k(_(Ht),t.ADD_DATA_URI_TAGS,ee):Ht,Pt="FORBID_CONTENTS"in t?k({},t.FORBID_CONTENTS,ee):Ft,xt="FORBID_TAGS"in t?k({},t.FORBID_TAGS,ee):{},wt="FORBID_ATTR"in t?k({},t.FORBID_ATTR,ee):{},It="USE_PROFILES"in t&&t.USE_PROFILES,kt=!1!==t.ALLOW_ARIA_ATTR,_t=!1!==t.ALLOW_DATA_ATTR,Mt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,At=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Tt=t.SAFE_FOR_TEMPLATES||!1,Et=t.WHOLE_DOCUMENT||!1,St=t.RETURN_DOM||!1,Lt=t.RETURN_DOM_FRAGMENT||!1,Nt=t.RETURN_TRUSTED_TYPE||!1,Ot=t.FORCE_BODY||!1,Ct=!1!==t.SANITIZE_DOM,zt=t.SANITIZE_NAMED_PROPS||!1,jt=!1!==t.KEEP_CONTENT,Rt=t.IN_PLACE||!1,dt=t.ALLOWED_URI_REGEXP||U,Vt=t.NAMESPACE||Gt,bt=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&ie(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(bt.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ie(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(bt.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(bt.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Tt&&(_t=!1),Lt&&(St=!0),It&&(gt=k({},[...L]),yt=[],!0===It.html&&(k(gt,A),k(yt,N)),!0===It.svg&&(k(gt,T),k(yt,C),k(yt,D)),!0===It.svgFilters&&(k(gt,E),k(yt,C),k(yt,D)),!0===It.mathMl&&(k(gt,O),k(yt,z),k(yt,D))),t.ADD_TAGS&&(gt===mt&&(gt=_(gt)),k(gt,t.ADD_TAGS,ee)),t.ADD_ATTR&&(yt===vt&&(yt=_(yt)),k(yt,t.ADD_ATTR,ee)),t.ADD_URI_SAFE_ATTR&&k(Bt,t.ADD_URI_SAFE_ATTR,ee),t.FORBID_CONTENTS&&(Pt===Ft&&(Pt=_(Pt)),k(Pt,t.FORBID_CONTENTS,ee)),jt&&(gt["#text"]=!0),Et&&k(gt,["html","head","body"]),gt.table&&(k(gt,["tbody"]),delete xt.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Q=t.TRUSTED_TYPES_POLICY,tt=Q.createHTML("")}else void 0===Q&&(Q=G(B,l)),null!==Q&&"string"==typeof tt&&(tt=Q.createHTML(""));o&&o(t),ne=t}},ae=k({},["mi","mo","mn","ms","mtext"]),se=k({},["foreignobject","desc","title","annotation-xml"]),le=k({},["title","style","font","a","script"]),ce=k({},T);k(ce,E),k(ce,$);const ue=k({},O);k(ue,S);const he=function(t){let e=J(t);e&&e.tagName||(e={namespaceURI:Vt,tagName:"template"});const n=p(t.tagName),r=p(e.tagName);return!!Kt[t.namespaceURI]&&(t.namespaceURI===Wt?e.namespaceURI===Gt?"svg"===n:e.namespaceURI===Yt?"svg"===n&&("annotation-xml"===r||ae[r]):Boolean(ce[n]):t.namespaceURI===Yt?e.namespaceURI===Gt?"math"===n:e.namespaceURI===Wt?"math"===n&&se[r]:Boolean(ue[n]):t.namespaceURI===Gt?!(e.namespaceURI===Wt&&!se[r])&&!(e.namespaceURI===Yt&&!ae[r])&&!ue[n]&&(le[n]||!ce[n]):!("application/xhtml+xml"!==Jt||!Kt[t.namespaceURI]))},fe=function(t){f(r.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){t.remove()}},pe=function(t,e){try{f(r.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){f(r.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!yt[t])if(St||Lt)try{fe(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},de=function(t){let e=null,n=null;if(Ot)t="<remove></remove>"+t;else{const e=g(t,/^[\r\n\t ]+/);n=e&&e[0]}"application/xhtml+xml"===Jt&&Vt===Gt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const r=Q?Q.createHTML(t):t;if(Vt===Gt)try{e=(new H).parseFromString(r,Jt)}catch(t){}if(!e||!e.documentElement){e=et.createDocument(Vt,"template",null);try{e.documentElement.innerHTML=Xt?tt:r}catch(t){}}const o=e.body||e.documentElement;return t&&n&&o.insertBefore(i.createTextNode(n),o.childNodes[0]||null),Vt===Gt?it.call(e,Et?"html":"body")[0]:Et?e.documentElement:o},ge=function(t){return nt.call(t.ownerDocument||t,t,I.SHOW_ELEMENT|I.SHOW_COMMENT|I.SHOW_TEXT,null)},me=function(t){return t instanceof F&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof P)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},ye=function(t){return"function"==typeof j&&t instanceof j},ve=function(t,e,n){at[t]&&u(at[t],t=>{t.call(r,e,n,ne)})},be=function(t){let e=null;if(ve("beforeSanitizeElements",t,null),me(t))return fe(t),!0;const n=ee(t.nodeName);if(ve("uponSanitizeElement",t,{tagName:n,allowedTags:gt}),t.hasChildNodes()&&!ye(t.firstElementChild)&&b(/<[/\w]/g,t.innerHTML)&&b(/<[/\w]/g,t.textContent))return fe(t),!0;if(!gt[n]||xt[n]){if(!xt[n]&&we(n)){if(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,n))return!1;if(bt.tagNameCheck instanceof Function&&bt.tagNameCheck(n))return!1}if(jt&&!Pt[n]){const e=J(t)||t.parentNode,n=Z(t)||t.childNodes;if(n&&e)for(let r=n.length-1;r>=0;--r)e.insertBefore(X(n[r],!0),K(t))}return fe(t),!0}return t instanceof R&&!he(t)?(fe(t),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!b(/<\/no(script|embed|frames)/i,t.innerHTML)?(Tt&&3===t.nodeType&&(e=t.textContent,u([st,lt,ct],t=>{e=m(e,t," ")}),t.textContent!==e&&(f(r.removed,{element:t.cloneNode()}),t.textContent=e)),ve("afterSanitizeElements",t,null),!1):(fe(t),!0)},xe=function(t,e,n){if(Ct&&("id"===e||"name"===e)&&(n in i||n in re))return!1;if(_t&&!wt[e]&&b(ut,e));else if(kt&&b(ht,e));else if(!yt[e]||wt[e]){if(!(we(t)&&(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,t)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(t))&&(bt.attributeNameCheck instanceof RegExp&&b(bt.attributeNameCheck,e)||bt.attributeNameCheck instanceof Function&&bt.attributeNameCheck(e))||"is"===e&&bt.allowCustomizedBuiltInElements&&(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,n)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(n))))return!1}else if(Bt[e]);else if(b(dt,m(n,pt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==y(n,"data:")||!Ut[t])if(Mt&&!b(ft,m(n,pt,"")));else if(n)return!1;return!0},we=function(t){return t.indexOf("-")>0},ke=function(t){ve("beforeSanitizeAttributes",t,null);const{attributes:e}=t;if(!e)return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:yt};let i=e.length;for(;i--;){const o=e[i],{name:a,namespaceURI:s,value:l}=o,c=ee(a);let f="value"===a?l:v(l);if(n.attrName=c,n.attrValue=f,n.keepAttr=!0,n.forceKeepAttr=void 0,ve("uponSanitizeAttribute",t,n),f=n.attrValue,n.forceKeepAttr)continue;if(pe(a,t),!n.keepAttr)continue;if(!At&&b(/\/>/i,f)){pe(a,t);continue}Tt&&u([st,lt,ct],t=>{f=m(f,t," ")});const p=ee(t.nodeName);if(xe(p,c,f)){if(!zt||"id"!==c&&"name"!==c||(pe(a,t),f=Dt+f),Q&&"object"==typeof B&&"function"==typeof B.getAttributeType)if(s);else switch(B.getAttributeType(p,c)){case"TrustedHTML":f=Q.createHTML(f);break;case"TrustedScriptURL":f=Q.createScriptURL(f)}try{s?t.setAttributeNS(s,a,f):t.setAttribute(a,f),h(r.removed)}catch(t){}}}ve("afterSanitizeAttributes",t,null)},_e=function t(e){let n=null;const r=ge(e);for(ve("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)ve("uponSanitizeShadowNode",n,null),be(n)||(n.content instanceof c&&t(n.content),ke(n));ve("afterSanitizeShadowDOM",e,null)};return r.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,i=null,o=null,s=null;if(Xt=!t,Xt&&(t="\x3c!--\x3e"),"string"!=typeof t&&!ye(t)){if("function"!=typeof t.toString)throw x("toString is not a function");if("string"!=typeof(t=t.toString()))throw x("dirty is not a string, aborting")}if(!r.isSupported)return t;if($t||oe(e),r.removed=[],"string"==typeof t&&(Rt=!1),Rt){if(t.nodeName){const e=ee(t.nodeName);if(!gt[e]||xt[e])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof j)n=de("\x3c!----\x3e"),i=n.ownerDocument.importNode(t,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?n=i:n.appendChild(i);else{if(!St&&!Tt&&!Et&&-1===t.indexOf("<"))return Q&&Nt?Q.createHTML(t):t;if(n=de(t),!n)return St?null:Nt?tt:""}n&&Ot&&fe(n.firstChild);const l=ge(Rt?t:n);for(;o=l.nextNode();)be(o)||(o.content instanceof c&&_e(o.content),ke(o));if(Rt)return t;if(St){if(Lt)for(s=rt.call(n.ownerDocument);n.firstChild;)s.appendChild(n.firstChild);else s=n;return(yt.shadowroot||yt.shadowrootmode)&&(s=ot.call(a,s,!0)),s}let h=Et?n.outerHTML:n.innerHTML;return Et&&gt["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&b(q,n.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+h),Tt&&u([st,lt,ct],t=>{h=m(h,t," ")}),Q&&Nt?Q.createHTML(h):h},r.setConfig=function(){oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),$t=!0},r.clearConfig=function(){ne=null,$t=!1},r.isValidAttribute=function(t,e,n){ne||oe({});const r=ee(t),i=ee(e);return xe(r,i,n)},r.addHook=function(t,e){"function"==typeof e&&(at[t]=at[t]||[],f(at[t],e))},r.removeHook=function(t){if(at[t])return h(at[t])},r.removeHooks=function(t){at[t]&&(at[t]=[])},r.removeAllHooks=function(){at={}},r}()}()}(it)),it.exports}window.DOMPurify||(window.DOMPurify=ot().default||ot());var at,st=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},lt=nt(st),ct="object"==typeof et&&et&&et.Object===Object&&et,ut="object"==typeof self&&self&&self.Object===Object&&self,ht=ct||ut||Function("return this")(),ft=ht.Symbol,pt=ft,dt=Object.prototype,gt=dt.hasOwnProperty,mt=dt.toString,yt=pt?pt.toStringTag:void 0,vt=Object.prototype.toString,bt=function(t){var e=gt.call(t,yt),n=t[yt];try{t[yt]=void 0;var r=!0}catch(t){}var i=mt.call(t);return r&&(e?t[yt]=n:delete t[yt]),i},xt=ft?ft.toStringTag:void 0,wt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":xt&&xt in Object(t)?bt(t):function(t){return vt.call(t)}(t)},kt=wt,_t=st,Mt=ht["__core-js_shared__"],At=(at=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||""))?"Symbol(src)_1."+at:"",Tt=Function.prototype.toString,Et=function(t){if(!_t(t))return!1;var e=kt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},$t=function(t){return!!At&&At in t},Ot=st,St=/^\[object .+?Constructor\]$/,Lt=Function.prototype,Nt=Object.prototype,Ct=Lt.toString,zt=Nt.hasOwnProperty,Dt=RegExp("^"+Ct.call(zt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jt=function(t){return!(!Ot(t)||$t(t))&&(Et(t)?Dt:St).test(function(t){if(null!=t){try{return Tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))},Rt=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return jt(n)?n:void 0},It=Rt,Pt=function(){try{var t=It(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ft=function(t,e){return t===e||t!=t&&e!=e},Ut=Ft,Ht=Object.prototype.hasOwnProperty,Bt=Array.isArray,qt=wt,Yt=function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==qt(t)},Wt=Bt,Gt=Yt,Vt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xt=/^\w*$/,Kt=Rt(Object,"create"),Zt=Kt,Jt=Kt,Qt=Object.prototype.hasOwnProperty,te=Kt,ee=Object.prototype.hasOwnProperty,ne=Kt,re=function(){this.__data__=Zt?Zt(null):{},this.size=0},ie=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},oe=function(t){var e=this.__data__;if(Jt){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Qt.call(e,t)?e[t]:void 0};function ae(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ae.prototype.clear=re,ae.prototype.delete=ie,ae.prototype.get=oe,ae.prototype.has=function(t){var e=this.__data__;return te?void 0!==e[t]:ee.call(e,t)},ae.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ne&&void 0===e?"__lodash_hash_undefined__":e,this};var se=ae,le=Ft,ce=function(t,e){for(var n=t.length;n--;)if(le(t[n][0],e))return n;return-1},ue=ce,he=Array.prototype.splice,fe=ce,pe=ce,de=ce,ge=function(){this.__data__=[],this.size=0};function me(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}me.prototype.clear=ge,me.prototype.delete=function(t){var e=this.__data__,n=ue(e,t);return!(n<0||(n==e.length-1?e.pop():he.call(e,n,1),--this.size,0))},me.prototype.get=function(t){var e=this.__data__,n=fe(e,t);return n<0?void 0:e[n][1]},me.prototype.has=function(t){return pe(this.__data__,t)>-1},me.prototype.set=function(t,e){var n=this.__data__,r=de(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var ye=me,ve=Rt(ht,"Map"),be=se,xe=ye,we=ve,ke=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},_e=function(t,e){var n=t.__data__;return ke(e)?n["string"==typeof e?"string":"hash"]:n.map},Me=_e,Ae=_e,Te=_e,Ee=_e;function $e(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$e.prototype.clear=function(){this.size=0,this.__data__={hash:new be,map:new(we||xe),string:new be}},$e.prototype.delete=function(t){var e=Me(this,t).delete(t);return this.size-=e?1:0,e},$e.prototype.get=function(t){return Ae(this,t).get(t)},$e.prototype.has=function(t){return Te(this,t).has(t)},$e.prototype.set=function(t,e){var n=Ee(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var Oe=$e;function Se(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Se.Cache||Oe),n}Se.Cache=Oe;var Le=Se,Ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ce=/\\(\\)?/g,ze=function(t){var e=Le((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ne,(function(t,n,r,i){e.push(r?i.replace(Ce,"$1"):n||t)})),e}),(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}(),De=Bt,je=Yt,Re=ft?ft.prototype:void 0,Ie=Re?Re.toString:void 0,Pe=function t(e){if("string"==typeof e)return e;if(De(e))return function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(e,t)+"";if(je(e))return Ie?Ie.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},Fe=Bt,Ue=function(t,e){if(Wt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Gt(t))||Xt.test(t)||!Vt.test(t)||null!=e&&t in Object(e)},He=ze,Be=/^(?:0|[1-9]\d*)$/,qe=Yt,Ye=function(t,e,n){var r=t[e];Ht.call(t,e)&&Ut(r,n)&&(void 0!==n||e in t)||function(t,e,n){"__proto__"==e&&Pt?Pt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}(t,e,n)},We=function(t,e){return Fe(t)?t:Ue(t,e)?[t]:He(function(t){return null==t?"":Pe(t)}(t))},Ge=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Be.test(t))&&t>-1&&t%1==0&&t<e},Ve=st,Xe=function(t){if("string"==typeof t||qe(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},Ke=nt((function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:function(t,e,n,r){if(!Ve(t))return t;for(var i=-1,o=(e=We(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var l=Xe(e[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(i!=a){var u=s[l];void 0===(c=r?r(u,l,s):void 0)&&(c=Ve(u)?u:Ge(e[i+1])?[]:{})}Ye(s,l,c),s=s[l]}return t}(t,e,n,r)}));function Ze(t,e,n){if(!((t=>Array.isArray(t))(e)?[...e]:e.split(".")).length)throw new Error("Key should not be empty");Ke(t,e,n,t=>lt(t)?t:{})}var Je="object"==typeof et&&et&&et.Object===Object&&et,Qe=Je,tn="object"==typeof self&&self&&self.Object===Object&&self,en=Qe||tn||Function("return this")(),nn=en.Symbol,rn=nn,on=Object.prototype,an=on.hasOwnProperty,sn=on.toString,ln=rn?rn.toStringTag:void 0,cn=Object.prototype.toString,un=function(t){var e=an.call(t,ln),n=t[ln];try{t[ln]=void 0;var r=!0}catch(t){}var i=sn.call(t);return r&&(e?t[ln]=n:delete t[ln]),i},hn=nn?nn.toStringTag:void 0,fn=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":hn&&hn in Object(t)?un(t):function(t){return cn.call(t)}(t)},pn=function(t){return null!=t&&"object"==typeof t},dn=fn,gn=pn,mn=function(t){return gn(t)&&"[object Arguments]"==dn(t)},yn=pn,vn=Object.prototype,bn=vn.hasOwnProperty,xn=vn.propertyIsEnumerable,wn=mn(function(){return arguments}())?mn:function(t){return yn(t)&&bn.call(t,"callee")&&!xn.call(t,"callee")},kn=Array.isArray,_n={exports:{}},Mn=function(){return!1};!function(t,e){var n=en,r=Mn,i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?n.Buffer:void 0,s=(a?a.isBuffer:void 0)||r;t.exports=s}(_n,_n.exports);var An=/^(?:0|[1-9]\d*)$/,Tn={exports:{}};!function(t,e){var n=Je,r=e&&!e.nodeType&&e,i=r&&t&&!t.nodeType&&t,o=i&&i.exports===r&&n.process,a=function(){try{return i&&i.require&&i.require("util").types||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=a}(Tn,Tn.exports);var En=Tn.exports;En&&En.isTypedArray;var $n=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},On=fn,Sn=$n,Ln=function(t,e){return t===e||t!=t&&e!=e},Nn=function(t,e){for(var n=t.length;n--;)if(Ln(t[n][0],e))return n;return-1},Cn=Nn,zn=Array.prototype.splice,Dn=Nn,jn=Nn,Rn=Nn,In=function(){this.__data__=[],this.size=0};function Pn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pn.prototype.clear=In,Pn.prototype.delete=function(t){var e=this.__data__,n=Cn(e,t);return!(n<0||(n==e.length-1?e.pop():zn.call(e,n,1),--this.size,0))},Pn.prototype.get=function(t){var e=this.__data__,n=Dn(e,t);return n<0?void 0:e[n][1]},Pn.prototype.has=function(t){return jn(this.__data__,t)>-1},Pn.prototype.set=function(t,e){var n=this.__data__,r=Rn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Fn=Pn,Un=en["__core-js_shared__"],Hn=function(){var t=/[^.]+$/.exec(Un&&Un.keys&&Un.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Bn=Function.prototype.toString,qn=function(t){if(null!=t){try{return Bn.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Yn=function(t){if(!Sn(t))return!1;var e=On(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Wn=function(t){return!!Hn&&Hn in t},Gn=$n,Vn=qn,Xn=/^\[object .+?Constructor\]$/,Kn=Function.prototype,Zn=Object.prototype,Jn=Kn.toString,Qn=Zn.hasOwnProperty,tr=RegExp("^"+Jn.call(Qn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),er=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Gn(t)||Wn(t))&&(Yn(t)?tr:Xn).test(Vn(t))}(n)?n:void 0},nr=er(en,"Map"),rr=er(Object,"create"),ir=rr,or=rr,ar=Object.prototype.hasOwnProperty,sr=rr,lr=Object.prototype.hasOwnProperty,cr=rr,ur=function(){this.__data__=ir?ir(null):{},this.size=0},hr=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},fr=function(t){var e=this.__data__;if(or){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return ar.call(e,t)?e[t]:void 0};function pr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pr.prototype.clear=ur,pr.prototype.delete=hr,pr.prototype.get=fr,pr.prototype.has=function(t){var e=this.__data__;return sr?void 0!==e[t]:lr.call(e,t)},pr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=cr&&void 0===e?"__lodash_hash_undefined__":e,this};var dr=pr,gr=Fn,mr=nr,yr=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},vr=function(t,e){var n=t.__data__;return yr(e)?n["string"==typeof e?"string":"hash"]:n.map},br=vr,xr=vr,wr=vr,kr=vr;function _r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_r.prototype.clear=function(){this.size=0,this.__data__={hash:new dr,map:new(mr||gr),string:new dr}},_r.prototype.delete=function(t){var e=br(this,t).delete(t);return this.size-=e?1:0,e},_r.prototype.get=function(t){return xr(this,t).get(t)},_r.prototype.has=function(t){return wr(this,t).has(t)},_r.prototype.set=function(t,e){var n=kr(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var Mr=_r;en.Uint8Array;var Ar=nn?nn.prototype:void 0;Ar&&Ar.valueOf;var Tr=er(en,"DataView"),Er=nr,$r=er(en,"Promise"),Or=er(en,"Set"),Sr=er(en,"WeakMap"),Lr=fn,Nr=qn,Cr="[object Map]",zr="[object Promise]",Dr="[object Set]",jr="[object WeakMap]",Rr="[object DataView]",Ir=Nr(Tr),Pr=Nr(Er),Fr=Nr($r),Ur=Nr(Or),Hr=Nr(Sr),Br=Lr;(Tr&&Br(new Tr(new ArrayBuffer(1)))!=Rr||Er&&Br(new Er)!=Cr||$r&&Br($r.resolve())!=zr||Or&&Br(new Or)!=Dr||Sr&&Br(new Sr)!=jr)&&(Br=function(t){var e=Lr(t),n="[object Object]"==e?t.constructor:void 0,r=n?Nr(n):"";if(r)switch(r){case Ir:return Rr;case Pr:return Cr;case Fr:return zr;case Ur:return Dr;case Hr:return jr}return e});var qr=fn,Yr=pn,Wr=function(t){return"symbol"==typeof t||Yr(t)&&"[object Symbol]"==qr(t)},Gr=kn,Vr=Wr,Xr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kr=/^\w*$/,Zr=Mr;function Jr(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Jr.Cache||Zr),n}Jr.Cache=Zr;var Qr=Jr,ti=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ei=/\\(\\)?/g,ni=function(t){var e=Qr((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ti,(function(t,n,r,i){e.push(r?i.replace(ei,"$1"):n||t)})),e}),(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}(),ri=kn,ii=Wr,oi=nn?nn.prototype:void 0,ai=oi?oi.toString:void 0,si=function t(e){if("string"==typeof e)return e;if(ri(e))return function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(e,t)+"";if(ii(e))return ai?ai.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},li=kn,ci=function(t,e){if(Gr(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Vr(t))||Kr.test(t)||!Xr.test(t)||null!=e&&t in Object(e)},ui=ni,hi=Wr,fi=function(t,e){return li(t)?t:ci(t,e)?[t]:ui(function(t){return null==t?"":si(t)}(t))},pi=wn,di=kn,gi=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&An.test(t))&&t>-1&&t%1==0&&t<e},mi=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},yi=function(t){if("string"==typeof t||hi(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},vi=Object.prototype.hasOwnProperty,bi=function(t,e){return null!=t&&vi.call(t,e)},xi=function(t,e,n){for(var r=-1,i=(e=fi(e,t)).length,o=!1;++r<i;){var a=yi(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&mi(i)&&gi(a,i)&&(di(t)||pi(t))},wi=nt((function(t,e){return null!=t&&xi(t,e,bi)}));function ki(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}var _i=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function Mi(t){var e,n;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var r=t-2,i=t-1;r>1;)i*=r,r--;return 0===i&&(i=1),i}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Mi(1-t));if(t>=171.35)return 1/0;if(t>85){var o=t*t,a=o*t,s=a*t,l=s*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*o)-139/(51840*a)-571/(2488320*s)+163879/(209018880*l)+5246819/(75246796800*l*t))}--t,n=_i[0];for(var c=1;c<_i.length;++c)n+=_i[c]/(t+c);return e=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*n}var Ai=Object.freeze({__proto__:null,add:function(t,e){return Number(t)+Number(e)},sub:function(t,e){return t-e},mul:function(t,e){return t*e},div:function(t,e){return t/e},mod:function(t,e){return t%e},concat:function(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e},equal:function(t,e){return t===e},notEqual:function(t,e){return t!==e},greaterThan:function(t,e){return t>e},lessThan:function(t,e){return t<e},greaterThanEqual:function(t,e){return t>=e},lessThanEqual:function(t,e){return t<=e},andOperator:function(t,e){return Boolean(t&&e)},orOperator:function(t,e){return Boolean(t||e)},inOperator:function(t,e){return ki(e,t)},sinh:function(t){return(Math.exp(t)-Math.exp(-t))/2},cosh:function(t){return(Math.exp(t)+Math.exp(-t))/2},tanh:function(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))},asinh:function(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},atanh:function(t){return Math.log((1+t)/(1-t))/2},log10:function(t){return Math.log(t)*Math.LOG10E},neg:function(t){return-t},not:function(t){return!t},trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)},random:function(t){return Math.random()*(t||1)},factorial:function(t){return Mi(t+1)},gamma:Mi,stringOrArrayLength:function(t){return Array.isArray(t)?t.length:String(t).length},hypot:function(){for(var t=0,e=0,n=0;n<arguments.length;n++){var r,i=Math.abs(arguments[n]);e<i?(t=t*(r=e/i)*r+1,e=i):t+=i>0?(r=i/e)*r:i}return e===1/0?1/0:e*Math.sqrt(t)},condition:function(t,e,n){return t?e:n},roundTo:function(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))},setVar:function(t,e,n){return n&&(n[t]=e),e},arrayIndex:function(t,e){return t[0|e]},max:function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)},min:function(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)},arrayMap:function(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))},arrayFold:function(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)},arrayFilter:function(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))},stringOrArrayIndexOf:function(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)},arrayJoin:function(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)},sign:function(t){return(t>0)-(t<0)||+t},cbrt:function(t){return t<0?-Math.pow(-t,1/3):Math.pow(t,1/3)},expm1:function(t){return Math.exp(t)-1},log1p:function(t){return Math.log(1+t)},log2:function(t){return Math.log(t)/Math.LN2},sum:function(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}}),Ti="INUMBER",Ei="IOP1",$i="IOP2",Oi="IOP3",Si="IVAR",Li="IVARNAME",Ni="IFUNCALL",Ci="IFUNDEF",zi="IEXPR",Di="IEXPREVAL",ji="IMEMBER",Ri="IENDSTATEMENT",Ii="IARRAY";function Pi(t,e){this.type=t,this.value=null!=e?e:0}function Fi(t){return new Pi(Ei,t)}function Ui(t){return new Pi($i,t)}function Hi(t,e,n){var r,i,o,a,s,l,c=[];if(qi(t))return Yi(t,n);for(var u=t.length,h=0;h<u;h++){var f=t[h],p=f.type;if(p===Ti||p===Li)c.push(f.value);else if(p===$i)i=c.pop(),r=c.pop(),"and"===f.value?c.push(!!r&&!!Hi(i,e,n)):"or"===f.value?c.push(!!r||!!Hi(i,e,n)):"="===f.value?(a=e.binaryOps[f.value],c.push(a(r,Hi(i,e,n),n))):(a=e.binaryOps[f.value],c.push(a(Yi(r,n),Yi(i,n))));else if(p===Oi)o=c.pop(),i=c.pop(),r=c.pop(),"?"===f.value?c.push(Hi(r?i:o,e,n)):(a=e.ternaryOps[f.value],c.push(a(Yi(r,n),Yi(i,n),Yi(o,n))));else if(p===Si){if(/^__proto__|prototype|constructor$/.test(f.value))throw new Error("prototype access detected");if(f.value in e.functions)c.push(e.functions[f.value]);else if(f.value in e.unaryOps&&e.parser.isOperatorEnabled(f.value))c.push(e.unaryOps[f.value]);else{var d=n[f.value];if(void 0===d)throw new Error("undefined variable: "+f.value);c.push(d)}}else if(p===Ei)r=c.pop(),a=e.unaryOps[f.value],c.push(a(Yi(r,n)));else if(p===Ni){for(l=f.value,s=[];l-- >0;)s.unshift(Yi(c.pop(),n));if(!(a=c.pop()).apply||!a.call)throw new Error(a+" is not a function");c.push(a.apply(void 0,s))}else if(p===Ci)c.push(function(){for(var t=c.pop(),r=[],i=f.value;i-- >0;)r.unshift(c.pop());var o=c.pop(),a=function(){for(var i=Object.assign({},n),o=0,a=r.length;o<a;o++)i[r[o]]=arguments[o];return Hi(t,e,i)};return Object.defineProperty(a,"name",{value:o,writable:!1}),n[o]=a,a}());else if(p===zi)c.push(Bi(f,e));else if(p===Di)c.push(f);else if(p===ji)r=c.pop(),c.push(r[f.value]);else if(p===Ri)c.pop();else{if(p!==Ii)throw new Error("invalid Expression");for(l=f.value,s=[];l-- >0;)s.unshift(c.pop());c.push(s)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:Yi(c[0],n)}function Bi(t,e,n){return qi(t)?t:{type:Di,value:function(n){return Hi(t.value,e,n)}}}function qi(t){return t&&t.type===Di}function Yi(t,e){return qi(t)?t.value(e):t}Pi.prototype.toString=function(){switch(this.type){case Ti:case Ei:case $i:case Oi:case Si:case Li:case Ri:return this.value;case Ni:return"CALL "+this.value;case Ci:return"DEF "+this.value;case Ii:return"ARRAY "+this.value;case ji:return"."+this.value;default:return"Invalid Instruction"}};var Wi="TEOF",Gi="TOP",Vi="TNUMBER",Xi="TSTRING",Ki="TPAREN",Zi="TBRACKET",Ji="TCOMMA",Qi="TNAME",to="TSEMICOLON";function eo(t,e,n){this.type=t,this.value=e,this.index=n}function no(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}eo.prototype.toString=function(){return this.type+": "+this.value},no.prototype.newToken=function(t,e,n){return new eo(t,e,null!=n?n:this.pos)},no.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},no.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},no.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(Wi,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},no.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var i=this.expression.substring(e+1,r);this.current=this.newToken(Xi,this.unescape(i),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},no.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(Ki,t),this.pos++,!0)},no.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("[")||(this.current=this.newToken(Zi,t),this.pos++,0))},no.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(Ji,","),this.pos++,!0)},no.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(to,";"),this.pos++,!0)},no.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken(Vi,this.consts[r]),this.pos+=r.length,!0}return!1},no.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(Gi,r),this.pos+=r.length,!0}return!1},no.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var i=this.expression.substring(t,e);return this.current=this.newToken(Qi,i),this.pos+=i.length,!0}return!1},no.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var ro=/^[0-9a-f]{4}$/i;function io(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess,this.restrictMemberAccess=new Set(n.restrictMemberAccess||[])}no.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var i=t.substring(e+1,e+5);ro.test(i)||this.parseError("Illegal escape sequence: \\u"+i),n+=String.fromCharCode(parseInt(i,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var o=t.indexOf("\\",e);n+=t.substring(e,o<0?t.length:o),e=o}return n},no.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},no.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,i=n;n<this.expression.length;){var o=this.expression.charAt(n);if(!e.test(o))break;n++,r=!0}return r&&(this.current=this.newToken(Vi,parseInt(this.expression.substring(i,n),t)),this.pos=n),r},no.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,i=n,o=!1,a=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!o&&"."===t);)"."===t?o=!0:a=!0,n++,e=a;if(e&&(i=n),"e"===t||"E"===t){n++;for(var s=!0,l=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!s||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;l=!0,s=!1}else s=!1;n++}l||(n=i)}return e?(this.current=this.newToken(Vi,parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=i,e},no.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(Gi,e);else if("∙"===e||"•"===e)this.current=this.newToken(Gi,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Gi,">="),this.pos++):this.current=this.newToken(Gi,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Gi,"<="),this.pos++):this.current=this.newToken(Gi,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(Gi,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Gi,"=="),this.pos++):this.current=this.newToken(Gi,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Gi,"!="),this.pos++):this.current=this.newToken(Gi,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},no.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},no.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},no.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},io.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},io.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?ki(e,t.value):"function"==typeof e?e(t):t.value===e)},io.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},io.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},io.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e)||(this.next(),0))},io.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},io.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(Qi)||this.accept(Gi,(function(t){return t.value in e})))t.push(new Pi(Si,this.current.value));else if(this.accept(Vi))t.push(new Pi(Ti,this.current.value));else if(this.accept(Xi))t.push(new Pi(Ti,this.current.value));else if(this.accept(Ki,"("))this.parseExpression(t),this.expect(Ki,")");else{if(!this.accept(Zi,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(Zi,"]"))t.push(new Pi(Ii,0));else{var n=this.parseArrayList(t);t.push(new Pi(Ii,n))}}},io.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},io.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},io.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(to)&&(!this.nextToken||this.nextToken.type===Wi||this.nextToken.type===Ki&&")"===this.nextToken.value||e.push(new Pi(Ri)),this.nextToken.type!==Wi&&this.parseExpression(e),t.push(new Pi(zi,e)),!0)},io.prototype.parseArrayList=function(t){for(var e=0;!this.accept(Zi,"]");)for(this.parseExpression(t),++e;this.accept(Ji);)this.parseExpression(t),++e;return e},io.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(Gi,"=");){var e=t.pop(),n=[],r=t.length-1;if(e.type!==Ni){if(e.type!==Si&&e.type!==ji)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new Pi(Li,e.value)),t.push(new Pi(zi,n)),t.push(Ui("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var i=0,o=e.value+1;i<o;i++){var a=r-i;t[a].type===Si&&(t[a]=new Pi(Li,t[a].value))}this.parseVariableAssignmentExpression(n),t.push(new Pi(zi,n)),t.push(new Pi(Ci,e.value))}}},io.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(Gi,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(Gi,":"),this.parseConditionalExpression(n),t.push(new Pi(zi,e)),t.push(new Pi(zi,n)),t.push(new Pi(Oi,"?"))}},io.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(Gi,"or");){var e=[];this.parseAndExpression(e),t.push(new Pi(zi,e)),t.push(Ui("or"))}},io.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(Gi,"and");){var e=[];this.parseComparison(e),t.push(new Pi(zi,e)),t.push(Ui("and"))}};var oo=["==","!=","<","<=",">=",">","in"];io.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(Gi,oo);){var e=this.current;this.parseAddSub(t),t.push(Ui(e.value))}};var ao=["+","-","||"];io.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(Gi,ao);){var e=this.current;this.parseTerm(t),t.push(Ui(e.value))}};var lo=["*","/","%"];io.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(Gi,lo);){var e=this.current;this.parseFactor(t),t.push(Ui(e.value))}},io.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(Gi,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===Ki&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===to||this.nextToken.type===Ji||this.nextToken.type===Wi||this.nextToken.type===Ki&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(Fi(n.value))}else this.parseExponential(t)},io.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(Gi,"^");)this.parseFactor(t),t.push(Ui("^"))},io.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(Gi,"!");)t.push(Fi("!"))},io.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(Gi,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(Fi(n.value))}else for(this.parseMemberExpression(t);this.accept(Ki,"(");)if(this.accept(Ki,")"))t.push(new Pi(Ni,0));else{var r=this.parseArgumentList(t);t.push(new Pi(Ni,r))}},io.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(Ki,")");)for(this.parseExpression(t),++e;this.accept(Ji);)this.parseExpression(t),++e;return e},io.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(Gi,".")||this.accept(Zi,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect(Qi),t.push(new Pi(ji,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(Zi,"]"),t.push(Ui("["))}}};const{add:co,sub:uo,mul:ho,div:fo,mod:po,equal:go,notEqual:mo,greaterThan:yo,lessThan:vo,greaterThanEqual:bo,lessThanEqual:xo,andOperator:wo,orOperator:ko,log10:_o,neg:Mo,not:Ao,trunc:To,random:Eo,stringOrArrayLength:$o,condition:Oo,roundTo:So,arrayIndex:Lo,max:No,min:Co,sum:zo,arrayMap:Do,arrayFold:jo,arrayFilter:Ro,sign:Io,log1p:Po,log2:Fo}=Ai;function Uo(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function Ho(t){return t.trim()}Uo.prototype.evaluate=function(t){return t=t||{},Hi(this.tokens,this,t)},Uo.prototype.variables=function(){return(this.tokens||[]).filter(t=>"IVAR"===t.type).map(t=>t.value)};const Bo=new Set(["__proto__","prototype","constructor"]);function qo(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||Fo,LN:Math.log,LOG10:Math.log10||_o,LG:Math.log10||_o,LOG1P:Math.log1p||Po,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:t=>null===t,TRUNC:Math.trunc||To,"-":Mo,"+":Number,EXP:Math.exp,NOT:Ao,LENGTH:$o,"!":Ao,SIGN:Math.sign||Io,TEXT:t=>e(t)?t.toISOString():String(t),NUMBER:Number},this.binaryOps={"+":co,"-":uo,"*":ho,"/":fo,"%":po,"^":Math.pow,"==":go,"!=":mo,">":yo,"<":vo,">=":bo,"<=":xo,and:wo,or:ko,in:(t,e)=>Array.isArray(e)?e.includes(t):String(e).includes(t),"[":Lo},this.ternaryOps={"?":Oo};const e=t=>t instanceof Date&&!isNaN(t),n=t=>{if(e(t))return t;try{const n=new Date(t);return e(n)?n:null}catch(t){return null}};function r(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter(t=>!isNaN(t)&&Number.isFinite(t))}let i=/\w*/g,o=/\w\S*/g;const a=/[\\^$*+?.()|[\]{}]/g;try{i=new RegExp("\\p{L}*","ug"),o=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:Oo,RANDOM:Eo,MIN(){const t=r.apply(this,arguments);return Co(t)},MAX(){return No(r.apply(this,arguments))},SUM(){return zo(r.apply(this,arguments))},MEAN(){const t=r.apply(this,arguments);return zo(t)/t.length},MEDIAN(){const t=r.apply(this,arguments).sort((t,e)=>t-e),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:So,CONCAT(){return Array.from(arguments).join("")},TRIM:Ho,SUBSTR:(t,e,n)=>t.substr(e,n),REPLACE:(t,e,n)=>t.replace(new RegExp(String(e).replace(a,"\\$&"),"g"),n),REPLACE_REGEX:(t,e,n)=>t.replace(new RegExp(e,"g"),n),SPLIT:(t,e)=>String(t).split(e),LOWER:t=>String(t).toLowerCase(),UPPER:t=>String(t).toUpperCase(),PROPER:t=>String(t).replace(i,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()),TITLE:t=>String(t).replace(o,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()),SORT(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Bo.has(n))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort((t,r)=>((t="string"==typeof n?t[n]:"function"==typeof n?n(t):t)>(r="string"==typeof n?r[n]:"function"==typeof n?n(r):r)?1:t<r?-1:0)*(e?1:-1))},SLICE(t,e,n){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,n)},JOIN(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return n?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(n):t.join(e)},MAP:Do,FOLD:jo,FILTER:Ro,PLUCK(t,e){if(Bo.has(e))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map(t=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:null)},INDEXOF:(t,e)=>(Array.isArray(t)||(t=String(t)),t.indexOf(e)),FIND(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");const n=t.length;for(let r=0;r<n;r++)if(e(t[r]))return t[r];return null},RANGE(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},EVERY(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");const n=t.length;let r=!0;for(let i=0;i<n;i++)if(r=r&&e(t[i]),!r)return!1;return!0},SOME(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");const n=t.length;let r=!1;for(let i=0;i<n;i++)if(r=r||e(t[i]),r)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:t=>(t=n(t))?t.getFullYear():null,MONTH:t=>(t=n(t))?t.getMonth()+1:null,DAY:t=>(t=n(t))?t.getDate():null,WEEKDAY:t=>(t=n(t))?t.getDay():null,HOURS:t=>(t=n(t))?t.getHours():null,MINUTES:t=>(t=n(t))?t.getMinutes():null,SECONDS:t=>(t=n(t))?t.getSeconds():null,DATEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/864e5:null),TIMEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}qo.prototype.parse=function(t){var e=[],n=new io(this,new no(this,t),{allowMemberAccess:!0,restrictMemberAccess:Bo});return n.parseExpression(e),n.expect(Wi,"EOF"),new Uo(e,this)},qo.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var Yo=new qo;qo.parse=function(t){return Yo.parse(t)},qo.evaluate=function(t,e){return Yo.parse(t).evaluate(e)},qo.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var Wo={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};function Go(t,e,n){if(2===t.version){for(const n of["chart","bodyCenter","bodyTop","body"])if(wi(t,["blocks",n,"styles","typography",e]))return tt(t,["blocks",n,"styles","typography",e]);return n}return tt(t,"typography.chart.".concat(e),n)}qo.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call(Wo,t)?Wo[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};const Vo=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Xo=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;var Ko=nt(t=>{if(t.match(Vo)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);const e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(Xo)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=parseInt(t,16);return[e>>24&255,e>>16&255,e>>8&255,Math.round((255&e)/255*100)/100]}throw new Error("unknown hex color: ".concat(t))}),Zo=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t<e?e:t>n?n:t};const Jo=Zo,Qo={};for(let t of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])Qo["[object ".concat(t,"]")]=t.toLowerCase();var ta=function(t){return Qo[Object.prototype.toString.call(t)]||"object"};const ea=ta,na=ta,ra=Math.PI;var ia={clip_rgb:t=>{t._clipped=!1,t._unclipped=t.slice(0);for(let e=0;e<=3;e++)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]=Jo(t[e],0,255)):3===e&&(t[e]=Jo(t[e],0,1));return t},limit:Zo,type:ta,unpack:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.length>=3?Array.prototype.slice.call(t):"object"==ea(t[0])&&e?e.split("").filter(e=>void 0!==t[0][e]).map(e=>t[0][e]):t[0]},last:t=>{if(t.length<2)return null;const e=t.length-1;return"string"==na(t[e])?t[e].toLowerCase():null},PI:ra,TWOPI:2*ra,PITHIRD:ra/3,DEG2RAD:ra/180,RAD2DEG:180/ra};const oa=.95047,aa=1,sa=1.08883,la=.137931034,ca=.12841855,ua=.008856452,{unpack:ha}=ia,{pow:fa}=Math,pa=t=>(t/=255)<=.04045?t/12.92:fa((t+.055)/1.055,2.4),da=t=>t>ua?fa(t,1/3):t/ca+la,ga=(t,e,n)=>(t=pa(t),e=pa(e),n=pa(n),[da((.4124564*t+.3575761*e+.1804375*n)/oa),da((.2126729*t+.7151522*e+.072175*n)/aa),da((.0193339*t+.119192*e+.9503041*n)/sa)]);var ma=nt((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,i,o]=ha(e,"rgb"),[a,s,l]=ga(r,i,o),c=116*s-16;return[c<0?0:c,500*(a-s),200*(s-l)]}));function ya(t,e){const n=tt(t,"colors.background","#ffffff"),r=tt(t,"colors.chartContentBaseColor",e.contrast(n,"#000000")<5.5?"#f1f1f1":"#333333"),i={tickText:{secondary:tt(t,"colors.bgBlendRatios.tickText.secondary",e(n).luminance()<.5?.6:.4),primary:tt(t,"colors.bgBlendRatios.tickText.primary",.2)},series:tt(t,"colors.bgBlendRatios.series",0),value:tt(t,"colors.bgBlendRatios.value",.2),axis:tt(t,"colors.bgBlendRatios.axis",0),gridline:tt(t,"colors.bgBlendRatios.gridline",.82)};return{tickText:{secondary:e.mix(r,n,i.tickText.secondary).hex(),primary:e.mix(r,n,i.tickText.primary).hex()},series:e.mix(r,n,i.series).hex(),value:e.mix(r,n,i.value).hex(),axis:e.mix(r,n,i.axis).hex(),gridline:e.mix(r,n,i.gridline).hex(),fallbackBaseColor:r,blendColor:t=>e.mix(r,n,t).hex()}}var va=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===ba}(t)}(t)},ba="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function xa(t,e){return!1!==e.clone&&e.isMergeableObject(t)?Ma((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function wa(t,e,n){return t.concat(e).map((function(t){return xa(t,n)}))}function ka(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return Object.propertyIsEnumerable.call(t,e)})):[]}(t))}function _a(t,e){try{return e in t}catch(t){return!1}}function Ma(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||wa,n.isMergeableObject=n.isMergeableObject||va,n.cloneUnlessOtherwiseSpecified=xa;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):function(t,e,n){var r={};return n.isMergeableObject(t)&&ka(t).forEach((function(e){r[e]=xa(t[e],n)})),ka(e).forEach((function(i){(function(t,e){return _a(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(_a(t,i)&&n.isMergeableObject(e[i])?r[i]=function(t,e){if(!e.customMerge)return Ma;var n=e.customMerge(t);return"function"==typeof n?n:Ma}(i,n)(t[i],e[i],n):r[i]=xa(e[i],n))})),r}(t,e,n):xa(e,n)}Ma.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return Ma(t,n,e)}),{})};var Aa=nt(Ma);function Ta(t,e,n,r){const{fallbackBaseColor:i}=ya(e,r),o=tt(e,"colors.background","#ffffff"),a=tt(e,"vis.base.grid",{}),s=[tt(a,"general"),tt(a,t)];n?s.push(tt(a,"secondary")):s.push(tt(a,"primary"));let l=s.reduce((function(t,e){return e?Aa(t,e):t}),{});return l=Aa(function(t,e,n){const r=tt(t,"colors.background","#ffffff"),i=ma(Ko(r))[0]<50,{fallbackBaseColor:o}=ya(t,n);return{tickLines:{aboveChart:!0,color:o,blendBaseColorWithBg:e?i?.95:.82:0,width:1,length:5,lengthInside:20,lengthInsideShort:10,distance:0},gridLines:{aboveChart:!1,major:{blendBaseColorWithBg:i?.95:.82,width:1},minor:{opacity:.5,width:1}},baseLine:{aboveChart:!0,blendBaseColorWithBg:0,width:1,strokeLinecap:"square"},tickLabels:{buffer:10,aboveChart:!0,blendBaseColorWithBg:e?i?.7:.4:.2,distance:5}}}(e,n,r),l),Ze(l,"gridLines.minor",Aa(tt(l,"gridLines.major",{}),tt(l,"gridLines.minor",{}))),["gridLines.major","gridLines.minor","baseLine","tickLines","tickLabels"].forEach(t=>{const{color:e,blendBaseColorWithBg:n}=tt(l,t);e||Ze(l,"".concat(t,".color"),r.mix(i,o,n))}),l.tickLabels.bufferColor=o,l}function Ea(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];var i,o,a,s,l,c;e=null===e||e,n=null!==n&&n,r=null===r||r;const u=new Set(["tick-labels","base-lines"]),h=new Set(["grid-lines"]);return!1===e&&u.delete("tick-labels"),!0===n&&h.add("tick-lines"),!1===r&&h.delete("grid-lines"),(null===(i=null==t?void 0:t.tickLines)||void 0===i?void 0:i.forceOn)&&h.has("grid-lines")&&h.add("tick-lines"),h.has("tick-lines")&&(null===(o=null==t?void 0:t.tickLines)||void 0===o?void 0:o.aboveChart)&&u.add("tick-lines"),u.has("tick-labels")&&!1===(null===(a=null==t?void 0:t.tickLabels)||void 0===a?void 0:a.aboveChart)&&(u.delete("tick-labels"),h.add("tick-labels")),u.has("base-lines")&&!1===(null===(s=null==t?void 0:t.baseLine)||void 0===s?void 0:s.aboveChart)&&(u.delete("base-lines"),h.add("base-lines")),h.has("grid-lines")&&(null===(l=null==t?void 0:t.gridLines)||void 0===l?void 0:l.aboveChart)&&(h.delete("grid-lines"),u.add("grid-lines")),h.has("tick-lines")&&(null===(c=null==t?void 0:t.tickLines)||void 0===c?void 0:c.aboveChart)&&(h.delete("tick-lines"),u.add("tick-lines")),{elementsAbove:u,elementsBelow:h}}function $a(t){return t?JSON.stringify(Object.assign(Object.assign({},Object.fromEntries(Object.entries(t).filter(t=>{let[e]=t;return!["scale"].includes(e)}))),{elements:Array.from(t.elements),domain:t.scale.domain(),range:t.scale.range(),fitLabels:t.fitLabels?Array.from(t.fitLabels):[],fitLabelsActual:t.fitLabelsActual?Array.from(t.fitLabelsActual):[]})):""}const Oa={a:9,A:10,b:9,B:10,c:8,C:10,d:9,D:11,e:9,E:9,f:5,F:8,g:9,G:11,h:9,H:11,i:4,I:4,j:4,J:4,k:8,K:9,l:4,L:8,m:14,M:12,n:9,N:10,o:9,O:11,p:9,P:8,q:9,Q:11,r:6,R:10,s:7,S:9,t:5,T:9,u:9,U:10,v:8,V:10,w:11,W:14,x:8,X:10,y:8,Y:9,z:7,Z:10,".":4,"!":4,"|":4,",":4,":":5,";":5,"-":5,"+":12," ":4},Sa=new Set(["฿","₿","¢","$","€","eur","£","gbp","¥","yen","usd","cad","us$","ca$","can$"]);var La="object"==typeof et&&et&&et.Object===Object&&et,Na="object"==typeof self&&self&&self.Object===Object&&self,Ca=La||Na||Function("return this")(),za=Ca.Symbol,Da=za,ja=Object.prototype,Ra=ja.hasOwnProperty,Ia=ja.toString,Pa=Da?Da.toStringTag:void 0,Fa=Object.prototype.toString,Ua=function(t){var e=Ra.call(t,Pa),n=t[Pa];try{t[Pa]=void 0;var r=!0}catch(t){}var i=Ia.call(t);return r&&(e?t[Pa]=n:delete t[Pa]),i},Ha=za?za.toStringTag:void 0,Ba=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Ha&&Ha in Object(t)?Ua(t):function(t){return Fa.call(t)}(t)},qa=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Ya=Ba,Wa=qa,Ga=Ca["__core-js_shared__"],Va=function(){var t=/[^.]+$/.exec(Ga&&Ga.keys&&Ga.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Xa=Function.prototype.toString,Ka=function(t){if(!Wa(t))return!1;var e=Ya(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Za=function(t){return!!Va&&Va in t},Ja=qa,Qa=/^\[object .+?Constructor\]$/,ts=Function.prototype,es=Object.prototype,ns=ts.toString,rs=es.hasOwnProperty,is=RegExp("^"+ns.call(rs).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),os=function(t){return!(!Ja(t)||Za(t))&&(Ka(t)?is:Qa).test(function(t){if(null!=t){try{return Xa.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))},as=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return os(n)?n:void 0},ss=as(Object,"create"),ls=ss,cs=ss,us=Object.prototype.hasOwnProperty,hs=ss,fs=Object.prototype.hasOwnProperty,ps=ss,ds=function(){this.__data__=ls?ls(null):{},this.size=0},gs=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ms=function(t){var e=this.__data__;if(cs){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return us.call(e,t)?e[t]:void 0};function ys(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ys.prototype.clear=ds,ys.prototype.delete=gs,ys.prototype.get=ms,ys.prototype.has=function(t){var e=this.__data__;return hs?void 0!==e[t]:fs.call(e,t)},ys.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ps&&void 0===e?"__lodash_hash_undefined__":e,this};var vs=ys,bs=function(t,e){return t===e||t!=t&&e!=e},xs=function(t,e){for(var n=t.length;n--;)if(bs(t[n][0],e))return n;return-1},ws=xs,ks=Array.prototype.splice,_s=xs,Ms=xs,As=xs,Ts=function(){this.__data__=[],this.size=0};function Es(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Es.prototype.clear=Ts,Es.prototype.delete=function(t){var e=this.__data__,n=ws(e,t);return!(n<0||(n==e.length-1?e.pop():ks.call(e,n,1),--this.size,0))},Es.prototype.get=function(t){var e=this.__data__,n=_s(e,t);return n<0?void 0:e[n][1]},Es.prototype.has=function(t){return Ms(this.__data__,t)>-1},Es.prototype.set=function(t,e){var n=this.__data__,r=As(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var $s=Es,Os=as(Ca,"Map"),Ss=vs,Ls=$s,Ns=Os,Cs=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},zs=function(t,e){var n=t.__data__;return Cs(e)?n["string"==typeof e?"string":"hash"]:n.map},Ds=zs,js=zs,Rs=zs,Is=zs;function Ps(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ps.prototype.clear=function(){this.size=0,this.__data__={hash:new Ss,map:new(Ns||Ls),string:new Ss}},Ps.prototype.delete=function(t){var e=Ds(this,t).delete(t);return this.size-=e?1:0,e},Ps.prototype.get=function(t){return js(this,t).get(t)},Ps.prototype.has=function(t){return Rs(this,t).has(t)},Ps.prototype.set=function(t,e){var n=Is(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var Fs=Ps;function Us(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Fs;++e<n;)this.add(t[e])}Us.prototype.add=Us.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Us.prototype.has=function(t){return this.__data__.has(t)};var Hs=Us,Bs=function(t){return t!=t},qs=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},Ys=as(Ca,"Set"),Ws=Ys&&1/qs(new Ys([,-0]))[1]==1/0?function(t){return new Ys(t)}:function(){},Gs=Hs,Vs=function(t,e){return!(null==t||!t.length)&&function(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,Bs,n)}(t,e,0)>-1},Xs=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1},Ks=function(t,e){return t.has(e)},Zs=Ws,Js=qs,Qs=function(t,e,n){var r=-1,i=Vs,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=Xs;else if(o>=200){var c=e?null:Zs(t);if(c)return Js(c);a=!1,i=Ks,l=new Gs}else l=e?[]:s;t:for(;++r<o;){var u=t[r],h=e?e(u):u;if(u=n||0!==u?u:0,a&&h==h){for(var f=l.length;f--;)if(l[f]===h)continue t;e&&l.push(h),s.push(u)}else i(l,h,n)||(l!==s&&l.push(h),s.push(u))}return s},tl=nt((function(t){return t&&t.length?Qs(t):[]}));const el=Math.sqrt(50),nl=Math.sqrt(10),rl=Math.sqrt(2);function il(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=el?10:o>=nl?5:o>=rl?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?il(t,e,2*n):[s,l,c]}function ol(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const r=e<t,[i,o,a]=r?il(e,t,n):il(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let t=0;t<s;++t)l[t]=(o-t)/-a;else for(let t=0;t<s;++t)l[t]=(o-t)*a;else if(a<0)for(let t=0;t<s;++t)l[t]=(i+t)/-a;else for(let t=0;t<s;++t)l[t]=(i+t)*a;return l}var al={exports:{}};!function(t,e){t.exports=function(){var t=6e4,e=36e5,n="millisecond",r="second",i="minute",o="hour",a="day",s="week",l="month",c="quarter",u="year",h="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},y={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,l),o=n-i<0,a=e.clone().add(r+(o?-1:1),l);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:u,w:s,d:a,D:h,h:o,m:i,s:r,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",b={};b[v]=g;var x="$isDayjsObject",w=function(t){return t instanceof A||!(!t||!t[x])},k=function t(e,n,r){var i;if(!e)return v;if("string"==typeof e){var o=e.toLowerCase();b[o]&&(i=o),n&&(b[o]=n,i=o);var a=e.split("-");if(!i&&a.length>1)return t(a[0])}else{var s=e.name;b[s]=e,i=s}return!r&&i&&(v=i),i||!r&&v},_=function(t,e){if(w(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new A(n)},M=y;M.l=k,M.i=w,M.w=function(t,e){return _(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var A=function(){function g(t){this.$L=k(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[x]=!0}var m=g.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(M.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return M},m.isValid=function(){return!(this.$d.toString()===f)},m.isSame=function(t,e){var n=_(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return _(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<_(t)},m.$g=function(t,e,n){return M.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,c=!!M.u(e)||e,f=M.p(t),p=function(t,e){var r=M.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return c?r:r.endOf(a)},d=function(t,e){return M.w(n.toDate()[t].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},g=this.$W,m=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(f){case u:return c?p(1,0):p(31,11);case l:return c?p(1,m):p(0,m+1);case s:var b=this.$locale().weekStart||0,x=(g<b?g+7:g)-b;return p(c?y-x:y+(6-x),m);case a:case h:return d(v+"Hours",0);case o:return d(v+"Minutes",1);case i:return d(v+"Seconds",2);case r:return d(v+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var s,c=M.p(t),f="set"+(this.$u?"UTC":""),p=(s={},s[a]=f+"Date",s[h]=f+"Date",s[l]=f+"Month",s[u]=f+"FullYear",s[o]=f+"Hours",s[i]=f+"Minutes",s[r]=f+"Seconds",s[n]=f+"Milliseconds",s)[c],d=c===a?this.$D+(e-this.$W):e;if(c===l||c===u){var g=this.clone().set(h,1);g.$d[p](d),g.init(),this.$d=g.set(h,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](d);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[M.p(t)]()},m.add=function(n,c){var h,f=this;n=Number(n);var p=M.p(c),d=function(t){var e=_(f);return M.w(e.date(e.date()+Math.round(t*n)),f)};if(p===l)return this.set(l,this.$M+n);if(p===u)return this.set(u,this.$y+n);if(p===a)return d(1);if(p===s)return d(7);var g=(h={},h[i]=t,h[o]=e,h[r]=1e3,h)[p]||1,m=this.$d.getTime()+n*g;return M.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=M.z(this),o=this.$H,a=this.$m,s=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,h=function(t,n,i,o){return t&&(t[n]||t(e,r))||i[n].slice(0,o)},p=function(t){return M.s(o%12||12,t,"0")},g=u||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(d,(function(t,r){return r||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return M.s(e.$y,4,"0");case"M":return s+1;case"MM":return M.s(s+1,2,"0");case"MMM":return h(n.monthsShort,s,c,3);case"MMMM":return h(c,s);case"D":return e.$D;case"DD":return M.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return h(n.weekdaysMin,e.$W,l,2);case"ddd":return h(n.weekdaysShort,e.$W,l,3);case"dddd":return l[e.$W];case"H":return String(o);case"HH":return M.s(o,2,"0");case"h":return p(1);case"hh":return p(2);case"a":return g(o,a,!0);case"A":return g(o,a,!1);case"m":return String(a);case"mm":return M.s(a,2,"0");case"s":return String(e.$s);case"ss":return M.s(e.$s,2,"0");case"SSS":return M.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,h,f){var p,d=this,g=M.p(h),m=_(n),y=(m.utcOffset()-this.utcOffset())*t,v=this-m,b=function(){return M.m(d,m)};switch(g){case u:p=b()/12;break;case l:p=b();break;case c:p=b()/3;break;case s:p=(v-y)/6048e5;break;case a:p=(v-y)/864e5;break;case o:p=v/e;break;case i:p=v/t;break;case r:p=v/1e3;break;default:p=v}return f?p:M.a(p)},m.daysInMonth=function(){return this.endOf(l).$D},m.$locale=function(){return b[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=k(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return M.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),T=A.prototype;return _.prototype=T,[["$ms",n],["$s",r],["$m",i],["$H",o],["$W",a],["$M",l],["$y",u],["$D",h]].forEach((function(t){T[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),_.extend=function(t,e){return t.$i||(t(e,A,_),t.$i=!0),_},_.locale=k,_.isDayjs=w,_.unix=function(t){return _(1e3*t)},_.en=b[v],_.Ls=b,_.p={},_}()}(al);var sl=nt(al.exports),ll={exports:{}};!function(t,e){t.exports=function(t,e){var n=e.prototype,r=n.format;n.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return r.bind(this)(t);var i=this.$utils(),o=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(t){switch(t){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return n.ordinal(e.$D);case"gggg":return e.weekYear();case"GGGG":return e.isoWeekYear();case"wo":return n.ordinal(e.week(),"W");case"w":case"ww":return i.s(e.week(),"w"===t?1:2,"0");case"W":case"WW":return i.s(e.isoWeek(),"W"===t?1:2,"0");case"k":case"kk":return i.s(String(0===e.$H?24:e.$H),"k"===t?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();case"z":return"["+e.offsetName()+"]";case"zzz":return"["+e.offsetName("long")+"]";default:return t}}));return r.bind(this)(o)}}}(ll);var cl=nt(ll.exports),ul={exports:{}};!function(t,e){var n;t.exports=(n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},function(t,e,r){var i=e.prototype,o=i.format;r.en.formats=n,i.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var e=this.$locale().formats,r=function(t,e){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,i){var o=i&&i.toUpperCase();return r||e[i]||n[i]||e[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))}(t,void 0===e?{}:e);return o.call(this,r)}})}(ul);var hl=nt(ul.exports),fl={exports:{}};!function(t,e){var n,r;t.exports=(n="week",r="year",function(t,e,i){var o=e.prototype;o.week=function(t){if(void 0===t&&(t=null),null!==t)return this.add(7*(t-this.week()),"day");var e=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var o=i(this).startOf(r).add(1,r).date(e),a=i(this).endOf(n);if(o.isBefore(a))return 1}var s=i(this).startOf(r).date(e).startOf(n).subtract(1,"millisecond"),l=this.diff(s,n,!0);return l<0?i(this).startOf("week").week():Math.ceil(l)},o.weeks=function(t){return void 0===t&&(t=null),this.week(t)}})}(fl);var pl=nt(fl.exports);function dl(t,e,n,r,i,o){let a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const{scale:s,scaleType:l,customFormatFunction:c,tickLabelFormat:u,tickLabelUnit:h,tickLabelMultiply:f,minusChar:p,plusMinusChar:d="±"}=e,g=(null==o?void 0:o.major)||{values:[]},m=(null==o?void 0:o.minor)||{values:[]};let y=g.values;const v=s.domain(),b=s.range(),x=g.spacing||80,w=Math.abs(b[1]-b[0])/x;if("text"===l&&c){const t=v,e=a?ol(0,t[0],t[0]):ol(0,t[1],t[1]),n=Math.max(1,Math.round(e.length/w)),r=e.filter(t=>t%n==0);return{ticksMajor:i?r:e,ticksMinor:[]}}y&&y.length||(y=i?function(t,e,n,r,i){const{scale:o,scaleType:a}=e,s=tt(n,"tickLabels.fontSize",Go(r,"fontSize",12)),l=tt(n,"tickLabels.buffer",10);return function t(r,i,c){const u=gl(a,o,o.domain(),i).sort((t,e)=>o(t)-o(e));if(Math.round(i)>1&&u.length>1){if(c&&u.length===c.length)return t(r,i-1,u);{const{tickFormat:a,multiFormat:c}=vl(r,e,u,n),h=u.map((t,e)=>{const n=0===e?e===u.length-1?"last":"first":"middle",r=[a(t,n,0===e)];return Math.max(...r.flat().map(t=>function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:14;if(!t)return 0;const n=e/14;return t.split("").reduce((t,e)=>t+(Oa[e]||Oa.a),0)*n}(t,s)))});let f,p=l;if(u.forEach((t,e)=>{const n=o(t);f&&(p=Math.min(n-h[e]/2-f,p)),f=n+h[e]/2}),p<l)return t(r,i-1,u)}}return u}(t,i)}(t,{scale:s,scaleType:l,tickLabelFormat:u,tickLabelUnit:h,tickLabelMultiply:f,minusChar:p,plusMinusChar:d,customFormatFunction:c},n,r,w):gl(l,s,v,w),"number"!==l&&"log"!==l||"0o"!==u||(y=y.filter(t=>t%1==0))),"text"!==l&&(y=y.filter(t=>{if("date"===l){const e=t,n=v;return e.getTime()>=Math.min(n[0].getTime(),n[1].getTime())&&e.getTime()<=Math.max(n[0].getTime(),n[1].getTime())}const e=t,n=v;return e>=Math.min(n[0],n[1])&&e<=Math.max(n[0],n[1])}));let k=Array.isArray(m.values)?m.values:[];if(0===k.length&&m.count){k=[];for(let t=0;t<y.length-1;t++){const e=Math.min(y[t],y[t+1]),n=Math.max(y[t],y[t+1]),r=ol(e,n,m.count).filter(t=>t>e&&t<n);k.push(...r)}}return{ticksMajor:y,ticksMinor:k}}function gl(t,e,n,r){const i=Math.round(r);switch(t){case"text":{const t=Math.max(1,Math.round(n.length/r));return n.filter((e,n)=>n%t==0)}case"log":{const t=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;const n=t[0]<0&&t[1]<0;n&&(t=[-1*t[0],-1*t[1]]);const r=t[1]<t[0];if(r&&(t=t.slice(0).reverse()),t[0]<0||t[1]<0)return[];let i=1;e+=2;let o=yl(t,i);if(o[0].num>e)for(;o[0].num>e;)i*=10,o=yl(t,i);else if(o[o.length-1].num<e){const n=ol(t[0],t[1],e-2);return r&&n.reverse(),n}e-=2;const a=o.map(e=>Object.assign(Object.assign({},e),{ticks:e.ticks.filter(e=>e>=t[0]&&e<=t[1])})).map(t=>Object.assign(Object.assign({},t),{diff:Math.abs(t.ticks.length-e)})).sort((t,e)=>t.diff-e.diff)[0].ticks;return r&&a.reverse(),n?a.map(t=>-1*t):a}(n,i);return t.length>1?t:e.ticks(i)}default:{let t=e.ticks(i);return r>.5&&t.length<2&&(t=e.ticks(2)),t}}}sl.extend(cl),sl.extend(pl),sl.extend(hl),sl.extend((t,e)=>{const n=e.prototype,r=n.format;n.format=function(t){const e=t||"YYYY-MM-DDTHH:mm:ssZ",n=this.$locale().seasonSeparator||"-",i=e.replace(/(\[[^\]]+])|BB|B/g,(t,e)=>{const r=this.$y,i=r+1,o="B"===t,a=o?[String(r).slice(-2),2]:[r,4],s=[String(i).slice(-2),2];return e||"".concat(o?"'":"").concat(this.$utils().s(...a,"0")).concat(n).concat(o?"'":"").concat(this.$utils().s(...s,"0"))});return r.bind(this)(i)}});const ml=[[10],[5,4,5],[3,10/3],[2,2.5,2],[1.5,2,5/3,2]];function yl(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return ml.map(n=>{let r=Math.pow(10,Math.floor(Math.log(t[0])/Math.LN10)),i=0;const o=[r];for(;r<t[1];)r*=n[i]*e,o.push(r),i=(i+1)%n.length;return{ticks:o,num:o.length}})}function vl(t,e){let{scale:n,scaleType:r,tickLabelFormat:i,tickLabelUnit:o=["",""],tickLabelMultiply:a,minusChar:s,plusMinusChar:l,customFormatFunction:c}=e,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],h=arguments.length>3?arguments[3]:void 0,f=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(i&&"auto"!==i||("date"===r?i=xl(n.domain(),u):"number"!==r&&"log"!==r||(i=function(t){const e=Math.abs(t[1]-t[0]);return e<1?"0,0.00[0]":e<3?"0,0.0[0]":e<1e4?"0,0.[0]":e>1e6||Math.abs(t[0])>1e5||Math.abs(t[1])>1e5?"0,0.[0]a":"0,0"}(n.domain()))),"number"===r||"log"===r){const e=tt(h,"tickLabels.units","all");return{multiFormat:!1,keepOrder:!1,tickFormat(n,r){const c=f||"all"===e||"first"===e&&"first"===r||"last"===e&&"last"===r;return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r,i;if(void 0===e||isNaN(e)||null===e)return"";let o=n.format||"0.[00]";const a=n.multiply||1,s=n.prepend||"",l=n.append||"",c=null!==(r=n.minusChar)&&void 0!==r?r:"−",u=null!==(i=n.plusMinusChar)&&void 0!==i?i:"±";o.includes("%")&&Number.isFinite(e)&&(e*=.01),e*=a;const h=o.indexOf("(")>-1,f=o.indexOf(";")>-1;o=o.replace(/;/g,",");let p=t(h?e:Math.abs(e)).format(o);if(f){const n=t.options.currentLocale,r=t.locales[n].delimiters.thousands,i=o.includes("%")?e/.01:e;p=Math.abs(i)<1e4?p.replace(r,""):p}return s&&!h&&e<0&&Sa.has(s.trim().toLowerCase())?"".concat(c).concat(s).concat(p.replace("+","")).concat(l):s&&e>=0&&Sa.has(s.trim().toLowerCase())&&o.includes("+")?"".concat(0===e?u:"+").concat(s).concat(p.replace("+","")).concat(l):0===e&&o.includes("+")?"".concat(s).concat(p.replace("+",u)).concat(l):e<0&&!h?"".concat(s).concat(c).concat(p.replace("+","")).concat(l):"".concat(s).concat(p).concat(l)}(t,n,{multiply:a,format:c?i:i.replace(/[%$]/g,""),prepend:c?o[0]:"",append:c?o[1]:"",minusChar:s,plusMinusChar:l})}}}if("date"===r){f&&(i=i.replace(/\w+/g,t=>bl[t]||t));let t=null;if(i.indexOf("~~")>-1){const e=i.split("~~");t=t=>sl(t).format(e[0]),i=e[1]}const e=i.split("|"),n=e.length>1,r=n?function(t,e){let n=new Array(t.length);return t=t.filter((t,n)=>!n||tl(e.map(t)).length>1),(e,r,i)=>{let o;i&&(n=[]);const a=[];for(let r=0,i=t.length;r<i;r++)if(o=t[r](e),o!==n[r]){n[r]=o;for(let t=r+1;t<i;t++)n[t]=void 0;a.unshift(o)}return a}}(e.map(t=>e=>sl(e).format(t)),u):t=>sl(t).format(i);return{multiFormat:n,keepOrder:!1,tickFormat:function(e,i,o){return t&&"first"===i?n?[t(e)]:t(e):r(e,i,o)}}}return{multiFormat:!0,keepOrder:!0,tickFormat:(t,e)=>{if("number"==typeof t&&c)t=c(t);else if("number"==typeof t)throw"Requires a customFormatFunction";return(t||"").split(/(?:\n|<br>|<br\/>)/i)}}}const bl={YY:"YYYY",M:"MMMM",MM:"MMMM",MMM:"MMMM",DD:"D",dd:"dddd",ddd:"dddd"};function xl(t,e){const n=Math.abs(t[1].getTime()-t[0].getTime()),r=e&&e.length>0;let i=r,o=r,a=r,s=r,l=r,c=r;return r&&e.forEach(t=>{i=i&&0===t.getMonth()&&1===t.getDate()&&0===t.getHours()&&0===t.getMinutes(),o=o&&Ml.has(t.getMonth())&&1===t.getDate()&&0===t.getHours()&&0===t.getMinutes(),a=a&&1===t.getDate()&&0===t.getHours()&&0===t.getMinutes(),s=s&&0===t.getDay()&&0===t.getHours()&&0===t.getMinutes(),l=l&&0===t.getHours()&&0===t.getMinutes(),c=c&&0===t.getMinutes()}),i?"YYYY":o||a?n>5*_l?"YY|MMM":"YYYY|MMM":s?n>2*kl?"MMM|D":"MMMM|D":l?n>_l?"MMM YYYY|D":n>kl?"MMM|D":"D.M.":c?n<wl?"h a":"MMM D|h a":n<wl?"LT":"MMM D|LT"}const wl=864e5,kl=30*wl,_l=365*wl,Ml=new Set([0,3,6,9]);function Al(t,e,n,r,i,o){const{scale:a,scaleType:s}=n,{tickFormat:l}=vl(t,n,o,r,!0),c=l(a.domain()[0],"first",!1),u=l(a.domain()[1],"last",!1),h="text"===s?"category":"date"===s?"datetime":"number";return{role:"graphics-axis","aria-orientation":"x"===e?"horizontal":"vertical","aria-valuemin":a.domain()[0],"aria-valuemax":a.domain()[1],"aria-datatype":h,"aria-label":i("accessibility / xy-grid / axis-".concat(e,"-").concat(s)).replace("%from%",c).replace("%to%",u)+("log"===s?" ".concat(i("accessibility / xy-grid / axis-log")):"")}}function Tl(t,e){return e("\n    line.major {\n        ".concat(Ol(t.major),"\n    }\n    line.minor {\n        ").concat(Ol(t.minor),"\n    }\n"))}function El(t,e){return e("\n    line {\n        ".concat(Ol(t),"\n    }\n    ").concat(t.hideZero?"line.is-zero { display: none }":"","\n"))}function $l(t,e){return e("\n    line {\n        ".concat(Ol(t),"\n    }\n"))}function Ol(t){return"dotted"===t.strokeDasharray&&(t.strokeDasharray="".concat(t.width," ").concat(t.width)),Ll(t,[["color","stroke"],["opacity","opacity"],["width","stroke-width"],["strokeLinecap","stroke-linecap"],["strokeDasharray","stroke-dasharray"]])+(!1!==t.crisp?"\nshape-rendering: crispEdges;":"")}function Sl(t){return Ll(t,[["color","fill"],["opacity","opacity"],["fontSize","font-size",void 0,"px"],["letterSpacing","letter-spacing"],["fontWeight","font-weight"],["fontStyle","font-style"],["typeface","font-family"],["textTransform","text-transform"]])}function Ll(t,e){return e.filter(e=>{const n=e[0],r=e[2];return void 0!==t[n]||r}).map(e=>{let[n,r,i,o]=e;return"".concat(r,": ").concat(void 0===t[n]?i:t[n]).concat(o||"",";")}).join("\n")}function Nl(t,e,n){const r=t.slice();return r[13]=e[n],r}function Cl(t){let e,n,r,i;return{c(){e=p("line"),y(e,"class",n="x-tick-line ".concat(t[5])),y(e,"y1",r=t[4]*t[2]),y(e,"transform",i="translate(".concat(t[6](t[13]).join(","),")")),w(e,"is-zero",0===t[13])},m(t,n){u(t,e,n)},p(t,o){32&o&&n!==(n="x-tick-line ".concat(t[5]))&&y(e,"class",n),20&o&&r!==(r=t[4]*t[2])&&y(e,"y1",r),2&o&&i!==(i="translate(".concat(t[6](t[13]).join(","),")"))&&y(e,"transform",i),34&o&&w(e,"is-zero",0===t[13])},d(t){t&&h(e)}}}function zl(t){let n,r,i,o=W(t[1]),a=[];for(let e=0;e<o.length;e+=1)a[e]=Cl(Nl(t,o,e));return{c(){n=p("g");for(let t=0;t<a.length;t+=1)a[t].c();y(n,"class",r="x-tick-lines ".concat(t[0]," ").concat(t[5])),y(n,"transform",i="translate(".concat(t[3].join(","),")"))},m(t,e){u(t,n,e);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(n,null)},p(t,e){let[s]=e;if(118&s){let e;for(o=W(t[1]),e=0;e<o.length;e+=1){const r=Nl(t,o,e);a[e]?a[e].p(r,s):(a[e]=Cl(r),a[e].c(),a[e].m(n,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}33&s&&r!==(r="x-tick-lines ".concat(t[0]," ").concat(t[5]))&&y(n,"class",r),8&s&&i!==(i="translate(".concat(t[3].join(","),")"))&&y(n,"transform",i)},i:e,o:e,d(t){t&&h(n),f(a,t)}}}function Dl(t,e,n){let r,i,o,a,s,{themeDataTickLines:l}=e,{tickPosition:c}=e,{plotSize:u}=e,{scale:h}=e,{className:f=""}=e,{ticksMajor:p}=e,{css:d}=e;return t.$$set=t=>{"themeDataTickLines"in t&&n(7,l=t.themeDataTickLines),"tickPosition"in t&&n(8,c=t.tickPosition),"plotSize"in t&&n(9,u=t.plotSize),"scale"in t&&n(10,h=t.scale),"className"in t&&n(0,f=t.className),"ticksMajor"in t&&n(1,p=t.ticksMajor),"css"in t&&n(11,d=t.css)},t.$$.update=()=>{2176&t.$$.dirty&&n(5,r=El(l,d)),256&t.$$.dirty&&n(2,i="bottom"===c?1:-1),128&t.$$.dirty&&(o=tt(l,"distance")),128&t.$$.dirty&&n(4,a=tt(l,"length")),768&t.$$.dirty&&n(3,s="bottom"===c?[0,u[1]]:[0,0])},[f,p,i,s,a,r,function(t){return[h(t),o*i]},l,c,u,h,d]}let jl=class extends Q{constructor(t){super(),J(this,t,Dl,zl,s,{themeDataTickLines:7,tickPosition:8,plotSize:9,scale:10,className:0,ticksMajor:1,css:11})}};function Rl(t,e,n){const r=t.slice();return r[11]=e[n],r}function Il(t,e,n){const r=t.slice();return r[11]=e[n],r}function Pl(t){let e,n,r,i;return{c(){e=p("line"),y(e,"class",n="x-grid-line major ".concat(t[4])),y(e,"y1",r=t[0][1]),y(e,"transform",i="translate(".concat(t[5](t[11]),", 0)")),w(e,"is-zero",0===t[11])},m(t,n){u(t,e,n)},p(t,o){16&o&&n!==(n="x-grid-line major ".concat(t[4]))&&y(e,"class",n),1&o&&r!==(r=t[0][1])&&y(e,"y1",r),8&o&&i!==(i="translate(".concat(t[5](t[11]),", 0)"))&&y(e,"transform",i),24&o&&w(e,"is-zero",0===t[11])},d(t){t&&h(e)}}}function Fl(t){let e,n=W(t[2]),r=[];for(let e=0;e<n.length;e+=1)r[e]=Ul(Rl(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=m()},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);u(t,e,n)},p(t,i){if(53&i){let o;for(n=W(t[2]),o=0;o<n.length;o+=1){const a=Rl(t,n,o);r[o]?r[o].p(a,i):(r[o]=Ul(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&h(e),f(r,t)}}}function Ul(t){let e,n,r,i;return{c(){e=p("line"),y(e,"class",n="x-grid-line minor ".concat(t[4])),y(e,"y1",r=t[0][1]),y(e,"transform",i="translate(".concat(t[5](t[11]),", 0)"))},m(t,n){u(t,e,n)},p(t,o){16&o&&n!==(n="x-grid-line minor ".concat(t[4]))&&y(e,"class",n),1&o&&r!==(r=t[0][1])&&y(e,"y1",r),4&o&&i!==(i="translate(".concat(t[5](t[11]),", 0)"))&&y(e,"transform",i)},d(t){t&&h(e)}}}function Hl(t){let n,r,i,o=W(t[3]),a=[];for(let e=0;e<o.length;e+=1)a[e]=Pl(Il(t,o,e));let s=t[2]&&Fl(t);return{c(){n=p("g");for(let t=0;t<a.length;t+=1)a[t].c();r=m(),s&&s.c(),y(n,"class",i="x-grid-lines ".concat(t[1]," ").concat(t[4]))},m(t,e){u(t,n,e);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(n,null);c(n,r),s&&s.m(n,null)},p(t,e){let[l]=e;if(57&l){let e;for(o=W(t[3]),e=0;e<o.length;e+=1){const i=Il(t,o,e);a[e]?a[e].p(i,l):(a[e]=Pl(i),a[e].c(),a[e].m(n,r))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}t[2]?s?s.p(t,l):(s=Fl(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null),18&l&&i!==(i="x-grid-lines ".concat(t[1]," ").concat(t[4]))&&y(n,"class",i)},i:e,o:e,d(t){t&&h(n),f(a,t),s&&s.d()}}}function Bl(t,e,n){let r,i,{themeOptionsGridLines:o}=e,{plotSize:a}=e,{scale:s}=e,{className:l=""}=e,{ticksMajor:c}=e,{ticksMinor:u}=e,{baseLine:h}=e,{css:f}=e;return t.$$set=t=>{"themeOptionsGridLines"in t&&n(6,o=t.themeOptionsGridLines),"plotSize"in t&&n(0,a=t.plotSize),"scale"in t&&n(7,s=t.scale),"className"in t&&n(1,l=t.className),"ticksMajor"in t&&n(8,c=t.ticksMajor),"ticksMinor"in t&&n(2,u=t.ticksMinor),"baseLine"in t&&n(9,h=t.baseLine),"css"in t&&n(10,f=t.css)},t.$$.update=()=>{1088&t.$$.dirty&&n(4,r=Tl(o,f)),768&t.$$.dirty&&n(3,i=c.filter(t=>!h.has("zero")||0!==t))},[a,l,u,i,r,function(t){return s(t)},o,s,c,h,f]}let ql=class extends Q{constructor(t){super(),J(this,t,Bl,Hl,s,{themeOptionsGridLines:6,plotSize:0,scale:7,className:1,ticksMajor:8,ticksMinor:2,baseLine:9,css:10})}};function Yl(t,e,n){const r=t.slice();return r[10]=e[n],r}function Wl(t){let e,n,r,i,o;return{c(){e=p("g"),n=p("line"),y(n,"y1",r=t[0][1]),y(n,"transform",i="translate(".concat(t[4](t[10]),", 0)")),y(e,"class",o="x-base-lines ".concat(t[1]," ").concat(t[3]))},m(t,r){u(t,e,r),c(e,n)},p(t,a){1&a&&r!==(r=t[0][1])&&y(n,"y1",r),4&a&&i!==(i="translate(".concat(t[4](t[10]),", 0)"))&&y(n,"transform",i),10&a&&o!==(o="x-base-lines ".concat(t[1]," ").concat(t[3]))&&y(e,"class",o)},d(t){t&&h(e)}}}function Gl(t){let n,r=W(t[2]),i=[];for(let e=0;e<r.length;e+=1)i[e]=Wl(Yl(t,r,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();n=m()},m(t,e){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(t,e);u(t,n,e)},p(t,e){let[o]=e;if(31&o){let e;for(r=W(t[2]),e=0;e<r.length;e+=1){const a=Yl(t,r,e);i[e]?i[e].p(a,o):(i[e]=Wl(a),i[e].c(),i[e].m(n.parentNode,n))}for(;e<i.length;e+=1)i[e].d(1);i.length=r.length}},i:e,o:e,d(t){t&&h(n),f(i,t)}}}function Vl(t,e,n){let r,i,{themeOptionsBaseLine:o}=e,{plotSize:a}=e,{scale:s}=e,{className:l=""}=e,{ticksMajor:c}=e,{baseLine:u}=e,{css:h}=e;return t.$$set=t=>{"themeOptionsBaseLine"in t&&n(5,o=t.themeOptionsBaseLine),"plotSize"in t&&n(0,a=t.plotSize),"scale"in t&&n(6,s=t.scale),"className"in t&&n(1,l=t.className),"ticksMajor"in t&&n(7,c=t.ticksMajor),"baseLine"in t&&n(8,u=t.baseLine),"css"in t&&n(9,h=t.css)},t.$$.update=()=>{544&t.$$.dirty&&n(3,r=$l(o,h)),384&t.$$.dirty&&n(2,i=Array.from(u).filter(t=>"zero"!==t||c.includes(0)))},[a,l,i,r,function(t){return"zero"===t?s(0):"left"===t?0:a[0]},o,s,c,u,h]}let Xl=class extends Q{constructor(t){super(),J(this,t,Vl,Gl,s,{themeOptionsBaseLine:5,plotSize:0,scale:6,className:1,ticksMajor:7,baseLine:8,css:9})}};var Kl=Array.isArray,Zl=Ba,Jl=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},Ql=Kl,tc=za?za.prototype:void 0,ec=tc?tc.toString:void 0,nc=function t(e){if("string"==typeof e)return e;if(Ql(e))return Jl(e,t)+"";if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==Zl(t)}(e))return ec?ec.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},rc=function(t){return function(e){return null==t?void 0:t[e]}}({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ic=function(t){return null==t?"":nc(t)},oc=rc,ac=/&(?:amp|lt|gt|quot|#39);/g,sc=RegExp(ac.source),lc=nt((function(t){return(t=ic(t))&&sc.test(t)?t.replace(ac,oc):t}));function cc(t,e,n){const r=t.slice();return r[27]=e[n],r[28]=e,r[29]=n,r}function uc(t,e,n){const r=t.slice();return r[30]=e[n],r[32]=n,r}function hc(t){let e,n,r,i,o=t[29],a=W(t[27].ticks),s=[];for(let e=0;e<a.length;e+=1)s[e]=fc(uc(t,a,e));const l=()=>t[24](e,o),c=()=>t[24](null,o);return{c(){e=p("text");for(let t=0;t<s.length;t+=1)s[t].c();y(e,"class",n="x-tick-label ".concat(t[0])),y(e,"transform",r="translate(".concat(t[27].translate.join(","),")")),y(e,"aria-hidden","true"),y(e,"y",i=t[27].y),w(e,"dw-bold",t[9]),w(e,"dw-italic",t[8]),w(e,"is-zero",t[27].isZero),w(e,"first",t[27].isFirst),w(e,"last",t[27].isLast),x(e,"text-anchor",t[7].length?t[7][t[29]]:"")},m(t,n){u(t,e,n);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null);l()},p(u,h){if(t=u,72&h[0]){let n;for(a=W(t[27].ticks),n=0;n<a.length;n+=1){const r=uc(t,a,n);s[n]?s[n].p(r,h):(s[n]=fc(r),s[n].c(),s[n].m(e,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}1&h[0]&&n!==(n="x-tick-label ".concat(t[0]))&&y(e,"class",n),64&h[0]&&r!==(r="translate(".concat(t[27].translate.join(","),")"))&&y(e,"transform",r),64&h[0]&&i!==(i=t[27].y)&&y(e,"y",i),o!==t[29]&&(c(),o=t[29],l()),513&h[0]&&w(e,"dw-bold",t[9]),257&h[0]&&w(e,"dw-italic",t[8]),65&h[0]&&w(e,"is-zero",t[27].isZero),65&h[0]&&w(e,"first",t[27].isFirst),65&h[0]&&w(e,"last",t[27].isLast),128&h[0]&&x(e,"text-anchor",t[7].length?t[7][t[29]]:"")},d(t){t&&h(e),f(s,t),c()}}}function fc(t){let e,n,r,i=t[30]+"";return{c(){e=p("tspan"),n=d(i),y(e,"x","0"),y(e,"dy",r=t[32]>0?t[3]+3:0)},m(t,r){u(t,e,r),c(e,n)},p(t,o){64&o[0]&&i!==(i=t[30]+"")&&b(n,i),8&o[0]&&r!==(r=t[32]>0?t[3]+3:0)&&y(e,"dy",r)},d(t){t&&h(e)}}}function pc(t){let e,n=t[27].visible&&hc(t);return{c(){n&&n.c(),e=m()},m(t,r){n&&n.m(t,r),u(t,e,r)},p(t,r){t[27].visible?n?n.p(t,r):(n=hc(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&h(e),n&&n.d(t)}}}function dc(t){let r,i,o,a=W(t[6]),s=[];for(let e=0;e<a.length;e+=1)s[e]=pc(cc(t,a,e));let l=[{class:i="x-tick-labels ".concat(t[2],"-axis ").concat(t[1]," ").concat(t[11])},{transform:o="translate(".concat(t[10].join(","),")")},t[4]],c={};for(let t=0;t<l.length;t+=1)c=n(c,l[t]);return{c(){r=p("g");for(let t=0;t<s.length;t+=1)s[t].c();v(r,c)},m(t,e){u(t,r,e);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(r,null)},p(t,e){if(1001&e[0]){let n;for(a=W(t[6]),n=0;n<a.length;n+=1){const i=cc(t,a,n);s[n]?s[n].p(i,e):(s[n]=pc(i),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}v(r,c=G(l,[2054&e[0]&&i!==(i="x-tick-labels ".concat(t[2],"-axis ").concat(t[1]," ").concat(t[11]))&&{class:i},1024&e[0]&&o!==(o="translate(".concat(t[10].join(","),")"))&&{transform:o},16&e[0]&&t[4]]))},i:e,o:e,d(t){t&&h(r),f(s,t)}}}function gc(t,e,n){let r,i,o,a,s,{themeOptions:l}=e,{tickPosition:c}=e,{plotSize:u}=e,{scale:h}=e,{className:f=""}=e,{rtl:p=!1}=e,{ticksMajor:d}=e,{tickLines:g}=e,{scaleType:m}=e,{tickFormat:y}=e,{multiFormat:v}=e,{keepOrder:b}=e,{fontSize:x}=e,{ariaDescription:w}=e,{fitLabelsActual:k}=e,{css:_}=e;const M=[];let A,T=[];return t.$$set=t=>{"themeOptions"in t&&n(12,l=t.themeOptions),"tickPosition"in t&&n(0,c=t.tickPosition),"plotSize"in t&&n(13,u=t.plotSize),"scale"in t&&n(14,h=t.scale),"className"in t&&n(1,f=t.className),"rtl"in t&&n(15,p=t.rtl),"ticksMajor"in t&&n(16,d=t.ticksMajor),"tickLines"in t&&n(17,g=t.tickLines),"scaleType"in t&&n(2,m=t.scaleType),"tickFormat"in t&&n(18,y=t.tickFormat),"multiFormat"in t&&n(19,v=t.multiFormat),"keepOrder"in t&&n(20,b=t.keepOrder),"fontSize"in t&&n(3,x=t.fontSize),"ariaDescription"in t&&n(4,w=t.ariaDescription),"fitLabelsActual"in t&&n(21,k=t.fitLabelsActual),"css"in t&&n(22,_=t.css)},t.$$.update=()=>{4198400&t.$$.dirty[0]&&n(11,r=function(t,e){let{tickLabels:n}=t;return e("\n    text {\n        text-anchor: middle;\n    }\n    ".concat(n.hideZero?"text.is-zero { display: none }":"","\n    text tspan {\n        ").concat(Sl(n),"\n    }\n"))}(l,_)),135168&t.$$.dirty[0]&&n(23,i=(g?tt(l,"tickLines.distance")+tt(l,"tickLines.length"):0)+tt(l,"tickLabels.distance")),8396801&t.$$.dirty[0]&&n(10,o="bottom"===c?[0,u[1]+i]:[0,-i-3]),4096&t.$$.dirty[0]&&n(9,a="bold"===tt(l,"tickLabels.fontWeight")),4096&t.$$.dirty[0]&&n(8,s="italic"===tt(l,"tickLabels.fontStyle")),65536&t.$$.dirty[0]&&async function(t){const e=[...t];e.sort((t,e)=>h(t)-h(e)),p&&e.reverse(),n(6,A=e.map((t,e,n)=>function(t,e,n,r,i,o,a,s,l){const c=0===e,u=e===n.length-1,h=c?"first":u?"last":"middle",f=[t].map(t=>a?s(t,h,0===e):[s(t,h,0===e)]).flat().map(t=>lc(t));return r||"top"!==i||f.reverse(),{tick:t,y:"top"===i?(f.length-1)*(o+3)*-1:0,ticks:f,isFirst:c,isLast:u,isZero:0===t,translate:[l(t),"bottom"===i?o:0],visible:!0}}(t,e,n,b,c,x,v,y,h))),p&&A.reverse(),n(7,T=A.map(()=>"")),await z();const r=M.filter(t=>t),i=r.map(t=>(null==t?void 0:t.getBoundingClientRect())||{left:0,width:0});if(i.length>0&&0===i[0].left&&0===i[0].width)return;let o;p&&i.reverse();const a=i.map((t,e)=>{const n=function(t){if(!t||"object"!=typeof t)return t;try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}(t);let i=0;return 0===e&&k.has("first")?i=.5*t.width:e===r.length-1&&k.has("last")&&(i=.5*t.width*-1),p&&(i*=-1),n.x+=i,n.left+=i,n.right+=i,!(o&&(p?n.x+n.width+4>o.x:o.x+o.width+4>n.x)||(o=n,0))});p&&a.reverse(),A.forEach((t,e)=>t.visible=0===a.length||a[e]),n(6,A),n(7,T=A.map((t,e)=>function(t){return t.isFirst&&k.has("first")?"start":t.isLast&&k.has("last")?"end":""}(t)))}(d)},[c,f,m,x,w,M,A,T,s,a,o,r,l,u,h,p,d,g,y,v,b,k,_,i,function(t,e){$[t?"unshift":"push"](()=>{M[e]=t,n(5,M)})}]}let mc=class extends Q{constructor(t){super(),J(this,t,gc,dc,s,{themeOptions:12,tickPosition:0,plotSize:13,scale:14,className:1,rtl:15,ticksMajor:16,tickLines:17,scaleType:2,tickFormat:18,multiFormat:19,keepOrder:20,fontSize:3,ariaDescription:4,fitLabelsActual:21,css:22},null,[-1,-1])}};function yc(t){let n,r,i,o,s;const c=t[4].default,f=function(t,e,n,r){if(t){const r=l(t,e,n,null);return t[0](r)}}(c,t,t[3]);return{c(){n=p("g"),f&&f.c(),y(n,"class","measure-offscreen svelte-td01xd"),y(n,"aria-hidden","true")},m(l,c){var h;u(l,n,c),f&&f.m(n,null),i=!0,o||(h=r=t[1].call(null,n,t[0]),s=h&&a(h.destroy)?h.destroy:e,o=!0)},p(t,e){let[n]=e;f&&f.p&&(!i||8&n)&&function(t,e,n,r,i,o){if(i){const o=l(e,n,r,null);t.p(o,i)}}(f,c,t,t[3],i?function(t,e,n,r){return t[2],e.dirty}(c,t[3]):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[3])),r&&a(r.update)&&1&n&&r.update.call(null,t[0])},i(t){i||(q(f,t),i=!0)},o(t){Y(f,t),i=!1},d(t){t&&h(n),f&&f.d(t),o=!1,s()}}}function vc(t,e,n){let{$$slots:r={},$$scope:i}=e,{onMeasure:o}=e,{dependencies:a}=e;return t.$$set=t=>{"onMeasure"in t&&n(2,o=t.onMeasure),"dependencies"in t&&n(0,a=t.dependencies),"$$scope"in t&&n(3,i=t.$$scope)},[a,function(t,e){let n=!0;async function r(e){if(!n)return;if(n=!1,await z(),!t.getBBox)return o({width:0,height:0,top:0,left:0,right:0,bottom:0,x:0,y:0,toJSON:()=>""},t),void(n=!0);const r=t.getBBox(),i={width:r.width,height:r.height,top:r.y,left:r.x,right:r.x+r.width,bottom:r.y+r.height,x:r.x,y:r.y,toJSON:()=>""};o(i,t),n=!0}return r(),{update:r}},o,i,r]}class bc extends Q{constructor(t){super(),J(this,t,vc,yc,s,{onMeasure:2,dependencies:0})}}function xc(t){let e,n;return e=new bc({props:{dependencies:t[6],onMeasure:t[13],$$slots:{default:[wc]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(t,r){K(e,t,r),n=!0},p(t,n){const r={};64&n[0]&&(r.dependencies=t[6]),2048&n[0]|524288&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function wc(t){let e,r;const i=[t[11]];let o={};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new mc({props:o}),{c(){X(e.$$.fragment)},m(t,n){K(e,t,n),r=!0},p(t,n){const r=2048&n[0]?G(i,[V(t[11])]):{};e.$set(r)},i(t){r||(q(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){Z(e,t)}}}function kc(t){let e,r;const i=[t[11]];let o={};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new mc({props:o}),{c(){X(e.$$.fragment)},m(t,n){K(e,t,n),r=!0},p(t,n){const r=2048&n[0]?G(i,[V(t[11])]):{};e.$set(r)},i(t){r||(q(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){Z(e,t)}}}function _c(t){let e,n;return e=new jl({props:{themeDataTickLines:t[8].tickLines,tickPosition:t[3],plotSize:t[9],scale:t[5],className:t[2],ticksMajor:t[7].ticksMajor,css:t[12]}}),{c(){X(e.$$.fragment)},m(t,r){K(e,t,r),n=!0},p(t,n){const r={};256&n[0]&&(r.themeDataTickLines=t[8].tickLines),8&n[0]&&(r.tickPosition=t[3]),512&n[0]&&(r.plotSize=t[9]),32&n[0]&&(r.scale=t[5]),4&n[0]&&(r.className=t[2]),128&n[0]&&(r.ticksMajor=t[7].ticksMajor),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Mc(t){let e,n;return e=new ql({props:{themeOptionsGridLines:t[8].gridLines,plotSize:t[9],scale:t[5],className:t[2],ticksMajor:t[7].ticksMajor,ticksMinor:t[7].ticksMinor,baseLine:t[4],css:t[12]}}),{c(){X(e.$$.fragment)},m(t,r){K(e,t,r),n=!0},p(t,n){const r={};256&n[0]&&(r.themeOptionsGridLines=t[8].gridLines),512&n[0]&&(r.plotSize=t[9]),32&n[0]&&(r.scale=t[5]),4&n[0]&&(r.className=t[2]),128&n[0]&&(r.ticksMajor=t[7].ticksMajor),128&n[0]&&(r.ticksMinor=t[7].ticksMinor),16&n[0]&&(r.baseLine=t[4]),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Ac(t){let e,n;return e=new Xl({props:{themeOptionsBaseLine:t[8].baseLine,plotSize:t[9],scale:t[5],className:t[2],ticksMajor:t[7].ticksMajor,baseLine:t[4],css:t[12]}}),{c(){X(e.$$.fragment)},m(t,r){K(e,t,r),n=!0},p(t,n){const r={};256&n[0]&&(r.themeOptionsBaseLine=t[8].baseLine),512&n[0]&&(r.plotSize=t[9]),32&n[0]&&(r.scale=t[5]),4&n[0]&&(r.className=t[2]),128&n[0]&&(r.ticksMajor=t[7].ticksMajor),16&n[0]&&(r.baseLine=t[4]),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Tc(t){let e,n,r,i,o,a,s,l=t[10]&&t[0].has("tick-labels"),f=t[0].has("tick-labels"),d=t[0].has("tick-lines"),v=t[0].has("grid-lines"),b=t[0].has("base-lines"),x=l&&xc(t),w=f&&kc(t),k=d&&_c(t),_=v&&Mc(t),M=b&&Ac(t);return{c(){x&&x.c(),e=g(),n=p("g"),w&&w.c(),r=m(),k&&k.c(),i=m(),_&&_.c(),o=m(),M&&M.c(),y(n,"class","x-grid"),y(n,"direction",a=t[1]?"rtl":"ltr")},m(t,a){x&&x.m(t,a),u(t,e,a),u(t,n,a),w&&w.m(n,null),c(n,r),k&&k.m(n,null),c(n,i),_&&_.m(n,null),c(n,o),M&&M.m(n,null),s=!0},p(t,c){1025&c[0]&&(l=t[10]&&t[0].has("tick-labels")),l?x?(x.p(t,c),1025&c[0]&&q(x,1)):(x=xc(t),x.c(),q(x,1),x.m(e.parentNode,e)):x&&(H(),Y(x,1,1,()=>{x=null}),B()),1&c[0]&&(f=t[0].has("tick-labels")),f?w?(w.p(t,c),1&c[0]&&q(w,1)):(w=kc(t),w.c(),q(w,1),w.m(n,r)):w&&(H(),Y(w,1,1,()=>{w=null}),B()),1&c[0]&&(d=t[0].has("tick-lines")),d?k?(k.p(t,c),1&c[0]&&q(k,1)):(k=_c(t),k.c(),q(k,1),k.m(n,i)):k&&(H(),Y(k,1,1,()=>{k=null}),B()),1&c[0]&&(v=t[0].has("grid-lines")),v?_?(_.p(t,c),1&c[0]&&q(_,1)):(_=Mc(t),_.c(),q(_,1),_.m(n,o)):_&&(H(),Y(_,1,1,()=>{_=null}),B()),1&c[0]&&(b=t[0].has("base-lines")),b?M?(M.p(t,c),1&c[0]&&q(M,1)):(M=Ac(t),M.c(),q(M,1),M.m(n,null)):M&&(H(),Y(M,1,1,()=>{M=null}),B()),(!s||2&c[0]&&a!==(a=t[1]?"rtl":"ltr"))&&y(n,"direction",a)},i(t){s||(q(x),q(w),q(k),q(_),q(M),s=!0)},o(t){Y(x),Y(w),Y(k),Y(_),Y(M),s=!1},d(t){t&&(h(e),h(n)),x&&x.d(t),w&&w.d(),k&&k.d(),_&&_.d(),M&&M.d()}}}function Ec(t,e,n){let r,i,o,a,s,l,c,u,h,f,p,{elements:d}=e,{scale:g}=e,{scaleType:m}=e,{plotSize:y}=e,{emotion:v}=e,{numeral:b}=e,{chroma:x}=e;const w=new Promise(t=>{n(34,p=t)}),k=T();let _,M,E,{themeData:$={}}=e,{translate:O=(t=>t)}=e,{rtl:S=!1}=e,{ticks:L={major:{values:[]},minor:{values:[]}}}=e,{tickLabelFormat:N="auto"}=e,{tickLabelMultiply:C=1}=e,{tickLabelUnit:z=["",""]}=e,{secondary:D=!1}=e,{className:j=""}=e,{margin:R={top:0,left:0,right:0,bottom:0,labelWidth:0}}=e,{tickLines:I=d.has("tick-lines")}=e,{customFormatFunction:P}=e,{minusChar:F}=e,{plusMinusChar:U}=e,{tickPosition:H="bottom"}=e,{baseLine:B=new Set(["zero"])}=e,{fitLabels:q=new Set}=e,Y=!0,W=$a(l),G=!1,V=!1,X=new Set;const{css:K}=v;let Z={ticksMajor:[],ticksMinor:[]};function J(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{left:0,right:0,bottom:0,top:0,labelWidth:0},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const r=tt(e.tickLines,"distance"),i=tt(e.tickLines,"length"),o=tt(e.tickLines,"strokeLinecap"),a=tt(e,"tickLines.width",0),s=tt(e,"gridLines.major.width",0),l=Math.max(d.has("tick-lines")?a:0,d.has("grid-lines")?s:0),c={left:.5*l,right:.5*l,[H]:r+i+("square"===o||"round"===o?.5*l:0)},u=tt(e,"baseLine.width"),h={left:n.has("left")?u:0,right:n.has("right")?u:0},f=Object.assign({},t);for(const e of["top","right","bottom","left"]){const n=e;f[n]=Math.max(t[n]||0,c[n]||0,h[n]||0)}return f}const Q="getBBox"in document.createElementNS("http://www.w3.org/2000/svg","svg")==0;return A(async()=>{if(!d.has("tick-labels")){const t=J(void 0,c,B);p(t),k("marginUpdate",{margin:t})}}),t.$$set=t=>{"elements"in t&&n(0,d=t.elements),"scale"in t&&n(14,g=t.scale),"scaleType"in t&&n(15,m=t.scaleType),"plotSize"in t&&n(16,y=t.plotSize),"emotion"in t&&n(17,v=t.emotion),"numeral"in t&&n(18,b=t.numeral),"chroma"in t&&n(19,x=t.chroma),"themeData"in t&&n(21,$=t.themeData),"translate"in t&&n(22,O=t.translate),"rtl"in t&&n(1,S=t.rtl),"ticks"in t&&n(23,L=t.ticks),"tickLabelFormat"in t&&n(24,N=t.tickLabelFormat),"tickLabelMultiply"in t&&n(25,C=t.tickLabelMultiply),"tickLabelUnit"in t&&n(26,z=t.tickLabelUnit),"secondary"in t&&n(27,D=t.secondary),"className"in t&&n(2,j=t.className),"margin"in t&&n(28,R=t.margin),"tickLines"in t&&n(29,I=t.tickLines),"customFormatFunction"in t&&n(30,P=t.customFormatFunction),"minusChar"in t&&n(31,F=t.minusChar),"plusMinusChar"in t&&n(32,U=t.plusMinusChar),"tickPosition"in t&&n(3,H=t.tickPosition),"baseLine"in t&&n(4,B=t.baseLine),"fitLabels"in t&&n(33,q=t.fitLabels)},t.$$.update=()=>{if(2097152&t.$$.dirty[0]|1&t.$$.dirty[1]&&n(43,r=F||tt($,"vis.base.format.minusCharacter","−")),2097152&t.$$.dirty[0]|2&t.$$.dirty[1]&&n(42,i=U||tt($,"vis.base.format.plusMinusCharacter","±")),268500992&t.$$.dirty[0]&&n(45,o=y[0]-R.left-Math.max(R.right,0)),16384&t.$$.dirty[0]&&n(46,a=g.range()[1]<g.range()[0]),16416&t.$$.dirty[0]|32768&t.$$.dirty[1]&&(n(5,_=g.copy()),a)){_.range([g.range()[1],g.range()[0]]);const t=g.domain().reverse();_.domain(t)}if(65536&t.$$.dirty[0]|16384&t.$$.dirty[1]&&n(9,s=[o,y[1]]),136839168&t.$$.dirty[0]&&n(8,c=Ta("horizontal",$,D,x)),931250443&t.$$.dirty[0]|6276&t.$$.dirty[1]&&n(44,l={elements:d,scale:g,margin:R,scaleType:m,plotSize:y,themeOptions:c,minusChar:r,plusMinusChar:i,rtl:S,tickPosition:H,ticks:L,tickLabelFormat:N,tickLabelMultiply:C,tickLabelUnit:z,tickLines:I,fitLabels:q,fitLabelsActual:X}),64&t.$$.dirty[0]|8192&t.$$.dirty[1]){const t=$a(l);t!==W&&(n(10,Y=!0),n(6,W=t))}if(1191215136&t.$$.dirty[0]|6144&t.$$.dirty[1]&&n(39,E={scale:_,scaleType:m,tickLabelFormat:N,tickLabelUnit:z,tickLabelMultiply:C,minusChar:r,plusMinusChar:i,customFormatFunction:P}),1201963298&t.$$.dirty[0]|6144&t.$$.dirty[1]&&n(7,Z=dl(b,{scale:_,scaleType:m,customFormatFunction:P,tickLabelFormat:N,tickLabelUnit:z,tickLabelMultiply:C,minusChar:r,plusMinusChar:i},c,$,!0,L,S)),262528&t.$$.dirty[0]|256&t.$$.dirty[1]){const t=vl(b,E,Z.ticksMajor,c);n(35,M=t.tickFormat),n(36,G=t.multiFormat),n(37,V=t.keepOrder)}if(2097408&t.$$.dirty[0]&&n(41,u=tt(c,"tickLabels.fontSize",Go($,"fontSize",12))),4456832&t.$$.dirty[0]|256&t.$$.dirty[1]&&n(40,h=Al(b,"x",E,c,O,Z.ticksMajor)),536904622&t.$$.dirty[0]|1780&t.$$.dirty[1]&&n(11,f={themeOptions:c,tickPosition:H,plotSize:s,scale:_,rtl:S,className:j,tickLines:I,ticksMajor:Z.ticksMajor,fitLabels:q,scaleType:m,css:K,tickFormat:M,multiFormat:G,keepOrder:V,fontSize:u,ariaDescription:h,fitLabelsActual:X}),273&t.$$.dirty[0]|8&t.$$.dirty[1]&&Q&&!d.has("tick-labels")){const t=J(void 0,c,B);p(t),k("marginUpdate",{margin:t})}},[d,S,j,H,B,_,W,Z,c,s,Y,f,K,async function(t){const e={top:0,left:0,bottom:0,right:0,labelWidth:0},r=(I?tt(c,"tickLines.distance")+tt(c,"tickLines.length"):0)+tt(c,"tickLabels.distance"),i=tt(c,"tickLabels.extraSpace",1);e[H]=t.height+r+i;const o=Math.max(-1*t.left,0),a=t.width+(o>0?0:t.left)-s[0]-o,l=q.has("first")&&!S||q.has("last")&&S,u=q.has("last")&&!S||q.has("first")&&S;e.left=l?0:o,e.right=u?0:a;const h=S?a>0:o>0,f=S?o>0:a>0;n(38,X=new Set),q.has("first")&&h&&X.add("first"),q.has("last")&&f&&X.add("last"),y[0]>0&&y[1]>0&&e.left<y[0]&&e.right<y[0]&&e.top<y[1]&&e.bottom<y[1]&&(p(e),k("marginUpdate",{margin:e})),n(10,Y=!1)},g,m,y,v,b,x,w,$,O,L,N,C,z,D,R,I,P,F,U,q,p,M,G,V,X,E,h,u,i,r,l,o,a]}class $c extends Q{constructor(t){super(),J(this,t,Ec,Tc,s,{elements:0,scale:14,scaleType:15,plotSize:16,emotion:17,numeral:18,chroma:19,rendered:20,themeData:21,translate:22,rtl:1,ticks:23,tickLabelFormat:24,tickLabelMultiply:25,tickLabelUnit:26,secondary:27,className:2,margin:28,tickLines:29,customFormatFunction:30,minusChar:31,plusMinusChar:32,tickPosition:3,baseLine:4,fitLabels:33},null,[-1,-1])}get rendered(){return this.$$.ctx[20]}}function Oc(t,e,n){const r=t.slice();return r[16]=e[n],r}function Sc(t){let e,n,r,i;return{c(){e=p("line"),y(e,"class",n="y-tick-line ".concat(t[5])),y(e,"x2",r=t[2]*t[3]),y(e,"transform",i="translate(".concat(t[6](t[16]).join(","),")")),w(e,"is-zero",0===t[16])},m(t,n){u(t,e,n)},p(t,o){32&o&&n!==(n="y-tick-line ".concat(t[5]))&&y(e,"class",n),12&o&&r!==(r=t[2]*t[3])&&y(e,"x2",r),2&o&&i!==(i="translate(".concat(t[6](t[16]).join(","),")"))&&y(e,"transform",i),34&o&&w(e,"is-zero",0===t[16])},d(t){t&&h(e)}}}function Lc(t){let n,r,i,o=W(t[1]),a=[];for(let e=0;e<o.length;e+=1)a[e]=Sc(Oc(t,o,e));return{c(){n=p("g");for(let t=0;t<a.length;t+=1)a[t].c();y(n,"class",r="y-tick-lines ".concat(t[0]," ").concat(t[5])),y(n,"transform",i="translate(".concat(t[4].join(","),")"))},m(t,e){u(t,n,e);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(n,null)},p(t,e){let[s]=e;if(110&s){let e;for(o=W(t[1]),e=0;e<o.length;e+=1){const r=Oc(t,o,e);a[e]?a[e].p(r,s):(a[e]=Sc(r),a[e].c(),a[e].m(n,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}33&s&&r!==(r="y-tick-lines ".concat(t[0]," ").concat(t[5]))&&y(n,"class",r),16&s&&i!==(i="translate(".concat(t[4].join(","),")"))&&y(n,"transform",i)},i:e,o:e,d(t){t&&h(n),f(a,t)}}}function Nc(t,e,n){let r,i,o,a,s,{themeDataTickLines:l}=e,{tickPosition:c}=e,{plotSize:u}=e,{scale:h}=e,{className:f=""}=e,{ticksMajor:p}=e,{css:d}=e,{tickLabelsInside:g}=e,{insideTickLineLength:m="long"}=e,y="length";return t.$$set=t=>{"themeDataTickLines"in t&&n(7,l=t.themeDataTickLines),"tickPosition"in t&&n(8,c=t.tickPosition),"plotSize"in t&&n(9,u=t.plotSize),"scale"in t&&n(10,h=t.scale),"className"in t&&n(0,f=t.className),"ticksMajor"in t&&n(1,p=t.ticksMajor),"css"in t&&n(11,d=t.css),"tickLabelsInside"in t&&n(12,g=t.tickLabelsInside),"insideTickLineLength"in t&&n(13,m=t.insideTickLineLength)},t.$$.update=()=>{2176&t.$$.dirty&&n(5,r=El(l,d)),256&t.$$.dirty&&n(3,i="right"===c?1:-1),12288&t.$$.dirty&&n(14,y=g&&"short"===m?"lengthInsideShort":g?"lengthInside":"length"),16512&t.$$.dirty&&n(2,o=tt(l,y)),4228&t.$$.dirty&&(a=g?-o:tt(l,"distance")),768&t.$$.dirty&&n(4,s="right"===c?[u[0],0]:[0,0])},[f,p,o,i,s,r,function(t){return[a*i,h(t)]},l,c,u,h,d,g,m,y]}class Cc extends Q{constructor(t){super(),J(this,t,Nc,Lc,s,{themeDataTickLines:7,tickPosition:8,plotSize:9,scale:10,className:0,ticksMajor:1,css:11,tickLabelsInside:12,insideTickLineLength:13})}}function zc(t,e,n){const r=t.slice();return r[12]=e[n],r}function Dc(t,e,n){const r=t.slice();return r[12]=e[n],r}function jc(t){let e,n,r,i,o;return{c(){e=p("line"),y(e,"class",n="y-grid-line major ".concat(t[5])),y(e,"x1",r=t[3]/2),y(e,"x2",i=t[0][0]-t[3]/2),y(e,"transform",o="translate(0, ".concat(t[6](t[12]),")")),w(e,"is-zero",0===t[12])},m(t,n){u(t,e,n)},p(t,a){32&a&&n!==(n="y-grid-line major ".concat(t[5]))&&y(e,"class",n),8&a&&r!==(r=t[3]/2)&&y(e,"x1",r),9&a&&i!==(i=t[0][0]-t[3]/2)&&y(e,"x2",i),16&a&&o!==(o="translate(0, ".concat(t[6](t[12]),")"))&&y(e,"transform",o),48&a&&w(e,"is-zero",0===t[12])},d(t){t&&h(e)}}}function Rc(t){let e,n=W(t[2]),r=[];for(let e=0;e<n.length;e+=1)r[e]=Ic(zc(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=m()},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);u(t,e,n)},p(t,i){if(109&i){let o;for(n=W(t[2]),o=0;o<n.length;o+=1){const a=zc(t,n,o);r[o]?r[o].p(a,i):(r[o]=Ic(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&h(e),f(r,t)}}}function Ic(t){let e,n,r,i,o;return{c(){e=p("line"),y(e,"class",n="y-grid-line minor ".concat(t[5])),y(e,"x1",r=-t[3]),y(e,"x2",i=t[0][0]+t[3]),y(e,"transform",o="translate(0, ".concat(t[6](t[12]),")"))},m(t,n){u(t,e,n)},p(t,a){32&a&&n!==(n="y-grid-line minor ".concat(t[5]))&&y(e,"class",n),8&a&&r!==(r=-t[3])&&y(e,"x1",r),9&a&&i!==(i=t[0][0]+t[3])&&y(e,"x2",i),4&a&&o!==(o="translate(0, ".concat(t[6](t[12]),")"))&&y(e,"transform",o)},d(t){t&&h(e)}}}function Pc(t){let n,r,i,o=W(t[4]),a=[];for(let e=0;e<o.length;e+=1)a[e]=jc(Dc(t,o,e));let s=t[2]&&Rc(t);return{c(){n=p("g");for(let t=0;t<a.length;t+=1)a[t].c();r=m(),s&&s.c(),y(n,"class",i="y-grid-lines ".concat(t[1]," ").concat(t[5]))},m(t,e){u(t,n,e);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(n,null);c(n,r),s&&s.m(n,null)},p(t,e){let[l]=e;if(121&l){let e;for(o=W(t[4]),e=0;e<o.length;e+=1){const i=Dc(t,o,e);a[e]?a[e].p(i,l):(a[e]=jc(i),a[e].c(),a[e].m(n,r))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}t[2]?s?s.p(t,l):(s=Rc(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null),34&l&&i!==(i="y-grid-lines ".concat(t[1]," ").concat(t[5]))&&y(n,"class",i)},i:e,o:e,d(t){t&&h(n),f(a,t),s&&s.d()}}}function Fc(t,e,n){let r,i,o,{themeOptionsGridLines:a}=e,{plotSize:s}=e,{scale:l}=e,{className:c=""}=e,{ticksMajor:u}=e,{ticksMinor:h}=e,{baseLine:f}=e,{css:p}=e;return t.$$set=t=>{"themeOptionsGridLines"in t&&n(7,a=t.themeOptionsGridLines),"plotSize"in t&&n(0,s=t.plotSize),"scale"in t&&n(8,l=t.scale),"className"in t&&n(1,c=t.className),"ticksMajor"in t&&n(9,u=t.ticksMajor),"ticksMinor"in t&&n(2,h=t.ticksMinor),"baseLine"in t&&n(10,f=t.baseLine),"css"in t&&n(11,p=t.css)},t.$$.update=()=>{2176&t.$$.dirty&&n(5,r=Tl(a,p)),1536&t.$$.dirty&&n(4,i=u.filter(t=>!f.has("zero")||0!==t)),128&t.$$.dirty&&n(3,o="round"===a.major.strokeLinecap||"square"===a.major.strokeLinecap?a.major.width||1:0)},[s,c,h,o,i,r,function(t){return l(t)},a,l,u,f,p]}class Uc extends Q{constructor(t){super(),J(this,t,Fc,Pc,s,{themeOptionsGridLines:7,plotSize:0,scale:8,className:1,ticksMajor:9,ticksMinor:2,baseLine:10,css:11})}}function Hc(t,e,n){const r=t.slice();return r[11]=e[n],r}function Bc(t){let e,n,r,i,o;return{c(){e=p("g"),n=p("line"),y(n,"x1",r=t[0][0]),y(n,"transform",i="translate(0, ".concat(t[4](t[11]),")")),y(e,"class",o="y-base-lines ".concat(t[1]," ").concat(t[3]))},m(t,r){u(t,e,r),c(e,n)},p(t,a){1&a&&r!==(r=t[0][0])&&y(n,"x1",r),4&a&&i!==(i="translate(0, ".concat(t[4](t[11]),")"))&&y(n,"transform",i),10&a&&o!==(o="y-base-lines ".concat(t[1]," ").concat(t[3]))&&y(e,"class",o)},d(t){t&&h(e)}}}function qc(t){let n,r=W(t[2]),i=[];for(let e=0;e<r.length;e+=1)i[e]=Bc(Hc(t,r,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();n=m()},m(t,e){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(t,e);u(t,n,e)},p(t,e){let[o]=e;if(31&o){let e;for(r=W(t[2]),e=0;e<r.length;e+=1){const a=Hc(t,r,e);i[e]?i[e].p(a,o):(i[e]=Bc(a),i[e].c(),i[e].m(n.parentNode,n))}for(;e<i.length;e+=1)i[e].d(1);i.length=r.length}},i:e,o:e,d(t){t&&h(n),f(i,t)}}}function Yc(t,e,n){let r,i,{themeOptionsBaseLine:o}=e,{plotSize:a}=e,{scale:s}=e,{className:l=""}=e,{ticksMajor:c}=e,{baseLine:u}=e,{css:h}=e,{enforceZeroBaseline:f=!1}=e;return t.$$set=t=>{"themeOptionsBaseLine"in t&&n(5,o=t.themeOptionsBaseLine),"plotSize"in t&&n(0,a=t.plotSize),"scale"in t&&n(6,s=t.scale),"className"in t&&n(1,l=t.className),"ticksMajor"in t&&n(7,c=t.ticksMajor),"baseLine"in t&&n(8,u=t.baseLine),"css"in t&&n(9,h=t.css),"enforceZeroBaseline"in t&&n(10,f=t.enforceZeroBaseline)},t.$$.update=()=>{544&t.$$.dirty&&n(3,r=$l(o,h)),1408&t.$$.dirty&&n(2,i=Array.from(u).filter(t=>"zero"!==t||c.includes(0)||f))},[a,l,i,r,function(t){return"zero"===t?s(0):"top"===t?0:a[1]},o,s,c,u,h,f]}class Wc extends Q{constructor(t){super(),J(this,t,Yc,qc,s,{themeOptionsBaseLine:5,plotSize:0,scale:6,className:1,ticksMajor:7,baseLine:8,css:9,enforceZeroBaseline:10})}}function Gc(t,e,n){const r=t.slice();return r[26]=e[n],r[27]=e,r[28]=n,r}function Vc(t,e,n){const r=t.slice();return r[29]=e[n],r[31]=n,r}function Xc(t,e,n){const r=t.slice();return r[29]=e[n],r[31]=n,r}function Kc(t){let e,n,r,i,o,a=W(t[26].ticks),s=[];for(let e=0;e<a.length;e+=1)s[e]=Zc(Xc(t,a,e));return{c(){e=p("text");for(let t=0;t<s.length;t+=1)s[t].c();y(e,"class",n="y-tick-label buffer ".concat(t[0])),y(e,"transform",r="translate(".concat(t[26].translate.join(","),")")),y(e,"aria-hidden","true"),y(e,"x",i=t[26].x),y(e,"y",o=t[26].y),w(e,"dw-bold",t[10]),w(e,"dw-italic",t[9]),w(e,"is-zero",t[26].isZero),w(e,"first",t[26].isFirst),w(e,"last",t[26].isLast),w(e,"inside",t[5])},m(t,n){u(t,e,n);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null)},p(t,l){if(297&l[0]){let n;for(a=W(t[26].ticks),n=0;n<a.length;n+=1){const r=Xc(t,a,n);s[n]?s[n].p(r,l):(s[n]=Zc(r),s[n].c(),s[n].m(e,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}1&l[0]&&n!==(n="y-tick-label buffer ".concat(t[0]))&&y(e,"class",n),256&l[0]&&r!==(r="translate(".concat(t[26].translate.join(","),")"))&&y(e,"transform",r),256&l[0]&&i!==(i=t[26].x)&&y(e,"x",i),256&l[0]&&o!==(o=t[26].y)&&y(e,"y",o),1025&l[0]&&w(e,"dw-bold",t[10]),513&l[0]&&w(e,"dw-italic",t[9]),257&l[0]&&w(e,"is-zero",t[26].isZero),257&l[0]&&w(e,"first",t[26].isFirst),257&l[0]&&w(e,"last",t[26].isLast),33&l[0]&&w(e,"inside",t[5])},d(t){t&&h(e),f(s,t)}}}function Zc(t){let e,n,r,i,o=t[29]+"";return{c(){e=p("tspan"),n=d(o),y(e,"x",r="left"===t[0]&&t[5]?0:-1),y(e,"dy",i=t[31]>0?t[3]+3:0)},m(t,r){u(t,e,r),c(e,n)},p(t,a){256&a[0]&&o!==(o=t[29]+"")&&b(n,o),33&a[0]&&r!==(r="left"===t[0]&&t[5]?0:-1)&&y(e,"x",r),8&a[0]&&i!==(i=t[31]>0?t[3]+3:0)&&y(e,"dy",i)},d(t){t&&h(e)}}}function Jc(t){let e,n,r,i,o=t[29]+"";return{c(){e=p("tspan"),n=d(o),y(e,"x",r="left"===t[0]&&t[5]?0:-1),y(e,"dy",i=t[31]>0?t[3]+3:0)},m(t,r){u(t,e,r),c(e,n)},p(t,a){256&a[0]&&o!==(o=t[29]+"")&&b(n,o),33&a[0]&&r!==(r="left"===t[0]&&t[5]?0:-1)&&y(e,"x",r),8&a[0]&&i!==(i=t[31]>0?t[3]+3:0)&&y(e,"dy",i)},d(t){t&&h(e)}}}function Qc(t){let e,n,r,i,o,a=t[28],s=t[6]&&Kc(t),l=W(t[26].ticks),c=[];for(let e=0;e<l.length;e+=1)c[e]=Jc(Vc(t,l,e));const d=()=>t[24](e,a),g=()=>t[24](null,a);return{c(){s&&s.c(),e=p("text");for(let t=0;t<c.length;t+=1)c[t].c();y(e,"class",n="y-tick-label ".concat(t[0])),y(e,"transform",r="translate(".concat(t[26].translate.join(","),")")),y(e,"aria-hidden","true"),y(e,"x",i=t[26].x),y(e,"y",o=t[26].y),w(e,"dw-bold",t[10]),w(e,"dw-italic",t[9]),w(e,"is-zero",t[26].isZero),w(e,"first",t[26].isFirst),w(e,"last",t[26].isLast),w(e,"inside",t[5])},m(t,n){s&&s.m(t,n),u(t,e,n);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(e,null);d()},p(u,h){if((t=u)[6]?s?s.p(t,h):(s=Kc(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),297&h[0]){let n;for(l=W(t[26].ticks),n=0;n<l.length;n+=1){const r=Vc(t,l,n);c[n]?c[n].p(r,h):(c[n]=Jc(r),c[n].c(),c[n].m(e,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}1&h[0]&&n!==(n="y-tick-label ".concat(t[0]))&&y(e,"class",n),256&h[0]&&r!==(r="translate(".concat(t[26].translate.join(","),")"))&&y(e,"transform",r),256&h[0]&&i!==(i=t[26].x)&&y(e,"x",i),256&h[0]&&o!==(o=t[26].y)&&y(e,"y",o),a!==t[28]&&(g(),a=t[28],d()),1025&h[0]&&w(e,"dw-bold",t[10]),513&h[0]&&w(e,"dw-italic",t[9]),257&h[0]&&w(e,"is-zero",t[26].isZero),257&h[0]&&w(e,"first",t[26].isFirst),257&h[0]&&w(e,"last",t[26].isLast),33&h[0]&&w(e,"inside",t[5])},d(t){t&&h(e),s&&s.d(t),f(c,t),g()}}}function tu(t){let r,i,o,a=W(t[8]),s=[];for(let e=0;e<a.length;e+=1)s[e]=Qc(Gc(t,a,e));let l=[{class:i="y-tick-labels ".concat(t[2],"-axis ").concat(t[1]," ").concat(t[12])},{transform:o="translate(".concat(t[11].join(","),")")},t[4]],c={};for(let t=0;t<l.length;t+=1)c=n(c,l[t]);return{c(){r=p("g");for(let t=0;t<s.length;t+=1)s[t].c();v(r,c),w(r,"buffer",t[6])},m(t,e){u(t,r,e);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(r,null)},p(t,e){if(2025&e[0]){let n;for(a=W(t[8]),n=0;n<a.length;n+=1){const i=Gc(t,a,n);s[n]?s[n].p(i,e):(s[n]=Qc(i),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}v(r,c=G(l,[4102&e[0]&&i!==(i="y-tick-labels ".concat(t[2],"-axis ").concat(t[1]," ").concat(t[12]))&&{class:i},2048&e[0]&&o!==(o="translate(".concat(t[11].join(","),")"))&&{transform:o},16&e[0]&&t[4]])),w(r,"buffer",t[6])},i:e,o:e,d(t){t&&h(r),f(s,t)}}}function eu(t,e,n){let r,i,o,a,s,{themeOptions:l}=e,{tickPosition:c}=e,{plotSize:u}=e,{scale:h}=e,{className:f=""}=e,{rtl:p=!1}=e,{ticksMajor:d}=e,{tickLines:g}=e,{scaleType:m}=e,{tickFormat:y}=e,{multiFormat:v}=e,{keepOrder:b}=e,{fontSize:x}=e,{ariaDescription:w}=e,{tickLabelsInside:k}=e,{bufferStroke:_=!1}=e,{css:M}=e;const A=[];let T;return t.$$set=t=>{"themeOptions"in t&&n(13,l=t.themeOptions),"tickPosition"in t&&n(0,c=t.tickPosition),"plotSize"in t&&n(14,u=t.plotSize),"scale"in t&&n(15,h=t.scale),"className"in t&&n(1,f=t.className),"rtl"in t&&n(16,p=t.rtl),"ticksMajor"in t&&n(17,d=t.ticksMajor),"tickLines"in t&&n(18,g=t.tickLines),"scaleType"in t&&n(2,m=t.scaleType),"tickFormat"in t&&n(19,y=t.tickFormat),"multiFormat"in t&&n(20,v=t.multiFormat),"keepOrder"in t&&n(21,b=t.keepOrder),"fontSize"in t&&n(3,x=t.fontSize),"ariaDescription"in t&&n(4,w=t.ariaDescription),"tickLabelsInside"in t&&n(5,k=t.tickLabelsInside),"bufferStroke"in t&&n(6,_=t.bufferStroke),"css"in t&&n(22,M=t.css)},t.$$.update=()=>{4268032&t.$$.dirty[0]&&n(12,r=function(t,e,n){let{tickLabels:r}=t;const{bufferColor:i}=r;return n("\n    text {}\n    ".concat(r.hideZero?"text.is-zero { display: none }":"","\n    text tspan {\n        ").concat(Sl(r),"\n    }\n    text.right {\n        text-anchor: ").concat(e?"end":"start",";\n    }\n    text.right.inside {\n        text-anchor: ").concat(e?"start":"end",";\n    }\n    text.left {\n        text-anchor: ").concat(e?"start":"end",";\n    }\n    text.left.inside {\n        text-anchor: ").concat(e?"end":"start",";\n    }\n    text.buffer {\n        fill: ").concat(i,";\n        stroke: ").concat(i,";\n        stroke-width: 2;\n    }\n"))}(l,p,M)),270368&t.$$.dirty[0]&&n(23,i=k?0:(g?tt(l,"tickLines.distance")+tt(l,"tickLines.length"):0)+tt(l,"tickLabels.distance")),8404993&t.$$.dirty[0]&&n(11,o="right"===c?[u[0]+i,0]:[-i,0]),8192&t.$$.dirty[0]&&n(10,a="bold"===tt(l,"tickLabels.fontWeight")),8192&t.$$.dirty[0]&&n(9,s="italic"===tt(l,"tickLabels.fontStyle")),131072&t.$$.dirty[0]&&async function(t){const e=[...t];e.sort((t,e)=>h(e)-h(t)),n(8,T=e.map((t,e,n)=>function(t,e,n,r,i,o,a,s,l,c){const u=e===n.length-1,h=0===e,f=u?"first":h?"last":"middle",p=[t].map(t=>a?s(t,f,0===e):[s(t,f,0===e)]).flat().map(t=>lc(t));return{tick:t,x:"right"===i?(p.length-1)*(o+3)*-1:0,y:c?(p.length-1)*(o+3)*-1:(p.length-1)*(o+3)*-.5,ticks:p,isFirst:u,isLast:h,isZero:0===t,translate:[0,l(t)+Math.floor(o*(c?0:.4))-(c?5:0)]}}(t,e,n,0,c,x,v,y,h,k))),await z();const r=A.map(t=>(null==t?void 0:t.getBoundingClientRect())||{left:0,width:0});if(r.length>0&&0===r[0].left&&0===r[0].width)return;let i;const o=r.map((t,e)=>0===t.width||!(i&&i.y<t.y+t.height)&&(i=t,!0));n(8,T=T.filter((t,e)=>0===o.length||o[e]))}(d)},[c,f,m,x,w,k,_,A,T,s,a,o,r,l,u,h,p,d,g,y,v,b,M,i,function(t,e){$[t?"unshift":"push"](()=>{A[e]=t,n(7,A)})}]
/**
      	 * chroma.js - JavaScript library for color conversions
      	 *
      	 * Copyright (c) 2011-2019, Gregor Aisch
      	 * All rights reserved.
      	 *
      	 * Redistribution and use in source and binary forms, with or without
      	 * modification, are permitted provided that the following conditions are met:
      	 *
      	 * 1. Redistributions of source code must retain the above copyright notice, this
      	 * list of conditions and the following disclaimer.
      	 *
      	 * 2. Redistributions in binary form must reproduce the above copyright notice,
      	 * this list of conditions and the following disclaimer in the documentation
      	 * and/or other materials provided with the distribution.
      	 *
      	 * 3. The name Gregor Aisch may not be used to endorse or promote products
      	 * derived from this software without specific prior written permission.
      	 *
      	 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
      	 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
      	 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
      	 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
      	 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
      	 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
      	 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
      	 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
      	 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
      	 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
      	 *
      	 * -------------------------------------------------------
      	 *
      	 * chroma.js includes colors from colorbrewer2.org, which are released under
      	 * the following license:
      	 *
      	 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
      	 * and The Pennsylvania State University.
      	 *
      	 * Licensed under the Apache License, Version 2.0 (the "License");
      	 * you may not use this file except in compliance with the License.
      	 * You may obtain a copy of the License at
      	 * http://www.apache.org/licenses/LICENSE-2.0
      	 *
      	 * Unless required by applicable law or agreed to in writing,
      	 * software distributed under the License is distributed on an
      	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
      	 * either express or implied. See the License for the specific
      	 * language governing permissions and limitations under the License.
      	 *
      	 * ------------------------------------------------------
      	 *
      	 * Named colors are taken from X11 Color Names.
      	 * http://www.w3.org/TR/css3-color/#svg-color
      	 *
      	 * @preserve
      	 */}!function(){for(var t=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},e=t,n={},r=0,i=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<i.length;r+=1){var o=i[r];n["[object "+o+"]"]=o.toLowerCase()}var a=function(t){return n[Object.prototype.toString.call(t)]||"object"},s=a,l=a,c=Math.PI,u={clip_rgb:function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=e(t[n],0,255)):3===n&&(t[n]=e(t[n],0,1));return t},limit:t,type:a,unpack:function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==s(t[0])&&e?e.split("").filter((function(e){return void 0!==t[0][e]})).map((function(e){return t[0][e]})):t[0]},last:function(t){if(t.length<2)return null;var e=t.length-1;return"string"==l(t[e])?t[e].toLowerCase():null},PI:c,TWOPI:2*c,PITHIRD:c/3,DEG2RAD:c/180,RAD2DEG:180/c},h={format:{},autodetect:[]},f=u.last,p=u.clip_rgb,d=u.type,g=h,m=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=this;if("object"===d(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var r=f(t),i=!1;if(!r){i=!0,g.sorted||(g.autodetect=g.autodetect.sort((function(t,e){return e.p-t.p})),g.sorted=!0);for(var o=0,a=g.autodetect;o<a.length;o+=1){var s=a[o];if(r=s.test.apply(s,t))break}}if(!g.format[r])throw new Error("unknown format: "+t);var l=g.format[r].apply(null,i?t:t.slice(0,-1));n._rgb=p(l),3===n._rgb.length&&n._rgb.push(1)};m.prototype.toString=function(){return"function"==d(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var y=m,v=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(v.Color,[null].concat(t)))};v.Color=y,v.version="2.4.2";var b=v,x=u.unpack,w=Math.max,k=u.unpack,_=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=k(t,"cmyk"))[0],r=t[1],i=t[2],o=t[3],a=t.length>4?t[4]:1;return 1===o?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),a]},M=b,A=y,T=h,E=u.unpack,$=u.type,O=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=x(t,"rgb"),r=n[0],i=n[1],o=n[2],a=1-w(r/=255,w(i/=255,o/=255)),s=a<1?1/(1-a):0;return[(1-r-a)*s,(1-i-a)*s,(1-o-a)*s,a]};A.prototype.cmyk=function(){return O(this._rgb)},M.cmyk=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(A,[null].concat(t,["cmyk"])))},T.format.cmyk=_,T.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=E(t,"cmyk"),"array"===$(t)&&4===t.length)return"cmyk"}});var S=u.unpack,L=u.last,N=function(t){return Math.round(100*t)/100},C=u.unpack,z=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=C(t,"rgba"))[0],r=t[1],i=t[2];n/=255,r/=255,i/=255;var o,a,s=Math.min(n,r,i),l=Math.max(n,r,i),c=(l+s)/2;return l===s?(o=0,a=Number.NaN):o=c<.5?(l-s)/(l+s):(l-s)/(2-l-s),n==l?a=(r-i)/(l-s):r==l?a=2+(i-n)/(l-s):i==l&&(a=4+(n-r)/(l-s)),(a*=60)<0&&(a+=360),t.length>3&&void 0!==t[3]?[a,o,c,t[3]]:[a,o,c]},D=u.unpack,j=u.last,R=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=S(t,"hsla"),r=L(t)||"lsa";return n[0]=N(n[0]||0),n[1]=N(100*n[1])+"%",n[2]=N(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},I=z,P=Math.round,F=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=D(t,"rgba"),r=j(t)||"rgb";return"hsl"==r.substr(0,3)?R(I(n),r):(n[0]=P(n[0]),n[1]=P(n[1]),n[2]=P(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},U=u.unpack,H=Math.round,B=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];var r,i,o,a=(e=U(e,"hsl"))[0],s=e[1],l=e[2];if(0===s)r=i=o=255*l;else{var c=[0,0,0],u=[0,0,0],h=l<.5?l*(1+s):l+s-l*s,f=2*l-h,p=a/360;c[0]=p+1/3,c[1]=p,c[2]=p-1/3;for(var d=0;d<3;d++)c[d]<0&&(c[d]+=1),c[d]>1&&(c[d]-=1),6*c[d]<1?u[d]=f+6*(h-f)*c[d]:2*c[d]<1?u[d]=h:3*c[d]<2?u[d]=f+(h-f)*(2/3-c[d])*6:u[d]=f;r=(t=[H(255*u[0]),H(255*u[1]),H(255*u[2])])[0],i=t[1],o=t[2]}return e.length>3?[r,i,o,e[3]]:[r,i,o,1]},q=B,Y=h,W=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,G=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,V=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,X=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,K=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Z=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,J=Math.round,Q=function(t){var e;if(t=t.toLowerCase().trim(),Y.format.named)try{return Y.format.named(t)}catch(t){}if(e=t.match(W)){for(var n=e.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(e=t.match(G)){for(var i=e.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(e=t.match(V)){for(var a=e.slice(1,4),s=0;s<3;s++)a[s]=J(2.55*a[s]);return a[3]=1,a}if(e=t.match(X)){for(var l=e.slice(1,5),c=0;c<3;c++)l[c]=J(2.55*l[c]);return l[3]=+l[3],l}if(e=t.match(K)){var u=e.slice(1,4);u[1]*=.01,u[2]*=.01;var h=q(u);return h[3]=1,h}if(e=t.match(Z)){var f=e.slice(1,4);f[1]*=.01,f[2]*=.01;var p=q(f);return p[3]=+e[4],p}};Q.test=function(t){return W.test(t)||G.test(t)||V.test(t)||X.test(t)||K.test(t)||Z.test(t)};var tt=b,et=y,nt=h,rt=u.type,it=F,ot=Q;et.prototype.css=function(t){return it(this._rgb,t)},tt.css=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(et,[null].concat(t,["css"])))},nt.format.css=ot,nt.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===rt(t)&&ot.test(t))return"css"}});var at=y,st=b,lt=u.unpack;h.format.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=lt(t,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},st.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(at,[null].concat(t,["gl"])))},at.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var ct=u.unpack,ut=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=ct(t,"rgb"),i=r[0],o=r[1],a=r[2],s=Math.min(i,o,a),l=Math.max(i,o,a),c=l-s,u=100*c/255,h=s/(255-c)*100;return 0===c?n=Number.NaN:(i===l&&(n=(o-a)/c),o===l&&(n=2+(a-i)/c),a===l&&(n=4+(i-o)/c),(n*=60)<0&&(n+=360)),[n,u,h]},ht=u.unpack,ft=Math.floor,pt=function(){for(var t,e,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,c,u,h=(a=ht(a,"hcg"))[0],f=a[1],p=a[2];p*=255;var d=255*f;if(0===f)l=c=u=p;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var g=ft(h/=60),m=h-g,y=p*(1-f),v=y+d*(1-m),b=y+d*m,x=y+d;switch(g){case 0:l=(t=[x,b,y])[0],c=t[1],u=t[2];break;case 1:l=(e=[v,x,y])[0],c=e[1],u=e[2];break;case 2:l=(n=[y,x,b])[0],c=n[1],u=n[2];break;case 3:l=(r=[y,v,x])[0],c=r[1],u=r[2];break;case 4:l=(i=[b,y,x])[0],c=i[1],u=i[2];break;case 5:l=(o=[x,y,v])[0],c=o[1],u=o[2]}}return[l,c,u,a.length>3?a[3]:1]},dt=u.unpack,gt=u.type,mt=b,yt=y,vt=h,bt=ut;yt.prototype.hcg=function(){return bt(this._rgb)},mt.hcg=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(yt,[null].concat(t,["hcg"])))},vt.format.hcg=pt,vt.autodetect.push({p:1,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=dt(t,"hcg"),"array"===gt(t)&&3===t.length)return"hcg"}});var xt=u.unpack,wt=u.last,kt=Math.round,_t=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=xt(t,"rgba"),r=n[0],i=n[1],o=n[2],a=n[3],s=wt(t)||"auto";void 0===a&&(a=1),"auto"===s&&(s=a<1?"rgba":"rgb");var l="000000"+((r=kt(r))<<16|(i=kt(i))<<8|(o=kt(o))).toString(16);l=l.substr(l.length-6);var c="0"+kt(255*a).toString(16);switch(c=c.substr(c.length-2),s.toLowerCase()){case"rgba":return"#"+l+c;case"argb":return"#"+c+l;default:return"#"+l}},Mt=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,At=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Tt=function(t){if(t.match(Mt)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(At)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var n=parseInt(t,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+t)},Et=b,$t=y,Ot=u.type,St=h,Lt=_t;$t.prototype.hex=function(t){return Lt(this._rgb,t)},Et.hex=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply($t,[null].concat(t,["hex"])))},St.format.hex=Tt,St.autodetect.push({p:4,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===Ot(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var Nt=u.unpack,Ct=u.TWOPI,zt=Math.min,Dt=Math.sqrt,jt=Math.acos,Rt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=Nt(t,"rgb"),i=r[0],o=r[1],a=r[2],s=zt(i/=255,o/=255,a/=255),l=(i+o+a)/3,c=l>0?1-s/l:0;return 0===c?n=NaN:(n=(i-o+(i-a))/2,n/=Dt((i-o)*(i-o)+(i-a)*(o-a)),n=jt(n),a>o&&(n=Ct-n),n/=Ct),[360*n,c,l]},It=u.unpack,Pt=u.limit,Ft=u.TWOPI,Ut=u.PITHIRD,Ht=Math.cos,Bt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=It(t,"hsi"))[0],a=t[1],s=t[2];return isNaN(o)&&(o=0),isNaN(a)&&(a=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?r=1-((i=(1-a)/3)+(n=(1+a*Ht(Ft*o)/Ht(Ut-Ft*o))/3)):o<2/3?i=1-((n=(1-a)/3)+(r=(1+a*Ht(Ft*(o-=1/3))/Ht(Ut-Ft*o))/3)):n=1-((r=(1-a)/3)+(i=(1+a*Ht(Ft*(o-=2/3))/Ht(Ut-Ft*o))/3)),[255*(n=Pt(s*n*3)),255*(r=Pt(s*r*3)),255*(i=Pt(s*i*3)),t.length>3?t[3]:1]},qt=u.unpack,Yt=u.type,Wt=b,Gt=y,Vt=h,Xt=Rt;Gt.prototype.hsi=function(){return Xt(this._rgb)},Wt.hsi=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Gt,[null].concat(t,["hsi"])))},Vt.format.hsi=Bt,Vt.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=qt(t,"hsi"),"array"===Yt(t)&&3===t.length)return"hsi"}});var Kt=u.unpack,Zt=u.type,Jt=b,Qt=y,te=h,ee=z;Qt.prototype.hsl=function(){return ee(this._rgb)},Jt.hsl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Qt,[null].concat(t,["hsl"])))},te.format.hsl=B,te.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Kt(t,"hsl"),"array"===Zt(t)&&3===t.length)return"hsl"}});var ne=u.unpack,re=Math.min,ie=Math.max,oe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=ne(t,"rgb"))[0],a=t[1],s=t[2],l=re(o,a,s),c=ie(o,a,s),u=c-l;return i=c/255,0===c?(n=Number.NaN,r=0):(r=u/c,o===c&&(n=(a-s)/u),a===c&&(n=2+(s-o)/u),s===c&&(n=4+(o-a)/u),(n*=60)<0&&(n+=360)),[n,r,i]},ae=u.unpack,se=Math.floor,le=function(){for(var t,e,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,c,u,h=(a=ae(a,"hsv"))[0],f=a[1],p=a[2];if(p*=255,0===f)l=c=u=p;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var d=se(h/=60),g=h-d,m=p*(1-f),y=p*(1-f*g),v=p*(1-f*(1-g));switch(d){case 0:l=(t=[p,v,m])[0],c=t[1],u=t[2];break;case 1:l=(e=[y,p,m])[0],c=e[1],u=e[2];break;case 2:l=(n=[m,p,v])[0],c=n[1],u=n[2];break;case 3:l=(r=[m,y,p])[0],c=r[1],u=r[2];break;case 4:l=(i=[v,m,p])[0],c=i[1],u=i[2];break;case 5:l=(o=[p,m,y])[0],c=o[1],u=o[2]}}return[l,c,u,a.length>3?a[3]:1]},ce=u.unpack,ue=u.type,he=b,fe=y,pe=h,de=oe;fe.prototype.hsv=function(){return de(this._rgb)},he.hsv=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(fe,[null].concat(t,["hsv"])))},pe.format.hsv=le,pe.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=ce(t,"hsv"),"array"===ue(t)&&3===t.length)return"hsv"}});var ge={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},me=ge,ye=u.unpack,ve=Math.pow,be=function(t){return(t/=255)<=.04045?t/12.92:ve((t+.055)/1.055,2.4)},xe=function(t){return t>me.t3?ve(t,1/3):t/me.t2+me.t0},we=function(t,e,n){return t=be(t),e=be(e),n=be(n),[xe((.4124564*t+.3575761*e+.1804375*n)/me.Xn),xe((.2126729*t+.7151522*e+.072175*n)/me.Yn),xe((.0193339*t+.119192*e+.9503041*n)/me.Zn)]},ke=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=ye(t,"rgb"),r=n[0],i=n[1],o=n[2],a=we(r,i,o),s=a[0],l=a[1],c=116*l-16;return[c<0?0:c,500*(s-l),200*(l-a[2])]},_e=ge,Me=u.unpack,Ae=Math.pow,Te=function(t){return 255*(t<=.00304?12.92*t:1.055*Ae(t,1/2.4)-.055)},Ee=function(t){return t>_e.t1?t*t*t:_e.t2*(t-_e.t0)},$e=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=Me(t,"lab"))[0],a=t[1],s=t[2];return r=(o+16)/116,n=isNaN(a)?r:r+a/500,i=isNaN(s)?r:r-s/200,r=_e.Yn*Ee(r),n=_e.Xn*Ee(n),i=_e.Zn*Ee(i),[Te(3.2404542*n-1.5371385*r-.4985314*i),Te(-.969266*n+1.8760108*r+.041556*i),Te(.0556434*n-.2040259*r+1.0572252*i),t.length>3?t[3]:1]},Oe=u.unpack,Se=u.type,Le=b,Ne=y,Ce=h,ze=ke;Ne.prototype.lab=function(){return ze(this._rgb)},Le.lab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Ne,[null].concat(t,["lab"])))},Ce.format.lab=$e,Ce.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Oe(t,"lab"),"array"===Se(t)&&3===t.length)return"lab"}});var De=u.unpack,je=u.RAD2DEG,Re=Math.sqrt,Ie=Math.atan2,Pe=Math.round,Fe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=De(t,"lab"),r=n[0],i=n[1],o=n[2],a=Re(i*i+o*o),s=(Ie(o,i)*je+360)%360;return 0===Pe(1e4*a)&&(s=Number.NaN),[r,a,s]},Ue=u.unpack,He=ke,Be=Fe,qe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Ue(t,"rgb"),r=n[0],i=n[1],o=n[2],a=He(r,i,o),s=a[0],l=a[1],c=a[2];return Be(s,l,c)},Ye=u.unpack,We=u.DEG2RAD,Ge=Math.sin,Ve=Math.cos,Xe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Ye(t,"lch"),r=n[0],i=n[1],o=n[2];return isNaN(o)&&(o=0),[r,Ve(o*=We)*i,Ge(o)*i]},Ke=u.unpack,Ze=Xe,Je=$e,Qe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=Ke(t,"lch"))[0],r=t[1],i=t[2],o=Ze(n,r,i),a=o[0],s=o[1],l=o[2],c=Je(a,s,l);return[c[0],c[1],c[2],t.length>3?t[3]:1]},tn=u.unpack,en=Qe,nn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=tn(t,"hcl").reverse();return en.apply(void 0,n)},rn=u.unpack,on=u.type,an=b,sn=y,ln=h,cn=qe;sn.prototype.lch=function(){return cn(this._rgb)},sn.prototype.hcl=function(){return cn(this._rgb).reverse()},an.lch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(sn,[null].concat(t,["lch"])))},an.hcl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(sn,[null].concat(t,["hcl"])))},ln.format.lch=Qe,ln.format.hcl=nn,["lch","hcl"].forEach((function(t){return ln.autodetect.push({p:2,test:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(e=rn(e,t),"array"===on(e)&&3===e.length)return t}})}));var un={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},hn=h,fn=u.type,pn=un,dn=Tt,gn=_t;y.prototype.name=function(){for(var t=gn(this._rgb,"rgb"),e=0,n=Object.keys(pn);e<n.length;e+=1){var r=n[e];if(pn[r]===t)return r.toLowerCase()}return t},hn.format.named=function(t){if(t=t.toLowerCase(),pn[t])return dn(pn[t]);throw new Error("unknown color name: "+t)},hn.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===fn(t)&&pn[t.toLowerCase()])return"named"}});var mn=u.unpack,yn=u.type,vn=b,bn=y,xn=h,wn=u.type,kn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=mn(t,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]};bn.prototype.num=function(){return kn(this._rgb)},vn.num=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(bn,[null].concat(t,["num"])))},xn.format.num=function(t){if("number"==yn(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},xn.autodetect.push({p:5,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(1===t.length&&"number"===wn(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});var _n=b,Mn=y,An=h,Tn=u.unpack,En=u.type,$n=Math.round;Mn.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map($n)},Mn.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map((function(e,n){return n<3?!1===t?e:$n(e):e}))},_n.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Mn,[null].concat(t,["rgb"])))},An.format.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Tn(t,"rgba");return void 0===n[3]&&(n[3]=1),n},An.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Tn(t,"rgba"),"array"===En(t)&&(3===t.length||4===t.length&&"number"==En(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var On=Math.log,Sn=function(t){var e,n,r,i=t/100;return i<66?(e=255,n=i<6?0:-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*On(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*On(r)):(e=351.97690566805693+.114206453784165*(e=i-55)-40.25366309332127*On(e),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*On(n),r=255),[e,n,r,1]},Ln=Sn,Nn=u.unpack,Cn=Math.round,zn=b,Dn=y,jn=h,Rn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n,r=Nn(t,"rgb"),i=r[0],o=r[2],a=1e3,s=4e4,l=.4;s-a>l;){var c=Ln(n=.5*(s+a));c[2]/c[0]>=o/i?s=n:a=n}return Cn(n)};Dn.prototype.temp=Dn.prototype.kelvin=Dn.prototype.temperature=function(){return Rn(this._rgb)},zn.temp=zn.kelvin=zn.temperature=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Dn,[null].concat(t,["temp"])))},jn.format.temp=jn.format.kelvin=jn.format.temperature=Sn;var In=u.unpack,Pn=Math.cbrt,Fn=Math.pow,Un=Math.sign,Hn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=In(t,"rgb"),r=n[0],i=n[1],o=n[2],a=[Bn(r/255),Bn(i/255),Bn(o/255)],s=a[0],l=a[1],c=a[2],u=Pn(.4122214708*s+.5363325363*l+.0514459929*c),h=Pn(.2119034982*s+.6806995451*l+.1073969566*c),f=Pn(.0883024619*s+.2817188376*l+.6299787005*c);return[.2104542553*u+.793617785*h-.0040720468*f,1.9779984951*u-2.428592205*h+.4505937099*f,.0259040371*u+.7827717662*h-.808675766*f]};function Bn(t){var e=Math.abs(t);return e<.04045?t/12.92:(Un(t)||1)*Fn((e+.055)/1.055,2.4)}var qn=u.unpack,Yn=Math.pow,Wn=Math.sign,Gn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=qn(t,"lab"))[0],r=t[1],i=t[2],o=Yn(n+.3963377774*r+.2158037573*i,3),a=Yn(n-.1055613458*r-.0638541728*i,3),s=Yn(n-.0894841775*r-1.291485548*i,3);return[255*Vn(4.0767416621*o-3.3077115913*a+.2309699292*s),255*Vn(-1.2684380046*o+2.6097574011*a-.3413193965*s),255*Vn(-.0041960863*o-.7034186147*a+1.707614701*s),t.length>3?t[3]:1]};function Vn(t){var e=Math.abs(t);return e>.0031308?(Wn(t)||1)*(1.055*Yn(e,1/2.4)-.055):12.92*t}var Xn=u.unpack,Kn=u.type,Zn=b,Jn=y,Qn=h,tr=Hn;Jn.prototype.oklab=function(){return tr(this._rgb)},Zn.oklab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Jn,[null].concat(t,["oklab"])))},Qn.format.oklab=Gn,Qn.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Xn(t,"oklab"),"array"===Kn(t)&&3===t.length)return"oklab"}});var er=u.unpack,nr=Hn,rr=Fe,ir=u.unpack,or=Xe,ar=Gn,sr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=ir(t,"lch"))[0],r=t[1],i=t[2],o=or(n,r,i),a=o[0],s=o[1],l=o[2],c=ar(a,s,l);return[c[0],c[1],c[2],t.length>3?t[3]:1]},lr=u.unpack,cr=u.type,ur=b,hr=y,fr=h,pr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=er(t,"rgb"),r=n[0],i=n[1],o=n[2],a=nr(r,i,o),s=a[0],l=a[1],c=a[2];return rr(s,l,c)};hr.prototype.oklch=function(){return pr(this._rgb)},ur.oklch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(hr,[null].concat(t,["oklch"])))},fr.format.oklch=sr,fr.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=lr(t,"oklch"),"array"===cr(t)&&3===t.length)return"oklch"}});var dr=y,gr=u.type;dr.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===gr(t)?e?(this._rgb[3]=t,this):new dr([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},y.prototype.clipped=function(){return this._rgb._clipped||!1};var mr=y,yr=ge;mr.prototype.darken=function(t){void 0===t&&(t=1);var e=this.lab();return e[0]-=yr.Kn*t,new mr(e,"lab").alpha(this.alpha(),!0)},mr.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},mr.prototype.darker=mr.prototype.darken,mr.prototype.brighter=mr.prototype.brighten,y.prototype.get=function(t){var e=t.split("."),n=e[0],r=e[1],i=this[n]();if(r){var o=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(o>-1)return i[o];throw new Error("unknown channel "+r+" in mode "+n)}return i};var vr=y,br=u.type,xr=Math.pow;vr.prototype.luminance=function(t){if(void 0!==t&&"number"===br(t)){if(0===t)return new vr([0,0,0,this._rgb[3]],"rgb");if(1===t)return new vr([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n=20,r=function(e,i){var o=e.interpolate(i,.5,"rgb"),a=o.luminance();return Math.abs(t-a)<1e-7||!n--?o:a>t?r(e,o):r(o,i)},i=(e>t?r(new vr([0,0,0]),this):r(this,new vr([255,255,255]))).rgb();return new vr(i.concat([this._rgb[3]]))}return wr.apply(void 0,this._rgb.slice(0,3))};var wr=function(t,e,n){return.2126*(t=kr(t))+.7152*(e=kr(e))+.0722*kr(n)},kr=function(t){return(t/=255)<=.03928?t/12.92:xr((t+.055)/1.055,2.4)},_r={},Mr=y,Ar=u.type,Tr=_r,Er=function(t,e,n){void 0===n&&(n=.5);for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];var o=r[0]||"lrgb";if(Tr[o]||r.length||(o=Object.keys(Tr)[0]),!Tr[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==Ar(t)&&(t=new Mr(t)),"object"!==Ar(e)&&(e=new Mr(e)),Tr[o](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))},$r=y,Or=Er;$r.prototype.mix=$r.prototype.interpolate=function(t,e){void 0===e&&(e=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Or.apply(void 0,[this,t,e].concat(n))};var Sr=y;Sr.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new Sr([e[0]*n,e[1]*n,e[2]*n,n],"rgb")};var Lr=y,Nr=ge;Lr.prototype.saturate=function(t){void 0===t&&(t=1);var e=this.lch();return e[1]+=Nr.Kn*t,e[1]<0&&(e[1]=0),new Lr(e,"lch").alpha(this.alpha(),!0)},Lr.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var Cr=y,zr=u.type;Cr.prototype.set=function(t,e,n){void 0===n&&(n=!1);var r=t.split("."),i=r[0],o=r[1],a=this[i]();if(o){var s=i.indexOf(o)-("ok"===i.substr(0,2)?2:0);if(s>-1){if("string"==zr(e))switch(e.charAt(0)){case"+":case"-":a[s]+=+e;break;case"*":a[s]*=+e.substr(1);break;case"/":a[s]/=+e.substr(1);break;default:a[s]=+e}else{if("number"!==zr(e))throw new Error("unsupported value for Color.set");a[s]=e}var l=new Cr(a,i);return n?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+o+" in mode "+i)}return a};var Dr=y;_r.rgb=function(t,e,n){var r=t._rgb,i=e._rgb;return new Dr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};var jr=y,Rr=Math.sqrt,Ir=Math.pow;_r.lrgb=function(t,e,n){var r=t._rgb,i=r[0],o=r[1],a=r[2],s=e._rgb,l=s[0],c=s[1],u=s[2];return new jr(Rr(Ir(i,2)*(1-n)+Ir(l,2)*n),Rr(Ir(o,2)*(1-n)+Ir(c,2)*n),Rr(Ir(a,2)*(1-n)+Ir(u,2)*n),"rgb")};var Pr=y;_r.lab=function(t,e,n){var r=t.lab(),i=e.lab();return new Pr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};var Fr=y,Ur=function(t,e,n,r){var i,o,a,s,l,c,u,h,f,p,d,g,m;return"hsl"===r?(a=t.hsl(),s=e.hsl()):"hsv"===r?(a=t.hsv(),s=e.hsv()):"hcg"===r?(a=t.hcg(),s=e.hcg()):"hsi"===r?(a=t.hsi(),s=e.hsi()):"lch"===r||"hcl"===r?(r="hcl",a=t.hcl(),s=e.hcl()):"oklch"===r&&(a=t.oklch().reverse(),s=e.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(l=(i=a)[0],u=i[1],f=i[2],c=(o=s)[0],h=o[1],p=o[2]),isNaN(l)||isNaN(c)?isNaN(l)?isNaN(c)?g=Number.NaN:(g=c,1!=f&&0!=f||"hsv"==r||(d=h)):(g=l,1!=p&&0!=p||"hsv"==r||(d=u)):g=l+n*(c>l&&c-l>180?c-(l+360):c<l&&l-c>180?c+360-l:c-l),void 0===d&&(d=u+n*(h-u)),m=f+n*(p-f),new Fr("oklch"===r?[m,d,g]:[g,d,m],r)},Hr=Ur,Br=function(t,e,n){return Hr(t,e,n,"lch")};_r.lch=Br,_r.hcl=Br;var qr=y;_r.num=function(t,e,n){var r=t.num(),i=e.num();return new qr(r+n*(i-r),"num")};var Yr=Ur;_r.hcg=function(t,e,n){return Yr(t,e,n,"hcg")};var Wr=Ur;_r.hsi=function(t,e,n){return Wr(t,e,n,"hsi")};var Gr=Ur;_r.hsl=function(t,e,n){return Gr(t,e,n,"hsl")};var Vr=Ur;_r.hsv=function(t,e,n){return Vr(t,e,n,"hsv")};var Xr=y;_r.oklab=function(t,e,n){var r=t.oklab(),i=e.oklab();return new Xr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"oklab")};var Kr=Ur;_r.oklch=function(t,e,n){return Kr(t,e,n,"oklch")};var Zr=y,Jr=u.clip_rgb,Qr=Math.pow,ti=Math.sqrt,ei=Math.PI,ni=Math.cos,ri=Math.sin,ii=Math.atan2,oi=function(t,e){for(var n=t.length,r=[0,0,0,0],i=0;i<t.length;i++){var o=t[i],a=e[i]/n,s=o._rgb;r[0]+=Qr(s[0],2)*a,r[1]+=Qr(s[1],2)*a,r[2]+=Qr(s[2],2)*a,r[3]+=s[3]*a}return r[0]=ti(r[0]),r[1]=ti(r[1]),r[2]=ti(r[2]),r[3]>.9999999&&(r[3]=1),new Zr(Jr(r))},ai=b,si=u.type,li=Math.pow,ci=function(t){var e="rgb",n=ai("#ccc"),r=0,i=[0,1],o=[],a=[0,0],s=!1,l=[],c=!1,u=0,h=1,f=!1,p={},d=!0,g=1,m=function(t){if((t=t||["#fff","#000"])&&"string"===si(t)&&ai.brewer&&ai.brewer[t.toLowerCase()]&&(t=ai.brewer[t.toLowerCase()]),"array"===si(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=ai(t[e]);o.length=0;for(var n=0;n<t.length;n++)o.push(n/(t.length-1))}return x(),l=t},y=function(t){return t},v=function(t){return t},b=function(t,r){var i,c;if(null==r&&(r=!1),isNaN(t)||null===t)return n;c=r?t:s&&s.length>2?function(t){if(null!=s){for(var e=s.length-1,n=0;n<e&&t>=s[n];)n++;return n-1}return 0}(t)/(s.length-2):h!==u?(t-u)/(h-u):1,c=v(c),r||(c=y(c)),1!==g&&(c=li(c,g)),c=a[0]+c*(1-a[0]-a[1]),c=Math.min(1,Math.max(0,c));var f=Math.floor(1e4*c);if(d&&p[f])i=p[f];else{if("array"===si(l))for(var m=0;m<o.length;m++){var b=o[m];if(c<=b){i=l[m];break}if(c>=b&&m===o.length-1){i=l[m];break}if(c>b&&c<o[m+1]){c=(c-b)/(o[m+1]-b),i=ai.interpolate(l[m],l[m+1],c,e);break}}else"function"===si(l)&&(i=l(c));d&&(p[f]=i)}return i},x=function(){return p={}};m(t);var w=function(t){var e=ai(b(t));return c&&e[c]?e[c]():e};return w.classes=function(t){if(null!=t){if("array"===si(t))s=t,i=[t[0],t[t.length-1]];else{var e=ai.analyze(i);s=0===t?[e.min,e.max]:ai.limits(e,"e",t)}return w}return s},w.domain=function(t){if(!arguments.length)return i;u=t[0],h=t[t.length-1],o=[];var e=l.length;if(t.length===e&&u!==h)for(var n=0,r=Array.from(t);n<r.length;n+=1){var a=r[n];o.push((a-u)/(h-u))}else{for(var s=0;s<e;s++)o.push(s/(e-1));if(t.length>2){var c=t.map((function(e,n){return n/(t.length-1)})),f=t.map((function(t){return(t-u)/(h-u)}));f.every((function(t,e){return c[e]===t}))||(v=function(t){if(t<=0||t>=1)return t;for(var e=0;t>=f[e+1];)e++;var n=(t-f[e])/(f[e+1]-f[e]);return c[e]+n*(c[e+1]-c[e])})}}return i=[u,h],w},w.mode=function(t){return arguments.length?(e=t,x(),w):e},w.range=function(t,e){return m(t),w},w.out=function(t){return c=t,w},w.spread=function(t){return arguments.length?(r=t,w):r},w.correctLightness=function(t){return null==t&&(t=!0),f=t,x(),y=f?function(t){for(var e=b(0,!0).lab()[0],n=b(1,!0).lab()[0],r=e>n,i=b(t,!0).lab()[0],o=e+(n-e)*t,a=i-o,s=0,l=1,c=20;Math.abs(a)>.01&&c-- >0;)r&&(a*=-1),a<0?(s=t,t+=.5*(l-t)):(l=t,t+=.5*(s-t)),a=(i=b(t,!0).lab()[0])-o;return t}:function(t){return t},w},w.padding=function(t){return null!=t?("number"===si(t)&&(t=[t,t]),a=t,w):a},w.colors=function(e,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=l.slice(0);else if(1===e)r=[w(.5)];else if(e>1){var o=i[0],a=i[1]-o;r=ui(0,e,!1).map((function(t){return w(o+t/(e-1)*a)}))}else{t=[];var c=[];if(s&&s.length>2)for(var u=1,h=s.length,f=1<=h;f?u<h:u>h;f?u++:u--)c.push(.5*(s[u-1]+s[u]));else c=i;r=c.map((function(t){return w(t)}))}return ai[n]&&(r=r.map((function(t){return t[n]()}))),r},w.cache=function(t){return null!=t?(d=t,w):d},w.gamma=function(t){return null!=t?(g=t,w):g},w.nodata=function(t){return null!=t?(n=ai(t),w):n},w};function ui(t,e,n){for(var r=[],i=t<e,o=n?i?e+1:e-1:e,a=t;i?a<o:a>o;i?a++:a--)r.push(a);return r}var hi=y,fi=ci,pi=b,di=function(t,e,n){if(!di[n])throw new Error("unknown blend mode "+n);return di[n](t,e)},gi=function(t){return function(e,n){var r=pi(n).rgb(),i=pi(e).rgb();return pi.rgb(t(r,i))}},mi=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}};di.normal=gi(mi((function(t){return t}))),di.multiply=gi(mi((function(t,e){return t*e/255}))),di.screen=gi(mi((function(t,e){return 255*(1-(1-t/255)*(1-e/255))}))),di.overlay=gi(mi((function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))}))),di.darken=gi(mi((function(t,e){return t>e?e:t}))),di.lighten=gi(mi((function(t,e){return t>e?t:e}))),di.dodge=gi(mi((function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t}))),di.burn=gi(mi((function(t,e){return 255*(1-(1-e/255)/(t/255))})));for(var yi=di,vi=u.type,bi=u.clip_rgb,xi=u.TWOPI,wi=Math.pow,ki=Math.sin,_i=Math.cos,Mi=b,Ai=y,Ti=Math.floor,Ei=Math.random,$i=a,Oi=Math.log,Si=Math.pow,Li=Math.floor,Ni=Math.abs,Ci=function(t,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===$i(t)&&(t=Object.values(t)),t.forEach((function(t){e&&"object"===$i(t)&&(t=t[e]),null==t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(t,e){return zi(n,t,e)},n},zi=function(t,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==$i(t)&&(t=Ci(t));var r=t.min,i=t.max,o=t.values.sort((function(t,e){return t-e}));if(1===n)return[r,i];var a=[];if("c"===e.substr(0,1)&&(a.push(r),a.push(i)),"e"===e.substr(0,1)){a.push(r);for(var s=1;s<n;s++)a.push(r+s/n*(i-r));a.push(i)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*Oi(r),c=Math.LOG10E*Oi(i);a.push(r);for(var u=1;u<n;u++)a.push(Si(10,l+u/n*(c-l)));a.push(i)}else if("q"===e.substr(0,1)){a.push(r);for(var h=1;h<n;h++){var f=(o.length-1)*h/n,p=Li(f);if(p===f)a.push(o[p]);else{var d=f-p;a.push(o[p]*(1-d)+o[p+1]*d)}}a.push(i)}else if("k"===e.substr(0,1)){var g,m=o.length,y=new Array(m),v=new Array(n),b=!0,x=0,w=null;(w=[]).push(r);for(var k=1;k<n;k++)w.push(r+k/n*(i-r));for(w.push(i);b;){for(var _=0;_<n;_++)v[_]=0;for(var M=0;M<m;M++)for(var A=o[M],T=Number.MAX_VALUE,E=void 0,$=0;$<n;$++){var O=Ni(w[$]-A);O<T&&(T=O,E=$),v[E]++,y[M]=E}for(var S=new Array(n),L=0;L<n;L++)S[L]=null;for(var N=0;N<m;N++)null===S[g=y[N]]?S[g]=o[N]:S[g]+=o[N];for(var C=0;C<n;C++)S[C]*=1/v[C];b=!1;for(var z=0;z<n;z++)if(S[z]!==w[z]){b=!0;break}w=S,++x>200&&(b=!1)}for(var D={},j=0;j<n;j++)D[j]=[];for(var R=0;R<m;R++)D[g=y[R]].push(o[R]);for(var I=[],P=0;P<n;P++)I.push(D[P][0]),I.push(D[P][D[P].length-1]);I=I.sort((function(t,e){return t-e})),a.push(I[0]);for(var F=1;F<I.length;F+=2){var U=I[F];isNaN(U)||-1!==a.indexOf(U)||a.push(U)}}return a},Di={analyze:Ci,limits:zi},ji=y,Ri=y,Ii=Math.sqrt,Pi=Math.pow,Fi=Math.min,Ui=Math.max,Hi=Math.atan2,Bi=Math.abs,qi=Math.cos,Yi=Math.sin,Wi=Math.exp,Gi=Math.PI,Vi=y,Xi=y,Ki=b,Zi=ci,Ji={cool:function(){return Zi([Ki.hsl(180,1,.9),Ki.hsl(250,.7,.4)])},hot:function(){return Zi(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Qi={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},to=0,eo=Object.keys(Qi);to<eo.length;to+=1){var no=eo[to];Qi[no.toLowerCase()]=Qi[no]}var ro=Qi,io=b;io.average=function(t,e,n){void 0===e&&(e="lrgb"),void 0===n&&(n=null);var r=t.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var i=r/n.reduce((function(t,e){return t+e}));if(n.forEach((function(t,e){n[e]*=i})),t=t.map((function(t){return new Zr(t)})),"lrgb"===e)return oi(t,n);for(var o=t.shift(),a=o.get(e),s=[],l=0,c=0,u=0;u<a.length;u++)if(a[u]=(a[u]||0)*n[0],s.push(isNaN(a[u])?0:n[0]),"h"===e.charAt(u)&&!isNaN(a[u])){var h=a[u]/180*ei;l+=ni(h)*n[0],c+=ri(h)*n[0]}var f=o.alpha()*n[0];t.forEach((function(t,r){var i=t.get(e);f+=t.alpha()*n[r+1];for(var o=0;o<a.length;o++)if(!isNaN(i[o]))if(s[o]+=n[r+1],"h"===e.charAt(o)){var u=i[o]/180*ei;l+=ni(u)*n[r+1],c+=ri(u)*n[r+1]}else a[o]+=i[o]*n[r+1]}));for(var p=0;p<a.length;p++)if("h"===e.charAt(p)){for(var d=ii(c/s[p],l/s[p])/ei*180;d<0;)d+=360;for(;d>=360;)d-=360;a[p]=d}else a[p]=a[p]/s[p];return f/=r,new Zr(a,e).alpha(f>.99999?1:f,!0)},io.bezier=function(t){var e=function(t){var e,n,r,i,o,a,s;if(2===(t=t.map((function(t){return new hi(t)}))).length)e=t.map((function(t){return t.lab()})),o=e[0],a=e[1],i=function(t){var e=[0,1,2].map((function(e){return o[e]+t*(a[e]-o[e])}));return new hi(e,"lab")};else if(3===t.length)n=t.map((function(t){return t.lab()})),o=n[0],a=n[1],s=n[2],i=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*o[e]+2*(1-t)*t*a[e]+t*t*s[e]}));return new hi(e,"lab")};else if(4===t.length){var l;r=t.map((function(t){return t.lab()})),o=r[0],a=r[1],s=r[2],l=r[3],i=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*(1-t)*o[e]+3*(1-t)*(1-t)*t*a[e]+3*(1-t)*t*t*s[e]+t*t*t*l[e]}));return new hi(e,"lab")}}else{if(!(t.length>=5))throw new RangeError("No point in running bezier with only one color.");var c,u,h;c=t.map((function(t){return t.lab()})),h=t.length-1,u=function(t){for(var e=[1,1],n=1;n<t;n++){for(var r=[1],i=1;i<=e.length;i++)r[i]=(e[i]||0)+e[i-1];e=r}return e}(h),i=function(t){var e=1-t,n=[0,1,2].map((function(n){return c.reduce((function(r,i,o){return r+u[o]*Math.pow(e,h-o)*Math.pow(t,o)*i[n]}),0)}));return new hi(n,"lab")}}return i}(t);return e.scale=function(){return fi(e)},e},io.blend=yi,io.cubehelix=function(t,e,n,r,i){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var o,a=0;"array"===vi(i)?o=i[1]-i[0]:(o=0,i=[i,i]);var s=function(s){var l=xi*((t+120)/360+e*s),c=wi(i[0]+o*s,r),u=(0!==a?n[0]+s*a:n)*c*(1-c)/2,h=_i(l),f=ki(l);return Mi(bi([255*(c+u*(-.14861*h+1.78277*f)),255*(c+u*(-.29227*h-.90649*f)),255*(c+u*(1.97294*h)),1]))};return s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?r:(r=t,s)},s.hue=function(t){return null==t?n:("array"===vi(n=t)?0==(a=n[1]-n[0])&&(n=n[1]):a=0,s)},s.lightness=function(t){return null==t?i:("array"===vi(t)?(i=t,o=t[1]-t[0]):(i=[t,t],o=0),s)},s.scale=function(){return Mi.scale(s)},s.hue(n),s},io.mix=io.interpolate=Er,io.random=function(){for(var t="#",e=0;e<6;e++)t+="0123456789abcdef".charAt(Ti(16*Ei()));return new Ai(t,"hex")},io.scale=ci,io.analyze=Di.analyze,io.contrast=function(t,e){t=new ji(t),e=new ji(e);var n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},io.deltaE=function(t,e,n,r,i){void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=1);var o=function(t){return 360*t/(2*Gi)},a=function(t){return 2*Gi*t/360};t=new Ri(t),e=new Ri(e);var s=Array.from(t.lab()),l=s[0],c=s[1],u=s[2],h=Array.from(e.lab()),f=h[0],p=h[1],d=h[2],g=(l+f)/2,m=(Ii(Pi(c,2)+Pi(u,2))+Ii(Pi(p,2)+Pi(d,2)))/2,y=.5*(1-Ii(Pi(m,7)/(Pi(m,7)+Pi(25,7)))),v=c*(1+y),b=p*(1+y),x=Ii(Pi(v,2)+Pi(u,2)),w=Ii(Pi(b,2)+Pi(d,2)),k=(x+w)/2,_=o(Hi(u,v)),M=o(Hi(d,b)),A=_>=0?_:_+360,T=M>=0?M:M+360,E=Bi(A-T)>180?(A+T+360)/2:(A+T)/2,$=1-.17*qi(a(E-30))+.24*qi(a(2*E))+.32*qi(a(3*E+6))-.2*qi(a(4*E-63)),O=T-A;O=Bi(O)<=180?O:T<=A?O+360:O-360,O=2*Ii(x*w)*Yi(a(O)/2);var S=f-l,L=w-x,N=1+.015*Pi(g-50,2)/Ii(20+Pi(g-50,2)),C=1+.045*k,z=1+.015*k*$,D=30*Wi(-Pi((E-275)/25,2)),j=-2*Ii(Pi(k,7)/(Pi(k,7)+Pi(25,7)))*Yi(2*a(D)),R=Ii(Pi(S/(n*N),2)+Pi(L/(r*C),2)+Pi(O/(i*z),2)+j*(L/(r*C))*(O/(i*z)));return Ui(0,Fi(100,R))},io.distance=function(t,e,n){void 0===n&&(n="lab"),t=new Vi(t),e=new Vi(e);var r=t.get(n),i=e.get(n),o=0;for(var a in r){var s=(r[a]||0)-(i[a]||0);o+=s*s}return Math.sqrt(o)},io.limits=Di.limits,io.valid=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];try{return new(Function.prototype.bind.apply(Xi,[null].concat(t))),!0}catch(t){return!1}},io.scales=Ji,io.colors=un,io.brewer=ro}();class nu extends Q{constructor(t){super(),J(this,t,eu,tu,s,{themeOptions:13,tickPosition:0,plotSize:14,scale:15,className:1,rtl:16,ticksMajor:17,tickLines:18,scaleType:2,tickFormat:19,multiFormat:20,keepOrder:21,fontSize:3,ariaDescription:4,tickLabelsInside:5,bufferStroke:6,css:22},null,[-1,-1])}}function ru(t){let e,n;return e=new bc({props:{dependencies:t[8],onMeasure:t[17],$$slots:{default:[iu]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(t,r){K(e,t,r),n=!0},p(t,n){const r={};256&n[0]&&(r.dependencies=t[8]),16384&n[0]|2097152&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function iu(t){let e,r;const i=[t[14]];let o={};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new nu({props:o}),{c(){X(e.$$.fragment)},m(t,n){K(e,t,n),r=!0},p(t,n){const r=16384&n[0]?G(i,[V(t[14])]):{};e.$set(r)},i(t){r||(q(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){Z(e,t)}}}function ou(t){let e,r;const i=[t[14],{bufferStroke:t[7]}];let o={};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new nu({props:o}),{c(){X(e.$$.fragment)},m(t,n){K(e,t,n),r=!0},p(t,n){const r=16512&n[0]?G(i,[16384&n[0]&&V(t[14]),128&n[0]&&{bufferStroke:t[7]}]):{};e.$set(r)},i(t){r||(q(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){Z(e,t)}}}function au(t){let e,n;return e=new Cc({props:{themeDataTickLines:t[10].tickLines,tickPosition:t[4],plotSize:t[11],scale:t[12],className:t[2],ticksMajor:t[9].ticksMajor,css:t[16],tickLabelsInside:t[6],insideTickLineLength:t[3]}}),{c(){X(e.$$.fragment)},m(t,r){K(e,t,r),n=!0},p(t,n){const r={};1024&n[0]&&(r.themeDataTickLines=t[10].tickLines),16&n[0]&&(r.tickPosition=t[4]),2048&n[0]&&(r.plotSize=t[11]),4096&n[0]&&(r.scale=t[12]),4&n[0]&&(r.className=t[2]),512&n[0]&&(r.ticksMajor=t[9].ticksMajor),64&n[0]&&(r.tickLabelsInside=t[6]),8&n[0]&&(r.insideTickLineLength=t[3]),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function su(t){let e,n;return e=new Uc({props:{themeOptionsGridLines:t[10].gridLines,plotSize:t[11],scale:t[12],className:t[2],ticksMajor:t[9].ticksMajor,ticksMinor:t[9].ticksMinor,baseLine:t[5],css:t[16]}}),{c(){X(e.$$.fragment)},m(t,r){K(e,t,r),n=!0},p(t,n){const r={};1024&n[0]&&(r.themeOptionsGridLines=t[10].gridLines),2048&n[0]&&(r.plotSize=t[11]),4096&n[0]&&(r.scale=t[12]),4&n[0]&&(r.className=t[2]),512&n[0]&&(r.ticksMajor=t[9].ticksMajor),512&n[0]&&(r.ticksMinor=t[9].ticksMinor),32&n[0]&&(r.baseLine=t[5]),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function lu(t){let e,n;return e=new Wc({props:{themeOptionsBaseLine:t[10].baseLine,plotSize:t[11],scale:t[12],className:t[2],ticksMajor:t[9].ticksMajor,baseLine:t[5],css:t[16],enforceZeroBaseline:t[15]}}),{c(){X(e.$$.fragment)},m(t,r){K(e,t,r),n=!0},p(t,n){const r={};1024&n[0]&&(r.themeOptionsBaseLine=t[10].baseLine),2048&n[0]&&(r.plotSize=t[11]),4096&n[0]&&(r.scale=t[12]),4&n[0]&&(r.className=t[2]),512&n[0]&&(r.ticksMajor=t[9].ticksMajor),32&n[0]&&(r.baseLine=t[5]),32768&n[0]&&(r.enforceZeroBaseline=t[15]),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function cu(t){let e,n,r,i,o,a,s,l=t[13]&&t[0].has("tick-labels"),f=t[0].has("tick-labels"),d=t[0].has("tick-lines"),v=t[0].has("grid-lines"),b=t[0].has("base-lines"),x=l&&ru(t),w=f&&ou(t),k=d&&au(t),_=v&&su(t),M=b&&lu(t);return{c(){x&&x.c(),e=g(),n=p("g"),w&&w.c(),r=m(),k&&k.c(),i=m(),_&&_.c(),o=m(),M&&M.c(),y(n,"class","y-grid"),y(n,"direction",a=t[1]?"rtl":"ltr")},m(t,a){x&&x.m(t,a),u(t,e,a),u(t,n,a),w&&w.m(n,null),c(n,r),k&&k.m(n,null),c(n,i),_&&_.m(n,null),c(n,o),M&&M.m(n,null),s=!0},p(t,c){8193&c[0]&&(l=t[13]&&t[0].has("tick-labels")),l?x?(x.p(t,c),8193&c[0]&&q(x,1)):(x=ru(t),x.c(),q(x,1),x.m(e.parentNode,e)):x&&(H(),Y(x,1,1,()=>{x=null}),B()),1&c[0]&&(f=t[0].has("tick-labels")),f?w?(w.p(t,c),1&c[0]&&q(w,1)):(w=ou(t),w.c(),q(w,1),w.m(n,r)):w&&(H(),Y(w,1,1,()=>{w=null}),B()),1&c[0]&&(d=t[0].has("tick-lines")),d?k?(k.p(t,c),1&c[0]&&q(k,1)):(k=au(t),k.c(),q(k,1),k.m(n,i)):k&&(H(),Y(k,1,1,()=>{k=null}),B()),1&c[0]&&(v=t[0].has("grid-lines")),v?_?(_.p(t,c),1&c[0]&&q(_,1)):(_=su(t),_.c(),q(_,1),_.m(n,o)):_&&(H(),Y(_,1,1,()=>{_=null}),B()),1&c[0]&&(b=t[0].has("base-lines")),b?M?(M.p(t,c),1&c[0]&&q(M,1)):(M=lu(t),M.c(),q(M,1),M.m(n,null)):M&&(H(),Y(M,1,1,()=>{M=null}),B()),(!s||2&c[0]&&a!==(a=t[1]?"rtl":"ltr"))&&y(n,"direction",a)},i(t){s||(q(x),q(w),q(k),q(_),q(M),s=!0)},o(t){Y(x),Y(w),Y(k),Y(_),Y(M),s=!1},d(t){t&&(h(e),h(n)),x&&x.d(t),w&&w.d(),k&&k.d(),_&&_.d(),M&&M.d()}}}function uu(t,e,n){let r,i,o,a,s,l,c,u,h,f,p,d,g,{elements:m}=e,{scale:y}=e,{scaleType:v}=e,{plotSize:b}=e,{emotion:x}=e,{numeral:w}=e,{chroma:k}=e;const _=new Promise(t=>{n(37,g=t)}),M=T();let E,$,{themeData:O={}}=e,{translate:S=(t=>t)}=e,{rtl:L=!1}=e,{ticks:N={major:{values:[]},minor:{values:[]}}}=e,{tickLabelFormat:C="auto"}=e,{tickLabelMultiply:z=1}=e,{tickLabelUnit:D=["",""]}=e,{secondary:j=!1}=e,{className:R=""}=e,{margin:I={top:0,left:0,right:0,bottom:0,labelWidth:0}}=e,{tickLines:P=m.has("tick-lines")}=e,{insideTickLineLength:F="long"}=e,{customFormatFunction:U}=e,{minusChar:H}=e,{plusMinusChar:B}=e,{tickPosition:q="left"}=e,{baseLine:Y=new Set(["zero"])}=e,{tickLabelsInside:W=!1}=e,{bufferStroke:G=!1}=e,V=!0,X=$a(u),K=!1,Z=!1;const{css:J}=x;let Q={ticksMajor:[],ticksMinor:[]};function et(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{left:0,right:0,bottom:0,top:0,labelWidth:0},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const r=tt(e,"tickLines.length"+(W?"Inside":""),tt(e,"tickLines.length")),i=W?-r:tt(e,"tickLines.distance"),o=tt(e.tickLines,"strokeLinecap"),a=tt(e.tickLines,"width");let s={};P&&(s={top:.5*a,bottom:.5*a,[q]:i+r+("square"===o||"round"===o?.5*a:0)});const l=tt(e,"baseLine.width"),c={top:n.has("top")?l:0,bottom:n.has("bottom")?l:0},u=Object.assign({},t);for(const e of["top","right","bottom","left"]){const n=e;u[n]=Math.max(t[n]||0,s[n]||0,c[n]||0)}return u}const nt="getBBox"in document.createElementNS("http://www.w3.org/2000/svg","svg")==0;return A(async()=>{if(!m.has("tick-labels")){const t=et(void 0,h,Y);g(t),M("marginUpdate",{margin:t})}}),t.$$set=t=>{"elements"in t&&n(0,m=t.elements),"scale"in t&&n(18,y=t.scale),"scaleType"in t&&n(19,v=t.scaleType),"plotSize"in t&&n(20,b=t.plotSize),"emotion"in t&&n(21,x=t.emotion),"numeral"in t&&n(22,w=t.numeral),"chroma"in t&&n(23,k=t.chroma),"themeData"in t&&n(25,O=t.themeData),"translate"in t&&n(26,S=t.translate),"rtl"in t&&n(1,L=t.rtl),"ticks"in t&&n(27,N=t.ticks),"tickLabelFormat"in t&&n(28,C=t.tickLabelFormat),"tickLabelMultiply"in t&&n(29,z=t.tickLabelMultiply),"tickLabelUnit"in t&&n(30,D=t.tickLabelUnit),"secondary"in t&&n(31,j=t.secondary),"className"in t&&n(2,R=t.className),"margin"in t&&n(32,I=t.margin),"tickLines"in t&&n(33,P=t.tickLines),"insideTickLineLength"in t&&n(3,F=t.insideTickLineLength),"customFormatFunction"in t&&n(34,U=t.customFormatFunction),"minusChar"in t&&n(35,H=t.minusChar),"plusMinusChar"in t&&n(36,B=t.plusMinusChar),"tickPosition"in t&&n(4,q=t.tickPosition),"baseLine"in t&&n(5,Y=t.baseLine),"tickLabelsInside"in t&&n(6,W=t.tickLabelsInside),"bufferStroke"in t&&n(7,G=t.bufferStroke)},t.$$.update=()=>{var e,x;if(33554432&t.$$.dirty[0]|16&t.$$.dirty[1]&&n(45,r=H||tt(O,"vis.base.format.minusCharacter","−")),33554432&t.$$.dirty[0]|32&t.$$.dirty[1]&&n(44,i=B||tt(O,"vis.base.format.plusMinusCharacter","±")),1048576&t.$$.dirty[0]|2&t.$$.dirty[1]&&n(47,o=b[1]-I.top-I.bottom),262144&t.$$.dirty[0]&&n(48,a=y.range()[1]>y.range()[0]),262144&t.$$.dirty[0]|196608&t.$$.dirty[1]&&n(12,s=y.copy().range(a?[0,o]:[o,0])),1048576&t.$$.dirty[0]|65536&t.$$.dirty[1]&&n(11,l=[b[0],o]),41943040&t.$$.dirty[0]|1&t.$$.dirty[1]&&n(10,h=Ta("vertical",O,j,k)),2051544576&t.$$.dirty[0]|24584&t.$$.dirty[1]&&(n(9,Q=dl(w,{scale:s,scaleType:v,customFormatFunction:U,tickLabelFormat:C,tickLabelUnit:D,tickLabelMultiply:z,minusChar:r,plusMinusChar:i},h,O,!1,N)),Q.ticksMajor.reverse(),Q.ticksMinor.reverse()),786976&t.$$.dirty[0]&&n(15,c=["number"].includes(v)&&Y.has("zero")&&!1===Q.ticksMajor.includes(0)&&(e=y.domain()[0],x=y.domain()[1],Math.abs(Math.sign(e)+Math.sign(x))<=1)),2015102035&t.$$.dirty[0]&&n(46,u={elements:m,scale:y,scaleType:v,plotSize:b,themeOptions:h,rtl:L,tickPosition:q,ticks:N,tickLabelFormat:C,tickLabelMultiply:z,tickLabelUnit:D,tickLabelsInside:W}),256&t.$$.dirty[0]|32768&t.$$.dirty[1]){const t=$a(u);t!==X&&(n(13,V=!0),n(8,X=t))}if(1879576576&t.$$.dirty[0]|24584&t.$$.dirty[1]&&n(41,$={scale:s,scaleType:v,tickLabelFormat:C,tickLabelUnit:D,tickLabelMultiply:z,minusChar:r,plusMinusChar:i,customFormatFunction:U}),4195840&t.$$.dirty[0]|1024&t.$$.dirty[1]){const t=vl(w,$,Q.ticksMajor,h);n(38,E=t.tickFormat),n(39,K=t.multiFormat),n(40,Z=t.keepOrder)}if(33555456&t.$$.dirty[0]&&n(43,f=tt(h,"tickLabels.fontSize",Go(O,"fontSize",12))),71304704&t.$$.dirty[0]|1024&t.$$.dirty[1]&&n(42,p=Al(w,"y",$,h,S,Q.ticksMajor)),532054&t.$$.dirty[0]|7044&t.$$.dirty[1]&&n(14,d={themeOptions:h,tickPosition:q,plotSize:l,scale:s,rtl:L,className:R,tickLines:P,ticksMajor:Q.ticksMajor,scaleType:v,css:J,tickFormat:E,multiFormat:K,keepOrder:Z,fontSize:f,ariaDescription:p,tickLabelsInside:W}),1057&t.$$.dirty[0]|64&t.$$.dirty[1]&&nt&&!m.has("tick-labels")){const t=et(void 0,h,Y);g(t),M("marginUpdate",{margin:t})}},[m,L,R,F,q,Y,W,G,X,Q,h,l,s,V,d,c,J,async function(t){const e={top:0,left:0,bottom:0,right:0,labelWidth:0},r=W?0:(P?tt(h,"tickLines.distance")+tt(h,"tickLines.length"):0)+tt(h,"tickLabels.distance"),i=tt(h,"tickLabels.extraSpace",1);W?(e[q]=0,e.labelWidth=t.width):(e[q]=t.width+r+i,e.labelWidth=0);const o=Math.max(-1*t.top,0),a=t.height+(o>0?0:t.top)-l[1]-o;e.top=o,e.bottom=a,b[0]>0&&b[1]>0&&(g(et(e,h,Y)),M("marginUpdate",{margin:e})),n(13,V=!1)},y,v,b,x,w,k,_,O,S,N,C,z,D,j,I,P,U,H,B,g,E,K,Z,$,p,f,i,r,u,o,a]}class hu extends Q{constructor(t){super(),J(this,t,uu,cu,s,{elements:0,scale:18,scaleType:19,plotSize:20,emotion:21,numeral:22,chroma:23,rendered:24,themeData:25,translate:26,rtl:1,ticks:27,tickLabelFormat:28,tickLabelMultiply:29,tickLabelUnit:30,secondary:31,className:2,margin:32,tickLines:33,insideTickLineLength:3,customFormatFunction:34,minusChar:35,plusMinusChar:36,tickPosition:4,baseLine:5,tickLabelsInside:6,bufferStroke:7},null,[-1,-1])}get rendered(){return this.$$.ctx[24]}}function fu(t){if("node"in t){const e=t.node();if(!e)throw"Selected node is not valid.";return e}return t}function pu(t,e){const n=new Set;return Array.isArray(t)?t.forEach(t=>n.add(t)):"string"==typeof t?n.add(t):n.add("zero"),(e||!1===t)&&n.delete("zero"),n}t.XGrid=$c,t.YGrid=hu,t.autoTickFormatDate=xl,t.initLocales=function(t){t&&"en"!==t.name&&sl.locale(t)},t.parseTicks=dl,t.resolveThemeOptions=Ta,t.xGridWrapper=async function(t){var e,n;for(const e of["aboveChart","belowChart","emotion","scale","scaleType","plotSize"])if(e in t==0)throw'Property "'.concat(e,'" missing from options');const r=fu(t.aboveChart),i=fu(t.belowChart);for(const t of[r,i]){const e=t.querySelector(".x-grid");e&&e.remove()}const o={emotion:t.emotion,scale:t.scale,scaleType:t.scaleType,plotSize:t.plotSize,themeData:t.theme,translate:t.translate,numeral:t.numeral,baseLine:pu(t.baseLine,!!t.customFormatFunction),customFormatFunction:t.customFormatFunction,rtl:t.rtl,ticks:t.ticks,tickLabelFormat:t.tickLabelFormat,tickLabelMultiply:t.tickLabelMultiply,tickLabelUnit:t.tickLabelUnit,secondary:t.secondary,className:t.className,minusChar:t.minusChar,tickPosition:t.tickPosition,fitLabels:new Set(t.fitLabels),plusMinusChar:t.plusMinusChar,tickLines:t.tickLines,chroma:t.chroma},a=Ta("horizontal",t.theme,!!t.secondary,t.chroma),{elementsAbove:s,elementsBelow:l}=Ea(a,t.tickLabels,t.tickLines,t.gridLines),c=s.has("tick-lines")||l.has("tick-lines"),u=new $c({target:r,props:Object.assign(Object.assign({elements:s},o),{tickLines:c})}),h=new $c({target:i,props:Object.assign(Object.assign({elements:l},o),{tickLines:c})}),f=await u.rendered,p=await h.rendered,d={top:0,left:0,bottom:0,right:0,labelWidth:0};return Object.keys(d).forEach(t=>{const e=t;d[e]=Math.max(f[e],p[e])}),(null===(e=t.allowOverhang)||void 0===e?void 0:e.includes("first"))&&(d[t.rtl?"right":"left"]=0),(null===(n=t.allowOverhang)||void 0===n?void 0:n.includes("last"))&&(d[t.rtl?"left":"right"]=0),!1===t.updateMargins||(u.$$set({margin:d}),h.$$set({margin:d}),await new Promise(t=>setTimeout(t,1))),d},t.yGridWrapper=async function(t){for(const e of["aboveChart","belowChart","emotion","scale","scaleType","plotSize"])if(e in t==0)throw'Property "'.concat(e,'" missing from options');const e=fu(t.aboveChart),n=fu(t.belowChart);for(const t of[e,n]){const e=t.querySelector(".y-grid");e&&e.remove()}const r={emotion:t.emotion,scale:t.scale,scaleType:t.scaleType,plotSize:t.plotSize,themeData:t.theme,translate:t.translate,numeral:t.numeral,baseLine:pu(t.baseLine,!!t.customFormatFunction),customFormatFunction:t.customFormatFunction,rtl:t.rtl,ticks:t.ticks,tickLabelFormat:t.tickLabelFormat,tickLabelMultiply:t.tickLabelMultiply,tickLabelUnit:t.tickLabelUnit,secondary:t.secondary,className:t.className,minusChar:t.minusChar,tickPosition:t.tickPosition,tickLines:t.tickLines,tickLabelsInside:t.tickLabelsInside,chroma:t.chroma},i=Ta("horizontal",t.theme,!!t.secondary,t.chroma),{elementsAbove:o,elementsBelow:a}=Ea(i,t.tickLabels,t.tickLines,t.gridLines),s=o.has("tick-lines")||a.has("tick-lines"),l=new hu({target:e,props:Object.assign(Object.assign({elements:o},r),{tickLines:s})}),c=new hu({target:n,props:Object.assign(Object.assign({elements:a},r),{tickLines:s})}),u=await l.rendered,h=await c.rendered,f={top:0,left:0,bottom:0,right:0,labelWidth:0};return Object.keys(f).forEach(t=>{const e=t;f[e]=Math.max(u[e],h[e])}),!1===t.updateMargins||(l.$$set({margin:f}),c.$$set({margin:f}),await new Promise(t=>setTimeout(t,1))),f}}(e)}(0,dh.exports);var gh,mh=dh.exports,yh={exports:{}};function vh(){return gh||(gh=1,yh.exports=function(){const{entries:t,setPrototypeOf:e,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:o,seal:a,create:s}=Object,{apply:l,construct:c}="undefined"!=typeof Reflect&&Reflect;o||(o=function(t){return t}),a||(a=function(t){return t}),l||(l=function(t,e,n){return t.apply(e,n)}),c||(c=function(t,e){return new t(...e)});const u=k(Array.prototype.forEach),h=k(Array.prototype.pop),f=k(Array.prototype.push),p=k(String.prototype.toLowerCase),d=k(String.prototype.toString),g=k(String.prototype.match),m=k(String.prototype.replace),y=k(String.prototype.indexOf),v=k(String.prototype.trim),b=k(RegExp.prototype.test),x=(w=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return c(w,e)});var w;function k(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return l(t,e,r)}}function _(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;e&&e(t,null);let o=r.length;for(;o--;){let e=r[o];if("string"==typeof e){const t=i(e);t!==e&&(n(r)||(r[o]=t),e=t)}t[e]=!0}return t}function M(e){const n=s(null);for(const[r,o]of t(e))void 0!==i(e,r)&&(n[r]=o);return n}function A(t,e){for(;null!==t;){const n=i(t,e);if(n){if(n.get)return k(n.get);if("function"==typeof n.value)return k(n.value)}t=r(t)}return function(t){return console.warn("fallback value for",t),null}}const T=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),O=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),S=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),L=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),N=o(["#text"]),C=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),z=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),D=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),j=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),R=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),I=a(/<%[\w\W]*|[\w\W]*%>/gm),P=a(/\${[\w\W]*}/gm),F=a(/^data-[\-\w.\u00B7-\uFFFF]/),U=a(/^aria-[\-\w]+$/),H=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),B=a(/^(?:\w+script|data):/i),q=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Y=a(/^html$/i);var W=Object.freeze({__proto__:null,MUSTACHE_EXPR:R,ERB_EXPR:I,TMPLIT_EXPR:P,DATA_ATTR:F,ARIA_ATTR:U,IS_ALLOWED_URI:H,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:q,DOCTYPE_NAME:Y});const G=function(){return"undefined"==typeof window?null:window},V=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let n=null;e&&e.hasAttribute("data-tt-policy-suffix")&&(n=e.getAttribute("data-tt-policy-suffix"));const r="dompurify"+(n?"#"+n:"");try{return t.createPolicy(r,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return function e(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G();const r=t=>e(t);if(r.version="3.0.6",r.removed=[],!n||!n.document||9!==n.document.nodeType)return r.isSupported=!1,r;let{document:i}=n;const a=i,l=a.currentScript,{DocumentFragment:c,HTMLTemplateElement:w,Node:k,Element:R,NodeFilter:I,NamedNodeMap:P=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:F,DOMParser:U,trustedTypes:B}=n,q=R.prototype,X=A(q,"cloneNode"),K=A(q,"nextSibling"),Z=A(q,"childNodes"),J=A(q,"parentNode");if("function"==typeof w){const t=i.createElement("template");t.content&&t.content.ownerDocument&&(i=t.content.ownerDocument)}let Q,tt="";const{implementation:et,createNodeIterator:nt,createDocumentFragment:rt,getElementsByTagName:it}=i,{importNode:ot}=a;let at={};r.isSupported="function"==typeof t&&"function"==typeof J&&et&&void 0!==et.createHTMLDocument;const{MUSTACHE_EXPR:st,ERB_EXPR:lt,TMPLIT_EXPR:ct,DATA_ATTR:ut,ARIA_ATTR:ht,IS_SCRIPT_OR_DATA:ft,ATTR_WHITESPACE:pt}=W;let{IS_ALLOWED_URI:dt}=W,gt=null;const mt=_({},[...T,...E,...$,...S,...N]);let yt=null;const vt=_({},[...C,...z,...D,...j]);let bt=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xt=null,wt=null,kt=!0,_t=!0,Mt=!1,At=!0,Tt=!1,Et=!1,$t=!1,Ot=!1,St=!1,Lt=!1,Nt=!1,Ct=!0,zt=!1;const Dt="user-content-";let jt=!0,Rt=!1,It={},Pt=null;const Ft=_({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ut=null;const Ht=_({},["audio","video","img","source","image","track"]);let Bt=null;const qt=_({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Yt="http://www.w3.org/1998/Math/MathML",Wt="http://www.w3.org/2000/svg",Gt="http://www.w3.org/1999/xhtml";let Vt=Gt,Xt=!1,Kt=null;const Zt=_({},[Yt,Wt,Gt],d);let Jt=null;const Qt=["application/xhtml+xml","text/html"],te="text/html";let ee=null,ne=null;const re=i.createElement("form"),ie=function(t){return t instanceof RegExp||t instanceof Function},oe=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ne||ne!==t){if(t&&"object"==typeof t||(t={}),t=M(t),Jt=Jt=-1===Qt.indexOf(t.PARSER_MEDIA_TYPE)?te:t.PARSER_MEDIA_TYPE,ee="application/xhtml+xml"===Jt?d:p,gt="ALLOWED_TAGS"in t?_({},t.ALLOWED_TAGS,ee):mt,yt="ALLOWED_ATTR"in t?_({},t.ALLOWED_ATTR,ee):vt,Kt="ALLOWED_NAMESPACES"in t?_({},t.ALLOWED_NAMESPACES,d):Zt,Bt="ADD_URI_SAFE_ATTR"in t?_(M(qt),t.ADD_URI_SAFE_ATTR,ee):qt,Ut="ADD_DATA_URI_TAGS"in t?_(M(Ht),t.ADD_DATA_URI_TAGS,ee):Ht,Pt="FORBID_CONTENTS"in t?_({},t.FORBID_CONTENTS,ee):Ft,xt="FORBID_TAGS"in t?_({},t.FORBID_TAGS,ee):{},wt="FORBID_ATTR"in t?_({},t.FORBID_ATTR,ee):{},It="USE_PROFILES"in t&&t.USE_PROFILES,kt=!1!==t.ALLOW_ARIA_ATTR,_t=!1!==t.ALLOW_DATA_ATTR,Mt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,At=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Tt=t.SAFE_FOR_TEMPLATES||!1,Et=t.WHOLE_DOCUMENT||!1,St=t.RETURN_DOM||!1,Lt=t.RETURN_DOM_FRAGMENT||!1,Nt=t.RETURN_TRUSTED_TYPE||!1,Ot=t.FORCE_BODY||!1,Ct=!1!==t.SANITIZE_DOM,zt=t.SANITIZE_NAMED_PROPS||!1,jt=!1!==t.KEEP_CONTENT,Rt=t.IN_PLACE||!1,dt=t.ALLOWED_URI_REGEXP||H,Vt=t.NAMESPACE||Gt,bt=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&ie(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(bt.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ie(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(bt.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(bt.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Tt&&(_t=!1),Lt&&(St=!0),It&&(gt=_({},[...N]),yt=[],!0===It.html&&(_(gt,T),_(yt,C)),!0===It.svg&&(_(gt,E),_(yt,z),_(yt,j)),!0===It.svgFilters&&(_(gt,$),_(yt,z),_(yt,j)),!0===It.mathMl&&(_(gt,S),_(yt,D),_(yt,j))),t.ADD_TAGS&&(gt===mt&&(gt=M(gt)),_(gt,t.ADD_TAGS,ee)),t.ADD_ATTR&&(yt===vt&&(yt=M(yt)),_(yt,t.ADD_ATTR,ee)),t.ADD_URI_SAFE_ATTR&&_(Bt,t.ADD_URI_SAFE_ATTR,ee),t.FORBID_CONTENTS&&(Pt===Ft&&(Pt=M(Pt)),_(Pt,t.FORBID_CONTENTS,ee)),jt&&(gt["#text"]=!0),Et&&_(gt,["html","head","body"]),gt.table&&(_(gt,["tbody"]),delete xt.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Q=t.TRUSTED_TYPES_POLICY,tt=Q.createHTML("")}else void 0===Q&&(Q=V(B,l)),null!==Q&&"string"==typeof tt&&(tt=Q.createHTML(""));o&&o(t),ne=t}},ae=_({},["mi","mo","mn","ms","mtext"]),se=_({},["foreignobject","desc","title","annotation-xml"]),le=_({},["title","style","font","a","script"]),ce=_({},E);_(ce,$),_(ce,O);const ue=_({},S);_(ue,L);const he=function(t){let e=J(t);e&&e.tagName||(e={namespaceURI:Vt,tagName:"template"});const n=p(t.tagName),r=p(e.tagName);return!!Kt[t.namespaceURI]&&(t.namespaceURI===Wt?e.namespaceURI===Gt?"svg"===n:e.namespaceURI===Yt?"svg"===n&&("annotation-xml"===r||ae[r]):Boolean(ce[n]):t.namespaceURI===Yt?e.namespaceURI===Gt?"math"===n:e.namespaceURI===Wt?"math"===n&&se[r]:Boolean(ue[n]):t.namespaceURI===Gt?!(e.namespaceURI===Wt&&!se[r])&&!(e.namespaceURI===Yt&&!ae[r])&&!ue[n]&&(le[n]||!ce[n]):!("application/xhtml+xml"!==Jt||!Kt[t.namespaceURI]))},fe=function(t){f(r.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){t.remove()}},pe=function(t,e){try{f(r.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){f(r.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!yt[t])if(St||Lt)try{fe(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},de=function(t){let e=null,n=null;if(Ot)t="<remove></remove>"+t;else{const e=g(t,/^[\r\n\t ]+/);n=e&&e[0]}"application/xhtml+xml"===Jt&&Vt===Gt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const r=Q?Q.createHTML(t):t;if(Vt===Gt)try{e=(new U).parseFromString(r,Jt)}catch(t){}if(!e||!e.documentElement){e=et.createDocument(Vt,"template",null);try{e.documentElement.innerHTML=Xt?tt:r}catch(t){}}const o=e.body||e.documentElement;return t&&n&&o.insertBefore(i.createTextNode(n),o.childNodes[0]||null),Vt===Gt?it.call(e,Et?"html":"body")[0]:Et?e.documentElement:o},ge=function(t){return nt.call(t.ownerDocument||t,t,I.SHOW_ELEMENT|I.SHOW_COMMENT|I.SHOW_TEXT,null)},me=function(t){return t instanceof F&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof P)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},ye=function(t){return"function"==typeof k&&t instanceof k},ve=function(t,e,n){at[t]&&u(at[t],t=>{t.call(r,e,n,ne)})},be=function(t){let e=null;if(ve("beforeSanitizeElements",t,null),me(t))return fe(t),!0;const n=ee(t.nodeName);if(ve("uponSanitizeElement",t,{tagName:n,allowedTags:gt}),t.hasChildNodes()&&!ye(t.firstElementChild)&&b(/<[/\w]/g,t.innerHTML)&&b(/<[/\w]/g,t.textContent))return fe(t),!0;if(!gt[n]||xt[n]){if(!xt[n]&&we(n)){if(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,n))return!1;if(bt.tagNameCheck instanceof Function&&bt.tagNameCheck(n))return!1}if(jt&&!Pt[n]){const e=J(t)||t.parentNode,n=Z(t)||t.childNodes;if(n&&e)for(let r=n.length-1;r>=0;--r)e.insertBefore(X(n[r],!0),K(t))}return fe(t),!0}return t instanceof R&&!he(t)?(fe(t),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!b(/<\/no(script|embed|frames)/i,t.innerHTML)?(Tt&&3===t.nodeType&&(e=t.textContent,u([st,lt,ct],t=>{e=m(e,t," ")}),t.textContent!==e&&(f(r.removed,{element:t.cloneNode()}),t.textContent=e)),ve("afterSanitizeElements",t,null),!1):(fe(t),!0)},xe=function(t,e,n){if(Ct&&("id"===e||"name"===e)&&(n in i||n in re))return!1;if(_t&&!wt[e]&&b(ut,e));else if(kt&&b(ht,e));else if(!yt[e]||wt[e]){if(!(we(t)&&(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,t)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(t))&&(bt.attributeNameCheck instanceof RegExp&&b(bt.attributeNameCheck,e)||bt.attributeNameCheck instanceof Function&&bt.attributeNameCheck(e))||"is"===e&&bt.allowCustomizedBuiltInElements&&(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,n)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(n))))return!1}else if(Bt[e]);else if(b(dt,m(n,pt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==y(n,"data:")||!Ut[t])if(Mt&&!b(ft,m(n,pt,"")));else if(n)return!1;return!0},we=function(t){return t.indexOf("-")>0},ke=function(t){ve("beforeSanitizeAttributes",t,null);const{attributes:e}=t;if(!e)return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:yt};let i=e.length;for(;i--;){const o=e[i],{name:a,namespaceURI:s,value:l}=o,c=ee(a);let f="value"===a?l:v(l);if(n.attrName=c,n.attrValue=f,n.keepAttr=!0,n.forceKeepAttr=void 0,ve("uponSanitizeAttribute",t,n),f=n.attrValue,n.forceKeepAttr)continue;if(pe(a,t),!n.keepAttr)continue;if(!At&&b(/\/>/i,f)){pe(a,t);continue}Tt&&u([st,lt,ct],t=>{f=m(f,t," ")});const p=ee(t.nodeName);if(xe(p,c,f)){if(!zt||"id"!==c&&"name"!==c||(pe(a,t),f=Dt+f),Q&&"object"==typeof B&&"function"==typeof B.getAttributeType)if(s);else switch(B.getAttributeType(p,c)){case"TrustedHTML":f=Q.createHTML(f);break;case"TrustedScriptURL":f=Q.createScriptURL(f)}try{s?t.setAttributeNS(s,a,f):t.setAttribute(a,f),h(r.removed)}catch(t){}}}ve("afterSanitizeAttributes",t,null)},_e=function t(e){let n=null;const r=ge(e);for(ve("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)ve("uponSanitizeShadowNode",n,null),be(n)||(n.content instanceof c&&t(n.content),ke(n));ve("afterSanitizeShadowDOM",e,null)};return r.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,i=null,o=null,s=null;if(Xt=!t,Xt&&(t="\x3c!--\x3e"),"string"!=typeof t&&!ye(t)){if("function"!=typeof t.toString)throw x("toString is not a function");if("string"!=typeof(t=t.toString()))throw x("dirty is not a string, aborting")}if(!r.isSupported)return t;if($t||oe(e),r.removed=[],"string"==typeof t&&(Rt=!1),Rt){if(t.nodeName){const e=ee(t.nodeName);if(!gt[e]||xt[e])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof k)n=de("\x3c!----\x3e"),i=n.ownerDocument.importNode(t,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?n=i:n.appendChild(i);else{if(!St&&!Tt&&!Et&&-1===t.indexOf("<"))return Q&&Nt?Q.createHTML(t):t;if(n=de(t),!n)return St?null:Nt?tt:""}n&&Ot&&fe(n.firstChild);const l=ge(Rt?t:n);for(;o=l.nextNode();)be(o)||(o.content instanceof c&&_e(o.content),ke(o));if(Rt)return t;if(St){if(Lt)for(s=rt.call(n.ownerDocument);n.firstChild;)s.appendChild(n.firstChild);else s=n;return(yt.shadowroot||yt.shadowrootmode)&&(s=ot.call(a,s,!0)),s}let h=Et?n.outerHTML:n.innerHTML;return Et&&gt["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&b(Y,n.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+h),Tt&&u([st,lt,ct],t=>{h=m(h,t," ")}),Q&&Nt?Q.createHTML(h):h},r.setConfig=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};oe(t),$t=!0},r.clearConfig=function(){ne=null,$t=!1},r.isValidAttribute=function(t,e,n){ne||oe({});const r=ee(t),i=ee(e);return xe(r,i,n)},r.addHook=function(t,e){"function"==typeof e&&(at[t]=at[t]||[],f(at[t],e))},r.removeHook=function(t){if(at[t])return h(at[t])},r.removeHooks=function(t){at[t]&&(at[t]=[])},r.removeAllHooks=function(){at={}},r}()}()),yh.exports}var bh=lo(window.DOMPurify||(window.DOMPurify=vh().default||vh()));const xh=function(t,e){let{maxsize:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Map;return{get:function(i){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(o&&1===r.size)return r.values().next().value;const a=t(i);if(r.has(a))return r.get(a);const s=e(i);return n&&r.size>=n&&(r=new Map),r.set(a,s),s}}},wh=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"].sort(),kh=xh(t=>t.version,t=>(t.addHook("afterSanitizeElements",(function(t){"a"===t.nodeName.toLowerCase()&&("_self"!==t.getAttribute("target")&&t.setAttribute("target","_blank"),t.setAttribute("rel","nofollow noopener noreferrer"))})),xh(t=>String(t),e=>{const n={ALLOWED_TAGS:void 0===e?wh:"string"==typeof e?e.toLowerCase().slice(1,-1).split("><"):e,ADD_ATTR:["target"],FORCE_BODY:!0};return xh(t=>t,e=>t.sanitize(e,n),{maxsize:1e5})},{maxsize:1e5})));function _h(t,e){return function(t){return function(e,n){return e?kh.get(t,!0).get(n).get(e):e}}(bh)(t,e)}function Mh(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let i=t;for(let t=0;t<r.length&&null!=i;t++)i=i[r[t]];return null==i?n:i}var Ah=pl,Th=function(){try{var t=Ah(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var Eh=function(t,e,n){"__proto__"==e&&Th?Th(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},$h=Eh,Oh=Os,Sh=Object.prototype.hasOwnProperty;var Lh=function(t,e,n){var r=t[e];Sh.call(t,e)&&Oh(r,n)&&(void 0!==n||e in t)||$h(t,e,n)},Nh=ha,Ch=Ro,zh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dh=/^\w*$/;var jh=function(t,e){if(Nh(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ch(t))||(Dh.test(t)||!zh.test(t)||null!=e&&t in Object(e))},Rh=Wl;function Ih(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ih.Cache||Rh),n}Ih.Cache=Rh;var Ph=Ih;var Fh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Uh=/\\(\\)?/g,Hh=function(t){var e=Ph(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Fh,(function(t,n,r,i){e.push(r?i.replace(Uh,"$1"):n||t)})),e})),Bh=ha,qh=jh,Yh=Hh,Wh=Ou;var Gh=function(t,e){return Bh(t)?t:qh(t,e)?[t]:Yh(Wh(t))},Vh=Ro;var Xh=function(t){if("string"==typeof t||Vh(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};function Kh(t){if(!t||"object"!=typeof t)return t;try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}var Zh=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===Jh}(t)}(t)};var Jh="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Qh(t,e){return!1!==e.clone&&e.isMergeableObject(t)?of((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function tf(t,e,n){return t.concat(e).map((function(t){return Qh(t,n)}))}function ef(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return Object.propertyIsEnumerable.call(t,e)})):[]}(t))}function nf(t,e){try{return e in t}catch(t){return!1}}function rf(t,e,n){var r={};return n.isMergeableObject(t)&&ef(t).forEach((function(e){r[e]=Qh(t[e],n)})),ef(e).forEach((function(i){(function(t,e){return nf(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(nf(t,i)&&n.isMergeableObject(e[i])?r[i]=function(t,e){if(!e.customMerge)return of;var n=e.customMerge(t);return"function"==typeof n?n:of}(i,n)(t[i],e[i],n):r[i]=Qh(e[i],n))})),r}function of(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||tf,n.isMergeableObject=n.isMergeableObject||Zh,n.cloneUnlessOtherwiseSpecified=Qh;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):rf(t,e,n):Qh(e,n)}of.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return of(t,n,e)}),{})};var af=lo(of),sf=rc,lf=lu;var cf=uo;var uf=function(t){return t==t&&!cf(t)},hf=uf,ff=ts;var pf=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}},df=function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var l=(s=n[i])[0],c=t[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in t))return!1}else{var h=new sf;if(r)var f=r(c,u,l,t,e,h);if(!(void 0===f?lf(u,c,3,r,h):f))return!1}}return!0},gf=function(t){for(var e=ff(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,hf(i)]}return e},mf=pf;var yf=Gh,vf=Xh;var bf=function(t,e){for(var n=0,r=(e=yf(e,t)).length;null!=t&&n<r;)t=t[vf(e[n++])];return n&&n==r?t:void 0},xf=bf;var wf=Gh,kf=ua,_f=ha,Mf=ma,Af=ya,Tf=Xh;var Ef=function(t,e,n){for(var r=-1,i=(e=wf(e,t)).length,o=!1;++r<i;){var a=Tf(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Af(i)&&Mf(a,i)&&(_f(t)||kf(t))},$f=function(t,e){return null!=t&&e in Object(t)},Of=Ef;var Sf=lu,Lf=function(t,e,n){var r=null==t?void 0:xf(t,e);return void 0===r?n:r},Nf=function(t,e){return null!=t&&Of(t,e,$f)},Cf=jh,zf=uf,Df=pf,jf=Xh;var Rf=bf;var If=function(t){return function(e){return null==e?void 0:e[t]}},Pf=function(t){return function(e){return Rf(e,t)}},Ff=jh,Uf=Xh;var Hf=function(t){var e=gf(t);return 1==e.length&&e[0][2]?mf(e[0][0],e[0][1]):function(n){return n===t||df(n,t,e)}},Bf=function(t,e){return Cf(t)&&zf(e)?Df(jf(t),e):function(n){var r=Lf(n,t);return void 0===r&&r===e?Nf(n,t):Sf(e,r,3)}},qf=os,Yf=ha,Wf=function(t){return Ff(t)?If(Uf(t)):Pf(t)};var Gf=function(t){return"function"==typeof t?t:null==t?qf:"object"==typeof t?Yf(t)?Bf(t[0],t[1]):Hf(t):Wf(t)},Vf=Os,Xf=Ka,Kf=ma,Zf=uo;var Jf=function(t,e,n){if(!Zf(n))return!1;var r=typeof e;return!!("number"==r?Xf(n)&&Kf(e,n.length):"string"==r&&e in n)&&Vf(n[e],t)},Qf=Object.prototype.hasOwnProperty;var tp=function(t,e){return null!=t&&Qf.call(t,e)},ep=Ef;var np=lo((function(t,e){return null!=t&&ep(t,e,tp)}));function rp(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}var ip=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function op(t){var e,n;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var r=t-2,i=t-1;r>1;)i*=r,r--;return 0===i&&(i=1),i}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*op(1-t));if(t>=171.35)return 1/0;if(t>85){var o=t*t,a=o*t,s=a*t,l=s*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*o)-139/(51840*a)-571/(2488320*s)+163879/(209018880*l)+5246819/(75246796800*l*t))}--t,n=ip[0];for(var c=1;c<ip.length;++c)n+=ip[c]/(t+c);return e=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*n}var ap=Object.freeze({__proto__:null,add:function(t,e){return Number(t)+Number(e)},sub:function(t,e){return t-e},mul:function(t,e){return t*e},div:function(t,e){return t/e},mod:function(t,e){return t%e},concat:function(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e},equal:function(t,e){return t===e},notEqual:function(t,e){return t!==e},greaterThan:function(t,e){return t>e},lessThan:function(t,e){return t<e},greaterThanEqual:function(t,e){return t>=e},lessThanEqual:function(t,e){return t<=e},andOperator:function(t,e){return Boolean(t&&e)},orOperator:function(t,e){return Boolean(t||e)},inOperator:function(t,e){return rp(e,t)},sinh:function(t){return(Math.exp(t)-Math.exp(-t))/2},cosh:function(t){return(Math.exp(t)+Math.exp(-t))/2},tanh:function(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))},asinh:function(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},atanh:function(t){return Math.log((1+t)/(1-t))/2},log10:function(t){return Math.log(t)*Math.LOG10E},neg:function(t){return-t},not:function(t){return!t},trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)},random:function(t){return Math.random()*(t||1)},factorial:function(t){return op(t+1)},gamma:op,stringOrArrayLength:function(t){return Array.isArray(t)?t.length:String(t).length},hypot:function(){for(var t=0,e=0,n=0;n<arguments.length;n++){var r,i=Math.abs(arguments[n]);e<i?(t=t*(r=e/i)*r+1,e=i):t+=i>0?(r=i/e)*r:i}return e===1/0?1/0:e*Math.sqrt(t)},condition:function(t,e,n){return t?e:n},roundTo:function(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))},setVar:function(t,e,n){return n&&(n[t]=e),e},arrayIndex:function(t,e){return t[0|e]},max:function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)},min:function(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)},arrayMap:function(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))},arrayFold:function(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)},arrayFilter:function(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))},stringOrArrayIndexOf:function(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)},arrayJoin:function(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)},sign:function(t){return(t>0)-(t<0)||+t},cbrt:function(t){return t<0?-Math.pow(-t,1/3):Math.pow(t,1/3)},expm1:function(t){return Math.exp(t)-1},log1p:function(t){return Math.log(1+t)},log2:function(t){return Math.log(t)/Math.LN2},sum:function(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}}),sp="IEXPR";function lp(t,e){this.type=t,this.value=null!=e?e:0}function cp(t){return new lp("IOP1",t)}function up(t){return new lp("IOP2",t)}function hp(t,e,n){var r,i,o,a,s,l,c=[];if(pp(t))return dp(t,n);for(var u=t.length,h=0;h<u;h++){var f=t[h],p=f.type;if("INUMBER"===p||"IVARNAME"===p)c.push(f.value);else if("IOP2"===p)i=c.pop(),r=c.pop(),"and"===f.value?c.push(!!r&&!!hp(i,e,n)):"or"===f.value?c.push(!!r||!!hp(i,e,n)):"="===f.value?(a=e.binaryOps[f.value],c.push(a(r,hp(i,e,n),n))):(a=e.binaryOps[f.value],c.push(a(dp(r,n),dp(i,n))));else if("IOP3"===p)o=c.pop(),i=c.pop(),r=c.pop(),"?"===f.value?c.push(hp(r?i:o,e,n)):(a=e.ternaryOps[f.value],c.push(a(dp(r,n),dp(i,n),dp(o,n))));else if("IVAR"===p){if(/^__proto__|prototype|constructor$/.test(f.value))throw new Error("prototype access detected");if(f.value in e.functions)c.push(e.functions[f.value]);else if(f.value in e.unaryOps&&e.parser.isOperatorEnabled(f.value))c.push(e.unaryOps[f.value]);else{var d=n[f.value];if(void 0===d)throw new Error("undefined variable: "+f.value);c.push(d)}}else if("IOP1"===p)r=c.pop(),a=e.unaryOps[f.value],c.push(a(dp(r,n)));else if("IFUNCALL"===p){for(l=f.value,s=[];l-- >0;)s.unshift(dp(c.pop(),n));if(!(a=c.pop()).apply||!a.call)throw new Error(a+" is not a function");c.push(a.apply(void 0,s))}else if("IFUNDEF"===p)c.push(function(){for(var t=c.pop(),r=[],i=f.value;i-- >0;)r.unshift(c.pop());var o=c.pop(),a=function(){for(var i=Object.assign({},n),o=0,a=r.length;o<a;o++)i[r[o]]=arguments[o];return hp(t,e,i)};return Object.defineProperty(a,"name",{value:o,writable:!1}),n[o]=a,a}());else if(p===sp)c.push(fp(f,e));else if("IEXPREVAL"===p)c.push(f);else if("IMEMBER"===p)r=c.pop(),c.push(r[f.value]);else if("IENDSTATEMENT"===p)c.pop();else{if("IARRAY"!==p)throw new Error("invalid Expression");for(l=f.value,s=[];l-- >0;)s.unshift(c.pop());c.push(s)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:dp(c[0],n)}function fp(t,e,n){return pp(t)?t:{type:"IEXPREVAL",value:function(n){return hp(t.value,e,n)}}}function pp(t){return t&&"IEXPREVAL"===t.type}function dp(t,e){return pp(t)?t.value(e):t}lp.prototype.toString=function(){switch(this.type){case"INUMBER":case"IOP1":case"IOP2":case"IOP3":case"IVAR":case"IVARNAME":case"IENDSTATEMENT":return this.value;case"IFUNCALL":return"CALL "+this.value;case"IFUNDEF":return"DEF "+this.value;case"IARRAY":return"ARRAY "+this.value;case"IMEMBER":return"."+this.value;default:return"Invalid Instruction"}};var gp="TOP",mp="TPAREN";function yp(t,e,n){this.type=t,this.value=e,this.index=n}function vp(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}yp.prototype.toString=function(){return this.type+": "+this.value},vp.prototype.newToken=function(t,e,n){return new yp(t,e,null!=n?n:this.pos)},vp.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},vp.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},vp.prototype.next=function(){return this.pos>=this.expression.length?this.newToken("TEOF","EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},vp.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var i=this.expression.substring(e+1,r);this.current=this.newToken("TSTRING",this.unescape(i),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},vp.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(mp,t),this.pos++,!0)},vp.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("["))&&(this.current=this.newToken("TBRACKET",t),this.pos++,!0)},vp.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken("TCOMMA",","),this.pos++,!0)},vp.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken("TSEMICOLON",";"),this.pos++,!0)},vp.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken("TNUMBER",this.consts[r]),this.pos+=r.length,!0}return!1},vp.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(gp,r),this.pos+=r.length,!0}return!1},vp.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var i=this.expression.substring(t,e);return this.current=this.newToken("TNAME",i),this.pos+=i.length,!0}return!1},vp.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var bp=/^[0-9a-f]{4}$/i;function xp(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess,this.restrictMemberAccess=new Set(n.restrictMemberAccess||[])}vp.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var i=t.substring(e+1,e+5);bp.test(i)||this.parseError("Illegal escape sequence: \\u"+i),n+=String.fromCharCode(parseInt(i,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var o=t.indexOf("\\",e);n+=t.substring(e,o<0?t.length:o),e=o}return n},vp.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},vp.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,i=n;n<this.expression.length;){var o=this.expression.charAt(n);if(!e.test(o))break;n++,r=!0}return r&&(this.current=this.newToken("TNUMBER",parseInt(this.expression.substring(i,n),t)),this.pos=n),r},vp.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,i=n,o=!1,a=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!o&&"."===t);)"."===t?o=!0:a=!0,n++,e=a;if(e&&(i=n),"e"===t||"E"===t){n++;for(var s=!0,l=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!s||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;l=!0,s=!1}else s=!1;n++}l||(n=i)}return e?(this.current=this.newToken("TNUMBER",parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=i,e},vp.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(gp,e);else if("∙"===e||"•"===e)this.current=this.newToken(gp,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(gp,">="),this.pos++):this.current=this.newToken(gp,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(gp,"<="),this.pos++):this.current=this.newToken(gp,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(gp,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(gp,"=="),this.pos++):this.current=this.newToken(gp,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(gp,"!="),this.pos++):this.current=this.newToken(gp,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},vp.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},vp.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},vp.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},xp.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},xp.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?rp(e,t.value):"function"==typeof e?e(t):t.value===e)},xp.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},xp.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},xp.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e))&&(this.next(),!0)},xp.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},xp.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept("TNAME")||this.accept(gp,(function(t){return t.value in e})))t.push(new lp("IVAR",this.current.value));else if(this.accept("TNUMBER"))t.push(new lp("INUMBER",this.current.value));else if(this.accept("TSTRING"))t.push(new lp("INUMBER",this.current.value));else if(this.accept(mp,"("))this.parseExpression(t),this.expect(mp,")");else{if(!this.accept("TBRACKET","["))throw new Error("unexpected "+this.nextToken);if(this.accept("TBRACKET","]"))t.push(new lp("IARRAY",0));else{var n=this.parseArrayList(t);t.push(new lp("IARRAY",n))}}},xp.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},xp.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},xp.prototype.parseUntilEndStatement=function(t,e){return!!this.accept("TSEMICOLON")&&(!this.nextToken||"TEOF"===this.nextToken.type||this.nextToken.type===mp&&")"===this.nextToken.value||e.push(new lp("IENDSTATEMENT")),"TEOF"!==this.nextToken.type&&this.parseExpression(e),t.push(new lp(sp,e)),!0)},xp.prototype.parseArrayList=function(t){for(var e=0;!this.accept("TBRACKET","]");)for(this.parseExpression(t),++e;this.accept("TCOMMA");)this.parseExpression(t),++e;return e},xp.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(gp,"=");){var e=t.pop(),n=[],r=t.length-1;if("IFUNCALL"!==e.type){if("IVAR"!==e.type&&"IMEMBER"!==e.type)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new lp("IVARNAME",e.value)),t.push(new lp(sp,n)),t.push(up("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var i=0,o=e.value+1;i<o;i++){var a=r-i;"IVAR"===t[a].type&&(t[a]=new lp("IVARNAME",t[a].value))}this.parseVariableAssignmentExpression(n),t.push(new lp(sp,n)),t.push(new lp("IFUNDEF",e.value))}}},xp.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(gp,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(gp,":"),this.parseConditionalExpression(n),t.push(new lp(sp,e)),t.push(new lp(sp,n)),t.push(new lp("IOP3","?"))}},xp.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(gp,"or");){var e=[];this.parseAndExpression(e),t.push(new lp(sp,e)),t.push(up("or"))}},xp.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(gp,"and");){var e=[];this.parseComparison(e),t.push(new lp(sp,e)),t.push(up("and"))}};var wp=["==","!=","<","<=",">=",">","in"];xp.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(gp,wp);){var e=this.current;this.parseAddSub(t),t.push(up(e.value))}};var kp=["+","-","||"];xp.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(gp,kp);){var e=this.current;this.parseTerm(t),t.push(up(e.value))}};var _p=["*","/","%"];xp.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(gp,_p);){var e=this.current;this.parseFactor(t),t.push(up(e.value))}},xp.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(gp,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===mp&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if("TSEMICOLON"===this.nextToken.type||"TCOMMA"===this.nextToken.type||"TEOF"===this.nextToken.type||this.nextToken.type===mp&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(cp(n.value))}else this.parseExponential(t)},xp.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(gp,"^");)this.parseFactor(t),t.push(up("^"))},xp.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(gp,"!");)t.push(cp("!"))},xp.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(gp,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(cp(n.value))}else for(this.parseMemberExpression(t);this.accept(mp,"(");)if(this.accept(mp,")"))t.push(new lp("IFUNCALL",0));else{var r=this.parseArgumentList(t);t.push(new lp("IFUNCALL",r))}},xp.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(mp,")");)for(this.parseExpression(t),++e;this.accept("TCOMMA");)this.parseExpression(t),++e;return e},xp.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(gp,".")||this.accept("TBRACKET","[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect("TNAME"),t.push(new lp("IMEMBER",this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect("TBRACKET","]"),t.push(up("["))}}};const{add:Mp,sub:Ap,mul:Tp,div:Ep,mod:$p,equal:Op,notEqual:Sp,greaterThan:Lp,lessThan:Np,greaterThanEqual:Cp,lessThanEqual:zp,andOperator:Dp,orOperator:jp,log10:Rp,neg:Ip,not:Pp,trunc:Fp,random:Up,stringOrArrayLength:Hp,condition:Bp,roundTo:qp,arrayIndex:Yp,max:Wp,min:Gp,sum:Vp,arrayMap:Xp,arrayFold:Kp,arrayFilter:Zp,sign:Jp,log1p:Qp,log2:td}=ap;function ed(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function nd(t){return t.trim()}ed.prototype.evaluate=function(t){return t=t||{},hp(this.tokens,this,t)},ed.prototype.variables=function(){return(this.tokens||[]).filter(t=>"IVAR"===t.type).map(t=>t.value)};const rd=new Set(["__proto__","prototype","constructor"]);function id(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||td,LN:Math.log,LOG10:Math.log10||Rp,LG:Math.log10||Rp,LOG1P:Math.log1p||Qp,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:t=>null===t,TRUNC:Math.trunc||Fp,"-":Ip,"+":Number,EXP:Math.exp,NOT:Pp,LENGTH:Hp,"!":Pp,SIGN:Math.sign||Jp,TEXT:t=>e(t)?t.toISOString():String(t),NUMBER:Number},this.binaryOps={"+":Mp,"-":Ap,"*":Tp,"/":Ep,"%":$p,"^":Math.pow,"==":Op,"!=":Sp,">":Lp,"<":Np,">=":Cp,"<=":zp,and:Dp,or:jp,in:(t,e)=>Array.isArray(e)?e.includes(t):String(e).includes(t),"[":Yp},this.ternaryOps={"?":Bp};const e=t=>t instanceof Date&&!isNaN(t),n=t=>{if(e(t))return t;try{const n=new Date(t);return e(n)?n:null}catch(t){return null}};function r(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter(t=>!isNaN(t)&&Number.isFinite(t))}let i=/\w*/g,o=/\w\S*/g;const a=/[\\^$*+?.()|[\]{}]/g;try{i=new RegExp("\\p{L}*","ug"),o=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:Bp,RANDOM:Up,MIN(){const t=r.apply(this,arguments);return Gp(t)},MAX(){return Wp(r.apply(this,arguments))},SUM(){return Vp(r.apply(this,arguments))},MEAN(){const t=r.apply(this,arguments);return Vp(t)/t.length},MEDIAN(){const t=r.apply(this,arguments).sort((t,e)=>t-e),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:qp,CONCAT(){return Array.from(arguments).join("")},TRIM:nd,SUBSTR:(t,e,n)=>t.substr(e,n),REPLACE:(t,e,n)=>t.replace(new RegExp(String(e).replace(a,"\\$&"),"g"),n),REPLACE_REGEX:(t,e,n)=>t.replace(new RegExp(e,"g"),n),SPLIT:(t,e)=>String(t).split(e),LOWER:t=>String(t).toLowerCase(),UPPER:t=>String(t).toUpperCase(),PROPER:t=>String(t).replace(i,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()),TITLE:t=>String(t).replace(o,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()),SORT(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(rd.has(n))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort((t,r)=>((t="string"==typeof n?t[n]:"function"==typeof n?n(t):t)>(r="string"==typeof n?r[n]:"function"==typeof n?n(r):r)?1:t<r?-1:0)*(e?1:-1))},SLICE(t,e,n){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,n)},JOIN(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return n?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(n):t.join(e)},MAP:Xp,FOLD:Kp,FILTER:Zp,PLUCK(t,e){if(rd.has(e))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map(t=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:null)},INDEXOF:(t,e)=>(Array.isArray(t)||(t=String(t)),t.indexOf(e)),FIND(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");const n=t.length;for(let r=0;r<n;r++)if(e(t[r]))return t[r];return null},RANGE(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},EVERY(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");const n=t.length;let r=!0;for(let i=0;i<n;i++)if(r=r&&e(t[i]),!r)return!1;return!0},SOME(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");const n=t.length;let r=!1;for(let i=0;i<n;i++)if(r=r||e(t[i]),r)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:t=>(t=n(t))?t.getFullYear():null,MONTH:t=>(t=n(t))?t.getMonth()+1:null,DAY:t=>(t=n(t))?t.getDate():null,WEEKDAY:t=>(t=n(t))?t.getDay():null,HOURS:t=>(t=n(t))?t.getHours():null,MINUTES:t=>(t=n(t))?t.getMinutes():null,SECONDS:t=>(t=n(t))?t.getSeconds():null,DATEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/864e5:null),TIMEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}id.prototype.parse=function(t){var e=[],n=new xp(this,new vp(this,t),{allowMemberAccess:!0,restrictMemberAccess:rd});return n.parseExpression(e),n.expect("TEOF","EOF"),new ed(e,this)},id.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var od=new id;id.parse=function(t){return od.parse(t)},id.evaluate=function(t,e){return od.parse(t).evaluate(e)},id.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var ad={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};id.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call(ad,t)?ad[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};const sd={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{tsf:t=>ld(t),prop:"letter-spacing"},fontSize:{prop:"font-size",tsf:t=>ld(t)},lineHeight:{prop:"line-height",tsf:t=>{return"%UNDEFINED%"===(e=t)?e:e>3?"".concat(e,"px"):String(e);var e}},underlined:{prop:"text-decoration",tsf:t=>t?"underline":"none"},cursive:{prop:"font-style",tsf:t=>t?"italic":"normal"}};function ld(t){return"%UNDEFINED%"===t?t:Number.isFinite(t)?"".concat(t,"px"):t}function cd(t,e,n){if(2===t.version){for(const n of["chart","bodyCenter","bodyTop","body"])if(np(t,["blocks",n,"styles","typography",e]))return Mh(t,["blocks",n,"styles","typography",e]);return n}return Mh(t,"typography.chart.".concat(e),n)}const ud=864e5,hd=30*ud,fd=365*ud;function pd(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r,i;if(void 0===e||isNaN(e)||null===e)return"";let o=n.format||"0.[00]";const a=n.multiply||1,s=n.prepend||"",l=n.append||"",c=null!==(r=n.minusChar)&&void 0!==r?r:"−",u=null!==(i=n.plusMinusChar)&&void 0!==i?i:"±";o.includes("%")&&Number.isFinite(e)&&(e*=.01),e*=a;const h=o.indexOf("(")>-1,f=o.indexOf(";")>-1;o=o.replace(/;/g,",");let p=t(h?e:Math.abs(e)).format(o);if(f){const n=t.options.currentLocale,r=t.locales[n].delimiters.thousands,i=o.includes("%")?e/.01:e;p=Math.abs(i)<1e4?p.replace(r,""):p}return s&&!h&&e<0&&dd.has(s.trim().toLowerCase())?"".concat(c).concat(s).concat(p.replace("+","")).concat(l):s&&e>=0&&dd.has(s.trim().toLowerCase())&&o.includes("+")?"".concat(0===e?u:"+").concat(s).concat(p.replace("+","")).concat(l):0===e&&o.includes("+")?"".concat(s).concat(p.replace("+",u)).concat(l):e<0&&!h?"".concat(s).concat(c).concat(p.replace("+","")).concat(l):"".concat(s).concat(p).concat(l)}const dd=new Set(["฿","₿","¢","$","€","eur","£","gbp","¥","yen","usd","cad","us$","ca$","can$"]);function gd(t){return!Io(t)&&isFinite(t)&&!isNaN(parseFloat(t))}function md(t){return"function"==typeof t&&"number"!=typeof t.nodeType}function yd(t){switch(t){case"cardinal":return Yi;case"step":return io;case"step-before":return oo;case"step-after":return ao;case"natural":return no;case"basis":return Hi;case"catmull-rom":return Gi;case"monotone-x":return Qi;default:case"linear":return Di}}const vd="--zero-baseline--";function bd(t){let{vis:e,dataset:n}=t;const r=e.get("scale-y","linear"),i=e.get("custom-area-fills",[]);if(!i||!i.length)return[];const o=e.axes().y;let a=i.filter(t=>{const e=t.from===vd&&"log"!==r||n.hasColumn(t.from),i=t.to===vd&&"log"!==r||n.hasColumn(t.to);return e&&i});return o.length>1?a:(a=a.filter(t=>xd(t)),a.length?a.slice(0,1):[])}function xd(t){return t.from===vd&&t.to!==vd||t.to===vd&&t.from!==vd}function wd(t,e){const n=t.chart().get("metadata.data.column-format",{})[e]||{};return{prepend:n["number-prepend"]||"",append:n["number-append"]||"",multiply:Math.pow(10,-n["number-divisor"]||0)}}var kd={exports:{}};
/**
   * chroma.js - JavaScript library for color conversions
   *
   * Copyright (c) 2011-2019, Gregor Aisch
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice, this
   * list of conditions and the following disclaimer.
   *
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   * this list of conditions and the following disclaimer in the documentation
   * and/or other materials provided with the distribution.
   *
   * 3. The name Gregor Aisch may not be used to endorse or promote products
   * derived from this software without specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
   * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
   * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
   * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
   * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
   * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *
   * -------------------------------------------------------
   *
   * chroma.js includes colors from colorbrewer2.org, which are released under
   * the following license:
   *
   * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
   * and The Pennsylvania State University.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
   * either express or implied. See the License for the specific
   * language governing permissions and limitations under the License.
   *
   * ------------------------------------------------------
   *
   * Named colors are taken from X11 Color Names.
   * http://www.w3.org/TR/css3-color/#svg-color
   *
   * @preserve
   */kd.exports=function(){for(var t=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},e=t,n={},r=0,i=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<i.length;r+=1){var o=i[r];n["[object "+o+"]"]=o.toLowerCase()}var a=function(t){return n[Object.prototype.toString.call(t)]||"object"},s=a,l=a,c=Math.PI,u={clip_rgb:function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=e(t[n],0,255)):3===n&&(t[n]=e(t[n],0,1));return t},limit:t,type:a,unpack:function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==s(t[0])&&e?e.split("").filter((function(e){return void 0!==t[0][e]})).map((function(e){return t[0][e]})):t[0]},last:function(t){if(t.length<2)return null;var e=t.length-1;return"string"==l(t[e])?t[e].toLowerCase():null},PI:c,TWOPI:2*c,PITHIRD:c/3,DEG2RAD:c/180,RAD2DEG:180/c},h={format:{},autodetect:[]},f=u.last,p=u.clip_rgb,d=u.type,g=h,m=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=this;if("object"===d(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var r=f(t),i=!1;if(!r){i=!0,g.sorted||(g.autodetect=g.autodetect.sort((function(t,e){return e.p-t.p})),g.sorted=!0);for(var o=0,a=g.autodetect;o<a.length;o+=1){var s=a[o];if(r=s.test.apply(s,t))break}}if(!g.format[r])throw new Error("unknown format: "+t);var l=g.format[r].apply(null,i?t:t.slice(0,-1));n._rgb=p(l),3===n._rgb.length&&n._rgb.push(1)};m.prototype.toString=function(){return"function"==d(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var y=m,v=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(v.Color,[null].concat(t)))};v.Color=y,v.version="2.4.2";var b=v,x=u.unpack,w=Math.max,k=u.unpack,_=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=k(t,"cmyk"))[0],r=t[1],i=t[2],o=t[3],a=t.length>4?t[4]:1;return 1===o?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),a]},M=b,A=y,T=h,E=u.unpack,$=u.type,O=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=x(t,"rgb"),r=n[0],i=n[1],o=n[2],a=1-w(r/=255,w(i/=255,o/=255)),s=a<1?1/(1-a):0,l=(1-r-a)*s,c=(1-i-a)*s,u=(1-o-a)*s;return[l,c,u,a]};A.prototype.cmyk=function(){return O(this._rgb)},M.cmyk=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(A,[null].concat(t,["cmyk"])))},T.format.cmyk=_,T.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=E(t,"cmyk"),"array"===$(t)&&4===t.length)return"cmyk"}});var S=u.unpack,L=u.last,N=function(t){return Math.round(100*t)/100},C=u.unpack,z=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=C(t,"rgba"))[0],r=t[1],i=t[2];n/=255,r/=255,i/=255;var o,a,s=Math.min(n,r,i),l=Math.max(n,r,i),c=(l+s)/2;return l===s?(o=0,a=Number.NaN):o=c<.5?(l-s)/(l+s):(l-s)/(2-l-s),n==l?a=(r-i)/(l-s):r==l?a=2+(i-n)/(l-s):i==l&&(a=4+(n-r)/(l-s)),(a*=60)<0&&(a+=360),t.length>3&&void 0!==t[3]?[a,o,c,t[3]]:[a,o,c]},D=u.unpack,j=u.last,R=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=S(t,"hsla"),r=L(t)||"lsa";return n[0]=N(n[0]||0),n[1]=N(100*n[1])+"%",n[2]=N(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},I=z,P=Math.round,F=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=D(t,"rgba"),r=j(t)||"rgb";return"hsl"==r.substr(0,3)?R(I(n),r):(n[0]=P(n[0]),n[1]=P(n[1]),n[2]=P(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},U=u.unpack,H=Math.round,B=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];var r,i,o,a=(e=U(e,"hsl"))[0],s=e[1],l=e[2];if(0===s)r=i=o=255*l;else{var c=[0,0,0],u=[0,0,0],h=l<.5?l*(1+s):l+s-l*s,f=2*l-h,p=a/360;c[0]=p+1/3,c[1]=p,c[2]=p-1/3;for(var d=0;d<3;d++)c[d]<0&&(c[d]+=1),c[d]>1&&(c[d]-=1),6*c[d]<1?u[d]=f+6*(h-f)*c[d]:2*c[d]<1?u[d]=h:3*c[d]<2?u[d]=f+(h-f)*(2/3-c[d])*6:u[d]=f;r=(t=[H(255*u[0]),H(255*u[1]),H(255*u[2])])[0],i=t[1],o=t[2]}return e.length>3?[r,i,o,e[3]]:[r,i,o,1]},q=B,Y=h,W=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,G=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,V=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,X=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,K=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Z=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,J=Math.round,Q=function(t){var e;if(t=t.toLowerCase().trim(),Y.format.named)try{return Y.format.named(t)}catch(t){}if(e=t.match(W)){for(var n=e.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(e=t.match(G)){for(var i=e.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(e=t.match(V)){for(var a=e.slice(1,4),s=0;s<3;s++)a[s]=J(2.55*a[s]);return a[3]=1,a}if(e=t.match(X)){for(var l=e.slice(1,5),c=0;c<3;c++)l[c]=J(2.55*l[c]);return l[3]=+l[3],l}if(e=t.match(K)){var u=e.slice(1,4);u[1]*=.01,u[2]*=.01;var h=q(u);return h[3]=1,h}if(e=t.match(Z)){var f=e.slice(1,4);f[1]*=.01,f[2]*=.01;var p=q(f);return p[3]=+e[4],p}};Q.test=function(t){return W.test(t)||G.test(t)||V.test(t)||X.test(t)||K.test(t)||Z.test(t)};var tt=b,et=y,nt=h,rt=u.type,it=F,ot=Q;et.prototype.css=function(t){return it(this._rgb,t)},tt.css=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(et,[null].concat(t,["css"])))},nt.format.css=ot,nt.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===rt(t)&&ot.test(t))return"css"}});var at=y,st=b,lt=u.unpack;h.format.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=lt(t,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},st.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(at,[null].concat(t,["gl"])))},at.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var ct=u.unpack,ut=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=ct(t,"rgb"),i=r[0],o=r[1],a=r[2],s=Math.min(i,o,a),l=Math.max(i,o,a),c=l-s,u=100*c/255,h=s/(255-c)*100;return 0===c?n=Number.NaN:(i===l&&(n=(o-a)/c),o===l&&(n=2+(a-i)/c),a===l&&(n=4+(i-o)/c),(n*=60)<0&&(n+=360)),[n,u,h]},ht=u.unpack,ft=Math.floor,pt=function(){for(var t,e,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,c,u,h=(a=ht(a,"hcg"))[0],f=a[1],p=a[2];p*=255;var d=255*f;if(0===f)l=c=u=p;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var g=ft(h/=60),m=h-g,y=p*(1-f),v=y+d*(1-m),b=y+d*m,x=y+d;switch(g){case 0:l=(t=[x,b,y])[0],c=t[1],u=t[2];break;case 1:l=(e=[v,x,y])[0],c=e[1],u=e[2];break;case 2:l=(n=[y,x,b])[0],c=n[1],u=n[2];break;case 3:l=(r=[y,v,x])[0],c=r[1],u=r[2];break;case 4:l=(i=[b,y,x])[0],c=i[1],u=i[2];break;case 5:l=(o=[x,y,v])[0],c=o[1],u=o[2]}}return[l,c,u,a.length>3?a[3]:1]},dt=u.unpack,gt=u.type,mt=b,yt=y,vt=h,bt=ut;yt.prototype.hcg=function(){return bt(this._rgb)},mt.hcg=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(yt,[null].concat(t,["hcg"])))},vt.format.hcg=pt,vt.autodetect.push({p:1,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=dt(t,"hcg"),"array"===gt(t)&&3===t.length)return"hcg"}});var xt=u.unpack,wt=u.last,kt=Math.round,_t=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=xt(t,"rgba"),r=n[0],i=n[1],o=n[2],a=n[3],s=wt(t)||"auto";void 0===a&&(a=1),"auto"===s&&(s=a<1?"rgba":"rgb");var l=(r=kt(r))<<16|(i=kt(i))<<8|(o=kt(o)),c="000000"+l.toString(16);c=c.substr(c.length-6);var u="0"+kt(255*a).toString(16);switch(u=u.substr(u.length-2),s.toLowerCase()){case"rgba":return"#"+c+u;case"argb":return"#"+u+c;default:return"#"+c}},Mt=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,At=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Tt=function(t){if(t.match(Mt)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(At)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var n=parseInt(t,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+t)},Et=b,$t=y,Ot=u.type,St=h,Lt=_t;$t.prototype.hex=function(t){return Lt(this._rgb,t)},Et.hex=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply($t,[null].concat(t,["hex"])))},St.format.hex=Tt,St.autodetect.push({p:4,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===Ot(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var Nt=u.unpack,Ct=u.TWOPI,zt=Math.min,Dt=Math.sqrt,jt=Math.acos,Rt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=Nt(t,"rgb"),i=r[0],o=r[1],a=r[2],s=zt(i/=255,o/=255,a/=255),l=(i+o+a)/3,c=l>0?1-s/l:0;return 0===c?n=NaN:(n=(i-o+(i-a))/2,n/=Dt((i-o)*(i-o)+(i-a)*(o-a)),n=jt(n),a>o&&(n=Ct-n),n/=Ct),[360*n,c,l]},It=u.unpack,Pt=u.limit,Ft=u.TWOPI,Ut=u.PITHIRD,Ht=Math.cos,Bt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=It(t,"hsi"))[0],a=t[1],s=t[2];return isNaN(o)&&(o=0),isNaN(a)&&(a=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?r=1-((i=(1-a)/3)+(n=(1+a*Ht(Ft*o)/Ht(Ut-Ft*o))/3)):o<2/3?i=1-((n=(1-a)/3)+(r=(1+a*Ht(Ft*(o-=1/3))/Ht(Ut-Ft*o))/3)):n=1-((r=(1-a)/3)+(i=(1+a*Ht(Ft*(o-=2/3))/Ht(Ut-Ft*o))/3)),[255*(n=Pt(s*n*3)),255*(r=Pt(s*r*3)),255*(i=Pt(s*i*3)),t.length>3?t[3]:1]},qt=u.unpack,Yt=u.type,Wt=b,Gt=y,Vt=h,Xt=Rt;Gt.prototype.hsi=function(){return Xt(this._rgb)},Wt.hsi=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Gt,[null].concat(t,["hsi"])))},Vt.format.hsi=Bt,Vt.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=qt(t,"hsi"),"array"===Yt(t)&&3===t.length)return"hsi"}});var Kt=u.unpack,Zt=u.type,Jt=b,Qt=y,te=h,ee=z;Qt.prototype.hsl=function(){return ee(this._rgb)},Jt.hsl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Qt,[null].concat(t,["hsl"])))},te.format.hsl=B,te.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Kt(t,"hsl"),"array"===Zt(t)&&3===t.length)return"hsl"}});var ne=u.unpack,re=Math.min,ie=Math.max,oe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=ne(t,"rgb"))[0],a=t[1],s=t[2],l=re(o,a,s),c=ie(o,a,s),u=c-l;return i=c/255,0===c?(n=Number.NaN,r=0):(r=u/c,o===c&&(n=(a-s)/u),a===c&&(n=2+(s-o)/u),s===c&&(n=4+(o-a)/u),(n*=60)<0&&(n+=360)),[n,r,i]},ae=u.unpack,se=Math.floor,le=function(){for(var t,e,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,c,u,h=(a=ae(a,"hsv"))[0],f=a[1],p=a[2];if(p*=255,0===f)l=c=u=p;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var d=se(h/=60),g=h-d,m=p*(1-f),y=p*(1-f*g),v=p*(1-f*(1-g));switch(d){case 0:l=(t=[p,v,m])[0],c=t[1],u=t[2];break;case 1:l=(e=[y,p,m])[0],c=e[1],u=e[2];break;case 2:l=(n=[m,p,v])[0],c=n[1],u=n[2];break;case 3:l=(r=[m,y,p])[0],c=r[1],u=r[2];break;case 4:l=(i=[v,m,p])[0],c=i[1],u=i[2];break;case 5:l=(o=[p,m,y])[0],c=o[1],u=o[2]}}return[l,c,u,a.length>3?a[3]:1]},ce=u.unpack,ue=u.type,he=b,fe=y,pe=h,de=oe;fe.prototype.hsv=function(){return de(this._rgb)},he.hsv=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(fe,[null].concat(t,["hsv"])))},pe.format.hsv=le,pe.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=ce(t,"hsv"),"array"===ue(t)&&3===t.length)return"hsv"}});var ge={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},me=ge,ye=u.unpack,ve=Math.pow,be=function(t){return(t/=255)<=.04045?t/12.92:ve((t+.055)/1.055,2.4)},xe=function(t){return t>me.t3?ve(t,1/3):t/me.t2+me.t0},we=function(t,e,n){return t=be(t),e=be(e),n=be(n),[xe((.4124564*t+.3575761*e+.1804375*n)/me.Xn),xe((.2126729*t+.7151522*e+.072175*n)/me.Yn),xe((.0193339*t+.119192*e+.9503041*n)/me.Zn)]},ke=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=ye(t,"rgb"),r=n[0],i=n[1],o=n[2],a=we(r,i,o),s=a[0],l=a[1],c=a[2],u=116*l-16;return[u<0?0:u,500*(s-l),200*(l-c)]},_e=ge,Me=u.unpack,Ae=Math.pow,Te=function(t){return 255*(t<=.00304?12.92*t:1.055*Ae(t,1/2.4)-.055)},Ee=function(t){return t>_e.t1?t*t*t:_e.t2*(t-_e.t0)},$e=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=Me(t,"lab"))[0],a=t[1],s=t[2];return r=(o+16)/116,n=isNaN(a)?r:r+a/500,i=isNaN(s)?r:r-s/200,r=_e.Yn*Ee(r),n=_e.Xn*Ee(n),i=_e.Zn*Ee(i),[Te(3.2404542*n-1.5371385*r-.4985314*i),Te(-.969266*n+1.8760108*r+.041556*i),Te(.0556434*n-.2040259*r+1.0572252*i),t.length>3?t[3]:1]},Oe=u.unpack,Se=u.type,Le=b,Ne=y,Ce=h,ze=ke;Ne.prototype.lab=function(){return ze(this._rgb)},Le.lab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Ne,[null].concat(t,["lab"])))},Ce.format.lab=$e,Ce.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Oe(t,"lab"),"array"===Se(t)&&3===t.length)return"lab"}});var De=u.unpack,je=u.RAD2DEG,Re=Math.sqrt,Ie=Math.atan2,Pe=Math.round,Fe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=De(t,"lab"),r=n[0],i=n[1],o=n[2],a=Re(i*i+o*o),s=(Ie(o,i)*je+360)%360;return 0===Pe(1e4*a)&&(s=Number.NaN),[r,a,s]},Ue=u.unpack,He=ke,Be=Fe,qe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Ue(t,"rgb"),r=n[0],i=n[1],o=n[2],a=He(r,i,o),s=a[0],l=a[1],c=a[2];return Be(s,l,c)},Ye=u.unpack,We=u.DEG2RAD,Ge=Math.sin,Ve=Math.cos,Xe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Ye(t,"lch"),r=n[0],i=n[1],o=n[2];return isNaN(o)&&(o=0),[r,Ve(o*=We)*i,Ge(o)*i]},Ke=u.unpack,Ze=Xe,Je=$e,Qe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=Ke(t,"lch"))[0],r=t[1],i=t[2],o=Ze(n,r,i),a=o[0],s=o[1],l=o[2],c=Je(a,s,l),u=c[0],h=c[1],f=c[2];return[u,h,f,t.length>3?t[3]:1]},tn=u.unpack,en=Qe,nn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=tn(t,"hcl").reverse();return en.apply(void 0,n)},rn=u.unpack,on=u.type,an=b,sn=y,ln=h,cn=qe;sn.prototype.lch=function(){return cn(this._rgb)},sn.prototype.hcl=function(){return cn(this._rgb).reverse()},an.lch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(sn,[null].concat(t,["lch"])))},an.hcl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(sn,[null].concat(t,["hcl"])))},ln.format.lch=Qe,ln.format.hcl=nn,["lch","hcl"].forEach((function(t){return ln.autodetect.push({p:2,test:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(e=rn(e,t),"array"===on(e)&&3===e.length)return t}})}));var un={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},hn=h,fn=u.type,pn=un,dn=Tt,gn=_t;y.prototype.name=function(){for(var t=gn(this._rgb,"rgb"),e=0,n=Object.keys(pn);e<n.length;e+=1){var r=n[e];if(pn[r]===t)return r.toLowerCase()}return t},hn.format.named=function(t){if(t=t.toLowerCase(),pn[t])return dn(pn[t]);throw new Error("unknown color name: "+t)},hn.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===fn(t)&&pn[t.toLowerCase()])return"named"}});var mn=u.unpack,yn=u.type,vn=function(t){if("number"==yn(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},bn=b,xn=y,wn=h,kn=u.type,_n=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=mn(t,"rgb"),r=n[0],i=n[1],o=n[2];return(r<<16)+(i<<8)+o};xn.prototype.num=function(){return _n(this._rgb)},bn.num=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(xn,[null].concat(t,["num"])))},wn.format.num=vn,wn.autodetect.push({p:5,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(1===t.length&&"number"===kn(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});var Mn=b,An=y,Tn=h,En=u.unpack,$n=u.type,On=Math.round;An.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(On)},An.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map((function(e,n){return n<3?!1===t?e:On(e):e}))},Mn.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(An,[null].concat(t,["rgb"])))},Tn.format.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=En(t,"rgba");return void 0===n[3]&&(n[3]=1),n},Tn.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=En(t,"rgba"),"array"===$n(t)&&(3===t.length||4===t.length&&"number"==$n(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var Sn=Math.log,Ln=function(t){var e,n,r,i=t/100;return i<66?(e=255,n=i<6?0:-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*Sn(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*Sn(r)):(e=351.97690566805693+.114206453784165*(e=i-55)-40.25366309332127*Sn(e),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*Sn(n),r=255),[e,n,r,1]},Nn=Ln,Cn=u.unpack,zn=Math.round,Dn=b,jn=y,Rn=h,In=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n,r=Cn(t,"rgb"),i=r[0],o=r[2],a=1e3,s=4e4,l=.4;s-a>l;){var c=Nn(n=.5*(s+a));c[2]/c[0]>=o/i?s=n:a=n}return zn(n)};jn.prototype.temp=jn.prototype.kelvin=jn.prototype.temperature=function(){return In(this._rgb)},Dn.temp=Dn.kelvin=Dn.temperature=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(jn,[null].concat(t,["temp"])))},Rn.format.temp=Rn.format.kelvin=Rn.format.temperature=Ln;var Pn=u.unpack,Fn=Math.cbrt,Un=Math.pow,Hn=Math.sign,Bn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Pn(t,"rgb"),r=n[0],i=n[1],o=n[2],a=[qn(r/255),qn(i/255),qn(o/255)],s=a[0],l=a[1],c=a[2],u=Fn(.4122214708*s+.5363325363*l+.0514459929*c),h=Fn(.2119034982*s+.6806995451*l+.1073969566*c),f=Fn(.0883024619*s+.2817188376*l+.6299787005*c);return[.2104542553*u+.793617785*h-.0040720468*f,1.9779984951*u-2.428592205*h+.4505937099*f,.0259040371*u+.7827717662*h-.808675766*f]};function qn(t){var e=Math.abs(t);return e<.04045?t/12.92:(Hn(t)||1)*Un((e+.055)/1.055,2.4)}var Yn=u.unpack,Wn=Math.pow,Gn=Math.sign,Vn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=Yn(t,"lab"))[0],r=t[1],i=t[2],o=Wn(n+.3963377774*r+.2158037573*i,3),a=Wn(n-.1055613458*r-.0638541728*i,3),s=Wn(n-.0894841775*r-1.291485548*i,3);return[255*Xn(4.0767416621*o-3.3077115913*a+.2309699292*s),255*Xn(-1.2684380046*o+2.6097574011*a-.3413193965*s),255*Xn(-.0041960863*o-.7034186147*a+1.707614701*s),t.length>3?t[3]:1]};function Xn(t){var e=Math.abs(t);return e>.0031308?(Gn(t)||1)*(1.055*Wn(e,1/2.4)-.055):12.92*t}var Kn=u.unpack,Zn=u.type,Jn=b,Qn=y,tr=h,er=Bn;Qn.prototype.oklab=function(){return er(this._rgb)},Jn.oklab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Qn,[null].concat(t,["oklab"])))},tr.format.oklab=Vn,tr.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Kn(t,"oklab"),"array"===Zn(t)&&3===t.length)return"oklab"}});var nr=u.unpack,rr=Bn,ir=Fe,or=u.unpack,ar=Xe,sr=Vn,lr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=or(t,"lch"))[0],r=t[1],i=t[2],o=ar(n,r,i),a=o[0],s=o[1],l=o[2],c=sr(a,s,l),u=c[0],h=c[1],f=c[2];return[u,h,f,t.length>3?t[3]:1]},cr=u.unpack,ur=u.type,hr=b,fr=y,pr=h,dr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=nr(t,"rgb"),r=n[0],i=n[1],o=n[2],a=rr(r,i,o),s=a[0],l=a[1],c=a[2];return ir(s,l,c)};fr.prototype.oklch=function(){return dr(this._rgb)},hr.oklch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(fr,[null].concat(t,["oklch"])))},pr.format.oklch=lr,pr.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=cr(t,"oklch"),"array"===ur(t)&&3===t.length)return"oklch"}});var gr=y,mr=u.type;gr.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===mr(t)?e?(this._rgb[3]=t,this):new gr([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},y.prototype.clipped=function(){return this._rgb._clipped||!1};var yr=y,vr=ge;yr.prototype.darken=function(t){void 0===t&&(t=1);var e=this.lab();return e[0]-=vr.Kn*t,new yr(e,"lab").alpha(this.alpha(),!0)},yr.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},yr.prototype.darker=yr.prototype.darken,yr.prototype.brighter=yr.prototype.brighten,y.prototype.get=function(t){var e=t.split("."),n=e[0],r=e[1],i=this[n]();if(r){var o=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(o>-1)return i[o];throw new Error("unknown channel "+r+" in mode "+n)}return i};var br=y,xr=u.type,wr=Math.pow;br.prototype.luminance=function(t){if(void 0!==t&&"number"===xr(t)){if(0===t)return new br([0,0,0,this._rgb[3]],"rgb");if(1===t)return new br([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n=20,r=function(e,i){var o=e.interpolate(i,.5,"rgb"),a=o.luminance();return Math.abs(t-a)<1e-7||!n--?o:a>t?r(e,o):r(o,i)},i=(e>t?r(new br([0,0,0]),this):r(this,new br([255,255,255]))).rgb();return new br(i.concat([this._rgb[3]]))}return kr.apply(void 0,this._rgb.slice(0,3))};var kr=function(t,e,n){return.2126*(t=_r(t))+.7152*(e=_r(e))+.0722*(n=_r(n))},_r=function(t){return(t/=255)<=.03928?t/12.92:wr((t+.055)/1.055,2.4)},Mr={},Ar=y,Tr=u.type,Er=Mr,$r=function(t,e,n){void 0===n&&(n=.5);for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];var o=r[0]||"lrgb";if(Er[o]||r.length||(o=Object.keys(Er)[0]),!Er[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==Tr(t)&&(t=new Ar(t)),"object"!==Tr(e)&&(e=new Ar(e)),Er[o](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))},Or=y,Sr=$r;Or.prototype.mix=Or.prototype.interpolate=function(t,e){void 0===e&&(e=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Sr.apply(void 0,[this,t,e].concat(n))};var Lr=y;Lr.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new Lr([e[0]*n,e[1]*n,e[2]*n,n],"rgb")};var Nr=y,Cr=ge;Nr.prototype.saturate=function(t){void 0===t&&(t=1);var e=this.lch();return e[1]+=Cr.Kn*t,e[1]<0&&(e[1]=0),new Nr(e,"lch").alpha(this.alpha(),!0)},Nr.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var zr=y,Dr=u.type;zr.prototype.set=function(t,e,n){void 0===n&&(n=!1);var r=t.split("."),i=r[0],o=r[1],a=this[i]();if(o){var s=i.indexOf(o)-("ok"===i.substr(0,2)?2:0);if(s>-1){if("string"==Dr(e))switch(e.charAt(0)){case"+":case"-":a[s]+=+e;break;case"*":a[s]*=+e.substr(1);break;case"/":a[s]/=+e.substr(1);break;default:a[s]=+e}else{if("number"!==Dr(e))throw new Error("unsupported value for Color.set");a[s]=e}var l=new zr(a,i);return n?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+o+" in mode "+i)}return a};var jr=y;Mr.rgb=function(t,e,n){var r=t._rgb,i=e._rgb;return new jr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};var Rr=y,Ir=Math.sqrt,Pr=Math.pow;Mr.lrgb=function(t,e,n){var r=t._rgb,i=r[0],o=r[1],a=r[2],s=e._rgb,l=s[0],c=s[1],u=s[2];return new Rr(Ir(Pr(i,2)*(1-n)+Pr(l,2)*n),Ir(Pr(o,2)*(1-n)+Pr(c,2)*n),Ir(Pr(a,2)*(1-n)+Pr(u,2)*n),"rgb")};var Fr=y;Mr.lab=function(t,e,n){var r=t.lab(),i=e.lab();return new Fr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};var Ur=y,Hr=function(t,e,n,r){var i,o,a,s,l,c,u,h,f,p,d,g,m;return"hsl"===r?(a=t.hsl(),s=e.hsl()):"hsv"===r?(a=t.hsv(),s=e.hsv()):"hcg"===r?(a=t.hcg(),s=e.hcg()):"hsi"===r?(a=t.hsi(),s=e.hsi()):"lch"===r||"hcl"===r?(r="hcl",a=t.hcl(),s=e.hcl()):"oklch"===r&&(a=t.oklch().reverse(),s=e.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(l=(i=a)[0],u=i[1],f=i[2],c=(o=s)[0],h=o[1],p=o[2]),isNaN(l)||isNaN(c)?isNaN(l)?isNaN(c)?g=Number.NaN:(g=c,1!=f&&0!=f||"hsv"==r||(d=h)):(g=l,1!=p&&0!=p||"hsv"==r||(d=u)):g=l+n*(c>l&&c-l>180?c-(l+360):c<l&&l-c>180?c+360-l:c-l),void 0===d&&(d=u+n*(h-u)),m=f+n*(p-f),new Ur("oklch"===r?[m,d,g]:[g,d,m],r)},Br=Hr,qr=function(t,e,n){return Br(t,e,n,"lch")};Mr.lch=qr,Mr.hcl=qr;var Yr=y;Mr.num=function(t,e,n){var r=t.num(),i=e.num();return new Yr(r+n*(i-r),"num")};var Wr=Hr;Mr.hcg=function(t,e,n){return Wr(t,e,n,"hcg")};var Gr=Hr;Mr.hsi=function(t,e,n){return Gr(t,e,n,"hsi")};var Vr=Hr;Mr.hsl=function(t,e,n){return Vr(t,e,n,"hsl")};var Xr=Hr;Mr.hsv=function(t,e,n){return Xr(t,e,n,"hsv")};var Kr=y;Mr.oklab=function(t,e,n){var r=t.oklab(),i=e.oklab();return new Kr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"oklab")};var Zr=Hr;Mr.oklch=function(t,e,n){return Zr(t,e,n,"oklch")};var Jr=y,Qr=u.clip_rgb,ti=Math.pow,ei=Math.sqrt,ni=Math.PI,ri=Math.cos,ii=Math.sin,oi=Math.atan2,ai=function(t,e){for(var n=t.length,r=[0,0,0,0],i=0;i<t.length;i++){var o=t[i],a=e[i]/n,s=o._rgb;r[0]+=ti(s[0],2)*a,r[1]+=ti(s[1],2)*a,r[2]+=ti(s[2],2)*a,r[3]+=s[3]*a}return r[0]=ei(r[0]),r[1]=ei(r[1]),r[2]=ei(r[2]),r[3]>.9999999&&(r[3]=1),new Jr(Qr(r))},si=b,li=u.type,ci=Math.pow,ui=function(t){var e="rgb",n=si("#ccc"),r=0,i=[0,1],o=[],a=[0,0],s=!1,l=[],c=!1,u=0,h=1,f=!1,p={},d=!0,g=1,m=function(t){if((t=t||["#fff","#000"])&&"string"===li(t)&&si.brewer&&si.brewer[t.toLowerCase()]&&(t=si.brewer[t.toLowerCase()]),"array"===li(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=si(t[e]);o.length=0;for(var n=0;n<t.length;n++)o.push(n/(t.length-1))}return x(),l=t},y=function(t){return t},v=function(t){return t},b=function(t,r){var i,c;if(null==r&&(r=!1),isNaN(t)||null===t)return n;c=r?t:s&&s.length>2?function(t){if(null!=s){for(var e=s.length-1,n=0;n<e&&t>=s[n];)n++;return n-1}return 0}(t)/(s.length-2):h!==u?(t-u)/(h-u):1,c=v(c),r||(c=y(c)),1!==g&&(c=ci(c,g)),c=a[0]+c*(1-a[0]-a[1]),c=Math.min(1,Math.max(0,c));var f=Math.floor(1e4*c);if(d&&p[f])i=p[f];else{if("array"===li(l))for(var m=0;m<o.length;m++){var b=o[m];if(c<=b){i=l[m];break}if(c>=b&&m===o.length-1){i=l[m];break}if(c>b&&c<o[m+1]){c=(c-b)/(o[m+1]-b),i=si.interpolate(l[m],l[m+1],c,e);break}}else"function"===li(l)&&(i=l(c));d&&(p[f]=i)}return i},x=function(){return p={}};m(t);var w=function(t){var e=si(b(t));return c&&e[c]?e[c]():e};return w.classes=function(t){if(null!=t){if("array"===li(t))s=t,i=[t[0],t[t.length-1]];else{var e=si.analyze(i);s=0===t?[e.min,e.max]:si.limits(e,"e",t)}return w}return s},w.domain=function(t){if(!arguments.length)return i;u=t[0],h=t[t.length-1],o=[];var e=l.length;if(t.length===e&&u!==h)for(var n=0,r=Array.from(t);n<r.length;n+=1){var a=r[n];o.push((a-u)/(h-u))}else{for(var s=0;s<e;s++)o.push(s/(e-1));if(t.length>2){var c=t.map((function(e,n){return n/(t.length-1)})),f=t.map((function(t){return(t-u)/(h-u)}));f.every((function(t,e){return c[e]===t}))||(v=function(t){if(t<=0||t>=1)return t;for(var e=0;t>=f[e+1];)e++;var n=(t-f[e])/(f[e+1]-f[e]);return c[e]+n*(c[e+1]-c[e])})}}return i=[u,h],w},w.mode=function(t){return arguments.length?(e=t,x(),w):e},w.range=function(t,e){return m(t),w},w.out=function(t){return c=t,w},w.spread=function(t){return arguments.length?(r=t,w):r},w.correctLightness=function(t){return null==t&&(t=!0),f=t,x(),y=f?function(t){for(var e=b(0,!0).lab()[0],n=b(1,!0).lab()[0],r=e>n,i=b(t,!0).lab()[0],o=e+(n-e)*t,a=i-o,s=0,l=1,c=20;Math.abs(a)>.01&&c-- >0;)r&&(a*=-1),a<0?(s=t,t+=.5*(l-t)):(l=t,t+=.5*(s-t)),i=b(t,!0).lab()[0],a=i-o;return t}:function(t){return t},w},w.padding=function(t){return null!=t?("number"===li(t)&&(t=[t,t]),a=t,w):a},w.colors=function(e,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=l.slice(0);else if(1===e)r=[w(.5)];else if(e>1){var o=i[0],a=i[1]-o;r=hi(0,e,!1).map((function(t){return w(o+t/(e-1)*a)}))}else{t=[];var c=[];if(s&&s.length>2)for(var u=1,h=s.length,f=1<=h;f?u<h:u>h;f?u++:u--)c.push(.5*(s[u-1]+s[u]));else c=i;r=c.map((function(t){return w(t)}))}return si[n]&&(r=r.map((function(t){return t[n]()}))),r},w.cache=function(t){return null!=t?(d=t,w):d},w.gamma=function(t){return null!=t?(g=t,w):g},w.nodata=function(t){return null!=t?(n=si(t),w):n},w};function hi(t,e,n){for(var r=[],i=t<e,o=n?i?e+1:e-1:e,a=t;i?a<o:a>o;i?a++:a--)r.push(a);return r}var fi=y,pi=ui,di=function(t){var e,n,r,i,o,a,s;if(2===(t=t.map((function(t){return new fi(t)}))).length)e=t.map((function(t){return t.lab()})),o=e[0],a=e[1],i=function(t){var e=[0,1,2].map((function(e){return o[e]+t*(a[e]-o[e])}));return new fi(e,"lab")};else if(3===t.length)n=t.map((function(t){return t.lab()})),o=n[0],a=n[1],s=n[2],i=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*o[e]+2*(1-t)*t*a[e]+t*t*s[e]}));return new fi(e,"lab")};else if(4===t.length){var l;r=t.map((function(t){return t.lab()})),o=r[0],a=r[1],s=r[2],l=r[3],i=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*(1-t)*o[e]+3*(1-t)*(1-t)*t*a[e]+3*(1-t)*t*t*s[e]+t*t*t*l[e]}));return new fi(e,"lab")}}else{if(!(t.length>=5))throw new RangeError("No point in running bezier with only one color.");var c,u,h;c=t.map((function(t){return t.lab()})),h=t.length-1,u=function(t){for(var e=[1,1],n=1;n<t;n++){for(var r=[1],i=1;i<=e.length;i++)r[i]=(e[i]||0)+e[i-1];e=r}return e}(h),i=function(t){var e=1-t,n=[0,1,2].map((function(n){return c.reduce((function(r,i,o){return r+u[o]*Math.pow(e,h-o)*Math.pow(t,o)*i[n]}),0)}));return new fi(n,"lab")}}return i},gi=b,mi=function(t,e,n){if(!mi[n])throw new Error("unknown blend mode "+n);return mi[n](t,e)},yi=function(t){return function(e,n){var r=gi(n).rgb(),i=gi(e).rgb();return gi.rgb(t(r,i))}},vi=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}};mi.normal=yi(vi((function(t){return t}))),mi.multiply=yi(vi((function(t,e){return t*e/255}))),mi.screen=yi(vi((function(t,e){return 255*(1-(1-t/255)*(1-e/255))}))),mi.overlay=yi(vi((function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))}))),mi.darken=yi(vi((function(t,e){return t>e?e:t}))),mi.lighten=yi(vi((function(t,e){return t>e?t:e}))),mi.dodge=yi(vi((function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t}))),mi.burn=yi(vi((function(t,e){return 255*(1-(1-e/255)/(t/255))})));for(var bi=mi,xi=u.type,wi=u.clip_rgb,ki=u.TWOPI,_i=Math.pow,Mi=Math.sin,Ai=Math.cos,Ti=b,Ei=y,$i=Math.floor,Oi=Math.random,Si=a,Li=Math.log,Ni=Math.pow,Ci=Math.floor,zi=Math.abs,Di=function(t,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Si(t)&&(t=Object.values(t)),t.forEach((function(t){e&&"object"===Si(t)&&(t=t[e]),null==t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(t,e){return ji(n,t,e)},n},ji=function(t,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==Si(t)&&(t=Di(t));var r=t.min,i=t.max,o=t.values.sort((function(t,e){return t-e}));if(1===n)return[r,i];var a=[];if("c"===e.substr(0,1)&&(a.push(r),a.push(i)),"e"===e.substr(0,1)){a.push(r);for(var s=1;s<n;s++)a.push(r+s/n*(i-r));a.push(i)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*Li(r),c=Math.LOG10E*Li(i);a.push(r);for(var u=1;u<n;u++)a.push(Ni(10,l+u/n*(c-l)));a.push(i)}else if("q"===e.substr(0,1)){a.push(r);for(var h=1;h<n;h++){var f=(o.length-1)*h/n,p=Ci(f);if(p===f)a.push(o[p]);else{var d=f-p;a.push(o[p]*(1-d)+o[p+1]*d)}}a.push(i)}else if("k"===e.substr(0,1)){var g,m=o.length,y=new Array(m),v=new Array(n),b=!0,x=0,w=null;(w=[]).push(r);for(var k=1;k<n;k++)w.push(r+k/n*(i-r));for(w.push(i);b;){for(var _=0;_<n;_++)v[_]=0;for(var M=0;M<m;M++)for(var A=o[M],T=Number.MAX_VALUE,E=void 0,$=0;$<n;$++){var O=zi(w[$]-A);O<T&&(T=O,E=$),v[E]++,y[M]=E}for(var S=new Array(n),L=0;L<n;L++)S[L]=null;for(var N=0;N<m;N++)null===S[g=y[N]]?S[g]=o[N]:S[g]+=o[N];for(var C=0;C<n;C++)S[C]*=1/v[C];b=!1;for(var z=0;z<n;z++)if(S[z]!==w[z]){b=!0;break}w=S,++x>200&&(b=!1)}for(var D={},j=0;j<n;j++)D[j]=[];for(var R=0;R<m;R++)D[g=y[R]].push(o[R]);for(var I=[],P=0;P<n;P++)I.push(D[P][0]),I.push(D[P][D[P].length-1]);I=I.sort((function(t,e){return t-e})),a.push(I[0]);for(var F=1;F<I.length;F+=2){var U=I[F];isNaN(U)||-1!==a.indexOf(U)||a.push(U)}}return a},Ri={analyze:Di,limits:ji},Ii=y,Pi=y,Fi=Math.sqrt,Ui=Math.pow,Hi=Math.min,Bi=Math.max,qi=Math.atan2,Yi=Math.abs,Wi=Math.cos,Gi=Math.sin,Vi=Math.exp,Xi=Math.PI,Ki=y,Zi=y,Ji=b,Qi=ui,to={cool:function(){return Qi([Ji.hsl(180,1,.9),Ji.hsl(250,.7,.4)])},hot:function(){return Qi(["#000","#f00","#ff0","#fff"]).mode("rgb")}},eo={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},no=0,ro=Object.keys(eo);no<ro.length;no+=1){var io=ro[no];eo[io.toLowerCase()]=eo[io]}var oo=eo,ao=b;return ao.average=function(t,e,n){void 0===e&&(e="lrgb"),void 0===n&&(n=null);var r=t.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var i=r/n.reduce((function(t,e){return t+e}));if(n.forEach((function(t,e){n[e]*=i})),t=t.map((function(t){return new Jr(t)})),"lrgb"===e)return ai(t,n);for(var o=t.shift(),a=o.get(e),s=[],l=0,c=0,u=0;u<a.length;u++)if(a[u]=(a[u]||0)*n[0],s.push(isNaN(a[u])?0:n[0]),"h"===e.charAt(u)&&!isNaN(a[u])){var h=a[u]/180*ni;l+=ri(h)*n[0],c+=ii(h)*n[0]}var f=o.alpha()*n[0];t.forEach((function(t,r){var i=t.get(e);f+=t.alpha()*n[r+1];for(var o=0;o<a.length;o++)if(!isNaN(i[o]))if(s[o]+=n[r+1],"h"===e.charAt(o)){var u=i[o]/180*ni;l+=ri(u)*n[r+1],c+=ii(u)*n[r+1]}else a[o]+=i[o]*n[r+1]}));for(var p=0;p<a.length;p++)if("h"===e.charAt(p)){for(var d=oi(c/s[p],l/s[p])/ni*180;d<0;)d+=360;for(;d>=360;)d-=360;a[p]=d}else a[p]=a[p]/s[p];return f/=r,new Jr(a,e).alpha(f>.99999?1:f,!0)},ao.bezier=function(t){var e=di(t);return e.scale=function(){return pi(e)},e},ao.blend=bi,ao.cubehelix=function(t,e,n,r,i){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var o,a=0;"array"===xi(i)?o=i[1]-i[0]:(o=0,i=[i,i]);var s=function(s){var l=ki*((t+120)/360+e*s),c=_i(i[0]+o*s,r),u=(0!==a?n[0]+s*a:n)*c*(1-c)/2,h=Ai(l),f=Mi(l);return Ti(wi([255*(c+u*(-.14861*h+1.78277*f)),255*(c+u*(-.29227*h-.90649*f)),255*(c+u*(1.97294*h)),1]))};return s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?r:(r=t,s)},s.hue=function(t){return null==t?n:("array"===xi(n=t)?0==(a=n[1]-n[0])&&(n=n[1]):a=0,s)},s.lightness=function(t){return null==t?i:("array"===xi(t)?(i=t,o=t[1]-t[0]):(i=[t,t],o=0),s)},s.scale=function(){return Ti.scale(s)},s.hue(n),s},ao.mix=ao.interpolate=$r,ao.random=function(){for(var t="#",e=0;e<6;e++)t+="0123456789abcdef".charAt($i(16*Oi()));return new Ei(t,"hex")},ao.scale=ui,ao.analyze=Ri.analyze,ao.contrast=function(t,e){t=new Ii(t),e=new Ii(e);var n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},ao.deltaE=function(t,e,n,r,i){void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=1);var o=function(t){return 360*t/(2*Xi)},a=function(t){return 2*Xi*t/360};t=new Pi(t),e=new Pi(e);var s=Array.from(t.lab()),l=s[0],c=s[1],u=s[2],h=Array.from(e.lab()),f=h[0],p=h[1],d=h[2],g=(l+f)/2,m=(Fi(Ui(c,2)+Ui(u,2))+Fi(Ui(p,2)+Ui(d,2)))/2,y=.5*(1-Fi(Ui(m,7)/(Ui(m,7)+Ui(25,7)))),v=c*(1+y),b=p*(1+y),x=Fi(Ui(v,2)+Ui(u,2)),w=Fi(Ui(b,2)+Ui(d,2)),k=(x+w)/2,_=o(qi(u,v)),M=o(qi(d,b)),A=_>=0?_:_+360,T=M>=0?M:M+360,E=Yi(A-T)>180?(A+T+360)/2:(A+T)/2,$=1-.17*Wi(a(E-30))+.24*Wi(a(2*E))+.32*Wi(a(3*E+6))-.2*Wi(a(4*E-63)),O=T-A;O=Yi(O)<=180?O:T<=A?O+360:O-360,O=2*Fi(x*w)*Gi(a(O)/2);var S=f-l,L=w-x,N=1+.015*Ui(g-50,2)/Fi(20+Ui(g-50,2)),C=1+.045*k,z=1+.015*k*$,D=30*Vi(-Ui((E-275)/25,2)),j=-2*Fi(Ui(k,7)/(Ui(k,7)+Ui(25,7)))*Gi(2*a(D)),R=Fi(Ui(S/(n*N),2)+Ui(L/(r*C),2)+Ui(O/(i*z),2)+j*(L/(r*C))*(O/(i*z)));return Bi(0,Hi(100,R))},ao.distance=function(t,e,n){void 0===n&&(n="lab"),t=new Ki(t),e=new Ki(e);var r=t.get(n),i=e.get(n),o=0;for(var a in r){var s=(r[a]||0)-(i[a]||0);o+=s*s}return Math.sqrt(o)},ao.limits=Ri.limits,ao.valid=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];try{return new(Function.prototype.bind.apply(Zi,[null].concat(t))),!0}catch(t){return!1}},ao.scales=to,ao.colors=un,ao.brewer=oo,ao}();var _d=lo(kd.exports);function Md(t,e){const n=Mh(t,"colors.background","#ffffff"),r=Mh(t,"colors.chartContentBaseColor",e.contrast(n,"#000000")<5.5?"#f1f1f1":"#333333"),i={tickText:{secondary:Mh(t,"colors.bgBlendRatios.tickText.secondary",e(n).luminance()<.5?.6:.4),primary:Mh(t,"colors.bgBlendRatios.tickText.primary",.2)},series:Mh(t,"colors.bgBlendRatios.series",0),value:Mh(t,"colors.bgBlendRatios.value",.2),axis:Mh(t,"colors.bgBlendRatios.axis",0),gridline:Mh(t,"colors.bgBlendRatios.gridline",.82)};return{tickText:{secondary:e.mix(r,n,i.tickText.secondary).hex(),primary:e.mix(r,n,i.tickText.primary).hex()},series:e.mix(r,n,i.series).hex(),value:e.mix(r,n,i.value).hex(),axis:e.mix(r,n,i.axis).hex(),gridline:e.mix(r,n,i.gridline).hex(),fallbackBaseColor:r,blendColor:t=>e.mix(r,n,t).hex()}}function Ad(t){const{fallbackBaseColor:e}=Md(t,_d);return{fallback:e,tooltipText:Mh(t,"vis.d3-lines.labels.tooltip.color",cd(t,"color",e))}}function Td(t,e){return"number"===e?gd(t):"date"!==e||function(t){return Es(t)&&!isNaN(t.getTime())}(t)}const Ed={title:"",width:"style0",dash:"style0",bgStroke:!1,directLabel:!0,colorKey:!1,labelLastValue:!1,valueLabels:!1,symbols:{enabled:!1,on:"both",size:3.5,opacity:1,shape:"circle",style:"fill"}};function $d(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.fromEntries(t.map(t=>{const r=t.name();return[r,af(Od(n),e[r]||{})]}))}function Od(t){const e=Mh(t,"vis.d3-lines.lines.defaultSettings",{});return af(Ed,e)}function Sd(){}function Ld(t){return t()}function Nd(){return Object.create(null)}function Cd(t){t.forEach(Ld)}function zd(t){return"function"==typeof t}function Dd(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const jd="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Rd(t,e){t.appendChild(e)}function Id(t,e,n){const r=function(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;if(e&&e.host)return e;return t.ownerDocument}(t);if(!r.getElementById(e)){const t=Hd("style");t.id=e,t.textContent=n,function(t,e){Rd(t.head||t,e),e.sheet}(r,t)}}function Pd(t,e,n){t.insertBefore(e,n||null)}function Fd(t){t.parentNode&&t.parentNode.removeChild(t)}function Ud(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Hd(t){return document.createElement(t)}function Bd(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function qd(t){return document.createTextNode(t)}function Yd(){return qd(" ")}function Wd(){return qd("")}function Gd(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Vd(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function Xd(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Kd(t){return Array.from(t.childNodes)}function Zd(t,e){e=""+e,t.data!==e&&(t.data=e)}function Jd(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Qd(t,e,n){t.classList[n?"add":"remove"](e)}function tg(t,e){let{bubbles:n=!1,cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}class eg{constructor(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.e||(this.is_svg?this.e=Bd(e.nodeName):this.e=Hd(11===e.nodeType?"TEMPLATE":e.nodeName),this.t="TEMPLATE"!==e.tagName?e:e.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)Pd(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(Fd)}}let ng;function rg(t){ng=t}function ig(){if(!ng)throw new Error("Function called outside component initialization");return ng}function og(t){ig().$$.after_update.push(t)}function ag(){const t=ig();return function(e,n){let{cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.$$.callbacks[e];if(i){const o=tg(e,n,{cancelable:r});return i.slice().forEach(e=>{e.call(t,o)}),!o.defaultPrevented}return!0}}function sg(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const lg=[],cg=[];let ug=[];const hg=[],fg=Promise.resolve();let pg=!1;function dg(){pg||(pg=!0,fg.then(bg))}function gg(t){ug.push(t)}function mg(t){hg.push(t)}const yg=new Set;let vg=0;function bg(){if(0!==vg)return;const t=ng;do{try{for(;vg<lg.length;){const t=lg[vg];vg++,rg(t),xg(t.$$)}}catch(t){throw lg.length=0,vg=0,t}for(rg(null),lg.length=0,vg=0;cg.length;)cg.pop()();for(let t=0;t<ug.length;t+=1){const e=ug[t];yg.has(e)||(yg.add(e),e())}ug.length=0}while(lg.length);for(;hg.length;)hg.pop()();pg=!1,yg.clear(),rg(t)}function xg(t){if(null!==t.fragment){t.update(),Cd(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(gg)}}const wg=new Set;let kg;function _g(){kg={r:0,c:[],p:kg}}function Mg(){kg.r||Cd(kg.c),kg=kg.p}function Ag(t,e){t&&t.i&&(wg.delete(t),t.i(e))}function Tg(t,e,n,r){if(t&&t.o){if(wg.has(t))return;wg.add(t),kg.c.push(()=>{wg.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Eg(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function $g(t){t&&t.c()}function Og(t,e,n,r){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),r||gg(()=>{const e=t.$$.on_mount.map(Ld).filter(zd);t.$$.on_destroy?t.$$.on_destroy.push(...e):Cd(e),t.$$.on_mount=[]}),o.forEach(gg)}function Sg(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];ug.forEach(r=>-1===t.indexOf(r)?e.push(r):n.push(r)),n.forEach(t=>t()),ug=e}(n.after_update),Cd(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Lg(t,e){-1===t.$$.dirty[0]&&(lg.push(t),dg(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ng(t,e,n,r,i,o,a){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1];const l=ng;rg(t);const c=t.$$={fragment:null,ctx:[],props:o,update:Sd,not_equal:i,bound:Nd(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Nd(),dirty:s,skip_bound:!1,root:e.target||l.$$.root};a&&a(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(function(e,n){const r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return c.ctx&&i(c.ctx[e],c.ctx[e]=r)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](r),u&&Lg(t,e)),n})):[],c.update(),u=!0,Cd(c.before_update),c.fragment=!!r&&r(c.ctx),e.target){if(e.hydrate){const t=Kd(e.target);c.fragment&&c.fragment.l(t),t.forEach(Fd)}else c.fragment&&c.fragment.c();e.intro&&Ag(t.$$.fragment),Og(t,e.target,e.anchor,e.customElement),bg()}rg(l)}class Cg{$destroy(){Sg(this,1),this.$destroy=Sd}$on(t,e){if(!zd(e))return Sd;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function zg(){var t=window.getSelection();t&&t.removeAllRanges()}function Dg(t){var e=t.start,n=t.end,r=t.bounds,i=t.type,o=t.move,a="x"===i?r.x:r.y,s="x"===i?r.x+r.width:r.y+r.height;return function(t,e,n,r){return t>=n&&e<=r}(e,n,a,s)||function(t,e,n){return t>e&&n<0}(n,s,o)||function(t,e,n){return t<e&&n>0}(e,a,o)}function jg(t){Id(t,"svelte-gqfmpf",".resizers.svelte-gqfmpf.svelte-gqfmpf{width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:none}.resizer.svelte-gqfmpf.svelte-gqfmpf{position:absolute;display:flex;align-items:center;justify-content:center;pointer-events:auto}.resizer.x.svelte-gqfmpf.svelte-gqfmpf{top:0;width:5px;height:100%;cursor:ew-resize}.resizer.y.svelte-gqfmpf.svelte-gqfmpf{height:5px;width:100%;left:0;cursor:ns-resize}.resizer.drag.svelte-gqfmpf.svelte-gqfmpf{cursor:grab}.resizer.drag.svelte-gqfmpf.svelte-gqfmpf:active{cursor:grabbing}.resizer-inner.svelte-gqfmpf.svelte-gqfmpf{position:absolute;border-radius:2px;background:rgba(255, 0, 221, 0.35);opacity:0;transition:opacity 0.2s}.resizer.x.svelte-gqfmpf .resizer-inner.svelte-gqfmpf{width:5px;height:50%;min-height:10px;max-height:40px}.resizer.y.svelte-gqfmpf .resizer-inner.svelte-gqfmpf{height:5px;width:50%;min-width:10px;max-width:40px}.text:hover .resizer-inner.svelte-gqfmpf.svelte-gqfmpf,.range-annotation:hover .resizer-inner.svelte-gqfmpf.svelte-gqfmpf{opacity:1}")}function Rg(t,e,n){const r=t.slice();return r[21]=e[n],r}function Ig(t){let e,n,r,i,o,a,s;function l(...e){return t[18](t[21],...e)}return{c(){e=Hd("div"),n=Hd("div"),r=Yd(),Xd(n,"class","resizer-inner svelte-gqfmpf"),Xd(e,"class",i="resizer "+t[7]+" svelte-gqfmpf"),Xd(e,"style",o=t[8](t[21],t[6],t[1],t[2])),Qd(e,"drag","line"===t[0].display),Jd(e,"display",Fg(t[21],t[3],t[4])?"none":null)},m(t,i){Pd(t,e,i),Rd(e,n),Rd(e,r),a||(s=Gd(e,"mousedown",l),a=!0)},p(n,r){t=n,128&r&&i!==(i="resizer "+t[7]+" svelte-gqfmpf")&&Xd(e,"class",i),102&r&&o!==(o=t[8](t[21],t[6],t[1],t[2]))&&Xd(e,"style",o),129&r&&Qd(e,"drag","line"===t[0].display);(102&r||126&r)&&Jd(e,"display",Fg(t[21],t[3],t[4])?"none":null)},d(t){t&&Fd(e),a=!1,s()}}}function Pg(t){let e,n=t[5],r=[];for(let e=0;e<n.length;e+=1)r[e]=Ig(Rg(t,n,e));return{c(){e=Hd("div");for(let t=0;t<r.length;t+=1)r[t].c();Xd(e,"class","resizers svelte-gqfmpf")},m(t,n){Pd(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,[i]){if(1023&i){let o;for(n=t[5],o=0;o<n.length;o+=1){const a=Rg(t,n,o);r[o]?r[o].p(a,i):(r[o]=Ig(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:Sd,o:Sd,d(t){t&&Fd(e),Ud(r,t)}}}function Fg(t,e,n){return e&&("t"===t||"l"===t)||n&&("b"===t||"r"===t)}function Ug(t,e,n){let r,i,o,{annotation:a}=e,{type:s}=e,{index:l}=e,{repeatedIndex:c}=e,{activeResizer:u}=e,{resizing:h=!1}=e,{noOffsetAtEventStart:f=!1}=e,{orientation:p}=e,{lineOverPlotStart:d=!1}=e,{lineOverPlotEnd:g=!1}=e,{rangeOverPlotStart:m=!1}=e,{rangeOverPlotEnd:y=!1}=e;const v=ag();let b;const x={l:"left",r:"right",t:"top",b:"bottom"};function w(t,e){t.stopPropagation(),zg(),v("selectAnnotation",{type:s,index:l,repeatedIndex:c,id:a.id}),void 0===a.width&&v("setWidth"),n(10,u=e),n(11,h=!0),n(12,f=0===a.dx&&0===a.dy)}return t.$$set=t=>{"annotation"in t&&n(0,a=t.annotation),"type"in t&&n(13,s=t.type),"index"in t&&n(14,l=t.index),"repeatedIndex"in t&&n(15,c=t.repeatedIndex),"activeResizer"in t&&n(10,u=t.activeResizer),"resizing"in t&&n(11,h=t.resizing),"noOffsetAtEventStart"in t&&n(12,f=t.noOffsetAtEventStart),"orientation"in t&&n(16,p=t.orientation),"lineOverPlotStart"in t&&n(1,d=t.lineOverPlotStart),"lineOverPlotEnd"in t&&n(2,g=t.lineOverPlotEnd),"rangeOverPlotStart"in t&&n(3,m=t.rangeOverPlotStart),"rangeOverPlotEnd"in t&&n(4,y=t.rangeOverPlotEnd)},t.$$.update=()=>{65537&t.$$.dirty&&n(5,b="y"===p?"line"===a.display?["t"]:["t","b"]:"line"===a.display?["l"]:["l","r"]),65536&t.$$.dirty&&n(7,r="y"===p?"y":"x"),1&t.$$.dirty&&n(17,i=a.strokeWidth||1),131073&t.$$.dirty&&n(6,o="line"===a.display?i:1)},[a,d,g,m,y,b,o,r,function(t,e,n,r){let i=e/2+2.5;return n&&(i-=e),r&&(i+=e),`${x[t]}: -${i}px`},w,u,h,f,s,l,c,p,i,(t,e)=>w(e,t)]}class Hg extends Cg{constructor(t){super(),Ng(this,t,Ug,Pg,Dd,{annotation:0,type:13,index:14,repeatedIndex:15,activeResizer:10,resizing:11,noOffsetAtEventStart:12,orientation:16,lineOverPlotStart:1,lineOverPlotEnd:2,rangeOverPlotStart:3,rangeOverPlotEnd:4},jg)}}const Bg=Math.cos(.25*Math.PI),qg=Math.sin(.25*Math.PI);function Yg(t){let[e,n]=t;return[e*Bg-n*qg,e*qg+n*Bg]}function Wg(t){let[e,n]=t;return[e*Bg+n*qg,n*Bg-e*qg]}function Gg(t,e,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=r?1:0,o=(n-t[i])/(e[i]-t[i]);if(o<0||o>1)return null;const a=r?0:1;return t[a]+o*(e[a]-t[a])}function Vg(t,e,n,r,i,o,a){if(r!==o&&i!==a)throw new Error("only horizontal and vertical lines are supported");const s=i===a;return function(t,e,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const o=i?1:0;let a=t[o]-2*e[o]+n[o];a||(a=.1);const s=2*(e[o]-t[o]),l=t[o]-r,c=(-s+Math.sqrt(s*s-4*a*l))/(2*a),u=(-s-Math.sqrt(s*s-4*a*l))/(2*a),h=i?0:1,f=[];if(c>=0&&c<=1){const o=Math.pow(1-c,2)*t[h]+2*(1-c)*c*e[h]+c*c*n[h];f.push(i?[o,r,c]:[r,o,c])}if(u>=0&&u<=1){const o=Math.pow(1-u,2)*t[h]+2*(1-u)*u*e[h]+u*u*n[h];f.push(i?[o,r,u]:[r,o,u])}return f}(t,e,n,s?i:r,s).filter(t=>{let[e,n]=t;return s?e>=r&&e<=o:n>=i&&n<=a})}function Xg(t,e,n,r,i,o,a){const s=[[r,i,r+o,i],[r+o,i,r+o,i+a],[r,i+a,r+o,i+a],[r,i,r,i+a]],l=[];for(const r of s){const i=Vg(t,e,n,...r);for(const t of i)l.push(t)}return l}function Kg(t,e,n,r){const i=Math.pow(1-r,2)*t[0]+2*(1-r)*r*e[0]+r*r*n[0],o=Math.pow(1-r,2)*t[1]+2*(1-r)*r*e[1]+r*r*n[1];return[t,[(1-r)*t[0]+r*e[0],(1-r)*t[1]+r*e[1]],[i,o],[i,o],[(1-r)*e[0]+r*n[0],(1-r)*e[1]+r*n[1]],n]}function Zg(t,e,n,r){let i,o,a=0,s=1;let l=20;do{if(i=.5*(a+s),o=c(i),Math.abs(o-r)<.1)return i;o>r?a=i:s=i}while(l-- >0);return i;function c(r){const i=(1-r)**2*t[0]+2*(1-r)*r*e[0]+r*r*n[0],o=(1-r)**2*t[1]+2*(1-r)*r*e[1]+r*r*n[1];return Math.sqrt((i-n[0])**2+(o-n[1])**2)}}function Jg(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.25,o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const a=n-t,s=r-e,l=s,c=-a,u=.5*(t+n),h=.5*(e+r),f=Math.sqrt(l*l+c*c),p=Math.sqrt(a*a+s*s),d=p*i/f*(o?-1:1),g=u+l*d,m=h+c*d;return[g,m]}function Qg(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(e){let{source:n,sourcePadding:r,targetPadding:i,circle:o,circleRadius:a}=e;return e=>{o&&a&&(i+=a),r>0&&(n={...n},n.x-=r,n.y-=r,n.width+=2*r,n.height+=2*r);let s=n.x+.5*n.width,l=n.y+.5*n.height,c=0,u=0,[h,f]=Jg(s,l,c,u,.3,t);const p=Xg([s,l],[h,f],[c,u],n.x,n.y,n.width,n.height);if(p.length>0){const t=p.map(t=>{let[,,e]=t;return e}).sort((t,e)=>e-t),[,,,e,n]=Kg([s,l],[h,f],[c,u],t[0]);[s,l]=e,[h,f]=n}if(i>0){const t=Zg([s,l],[h,f],[c,u],i),[,e,n]=Kg([s,l],[h,f],[c,u],t);[h,f]=e,[c,u]=n}e.attr("d","M ".concat(s,",").concat(l," Q ").concat(h,",").concat(f," ").concat(c,",").concat(u))}}}const tm=function(t){let{source:e,sourcePadding:n,targetPadding:r,circle:i,circleRadius:o}=t;return t=>{i&&o&&(r+=o),n&&(e={...e},e.x-=n,e.y-=n,e.width+=2*n,e.height+=2*n);let a=e.x+.5*e.width,s=e.y+.5*e.height,l=0,c=0,u=!0,h=-a,f=-s;const p=e.height/e.width;if(2*Math.abs(a)<e.width)a=0,l=0,c=r*(s>0?1:-1),s+=.5*e.height*(s<0?1:-1),u=!1;else if(2*Math.abs(s)<e.height)s=0,c=0,l=r*(a>0?1:-1),a+=.5*e.width*(a<0?1:-1),u=!1;else{const[t,n]=Yg([-.5*e.width,0]),[r,i]=Yg([.5*e.width,0]),[o,l]=Yg([0,-.5*e.height]),[c,u]=Yg([0,.5*e.height]),[d,g]=Yg([-a,-s]);let m,y;if(a>0&&s>0&&d>=t&&d<=o){const[r,i]=Yg([-.5*e.width,-.5*e.height]),a=Gg(d<r?[t,n]:[o,l],[r,i],d,!1);[m,y]=Wg([d,a])}else if(a<0&&s<0&&d>=c&&d<=r){const[t,n]=Yg([.5*e.width,.5*e.height]),o=Gg(d<t?[c,u]:[r,i],[t,n],d,!1);[m,y]=Wg([d,o])}else if(a>0&&s<0&&g>=n&&g<=u){const[r,i]=Yg([-.5*e.width,.5*e.height]),o=Gg(g<i?[t,n]:[c,u],[r,i],g,!0);[m,y]=Wg([o,g])}else if(a<0&&s>0&&g>=l&&g<=i){const[t,n]=Yg([.5*e.width,-.5*e.height]),a=Gg(g<n?[o,l]:[r,i],[t,n],g,!0);[m,y]=Wg([a,g])}else Math.abs(f/h)<p?(m=.5*e.width*(h>0?1:-1),y=.5*e.width*f/h*(h>0?1:-1)):(m=.5*e.height*h/f*(f>0?1:-1),y=.5*e.height*(f>0?1:-1));a+=m,s+=y}if(r>0&&u){h=-a,f=-s;const t=Math.atan2(f,h);l=-Math.cos(t)*r,c=-Math.sin(t)*r}t.attr("d","M ".concat(a,",").concat(s," L ").concat(l,",").concat(c)),t.classed("crisp",a.toFixed(1)===l.toFixed(1)||s.toFixed(1)===c.toFixed(1))}},em=Qg(!0),nm=Qg(!1);var rm=Object.freeze({__proto__:null,straight:tm,curveLeft:em,curveRight:nm});const im={triangle:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:20,path:"M-8.75,-3.75 L 1,0 L -8.75,3.75"},lines:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:15,path:"M-4.75,-3.75 L 0,0 L -4.75,3.75",strokes:!0}};function om(t,e,n,r,i){const o=im[n];if(!e.getTotalLength)return;const a=e.getTotalLength();if(0===a)return;const s=e.getPointAtLength(a),l=e.getPointAtLength(a-10),c=Math.min(1,a/o.minLen/r),[u,h]=[s.x-l.x,s.y-l.y],f=Math.atan2(h,u)/Math.PI*180,p=t.append("path.callout-line-arrow-head").attr("d",o.path).attr("transform","translate(".concat(s.x,", ").concat(s.y,") rotate(").concat(f,") scale(").concat(r*c,") ")).classed("callout-line-arrow-head-stroke",o.strokes);o.strokes?p.style("stroke",i).style("fill","none").style("stroke-width",1/c):p.style("fill",i).style("stroke","none")}function am(t){return"".concat(2+t,", ").concat(4+t)}var sm=Math.ceil,lm=Math.max;var cm=function(t,e,n,r){for(var i=-1,o=lm(sm((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a},um=Jf,hm=mu;var fm=lo(function(t){return function(e,n,r){return r&&"number"!=typeof r&&um(e,n,r)&&(n=r=void 0),e=hm(e),void 0===n?(n=e,e=0):n=hm(n),r=void 0===r?e<n?1:-1:hm(r),cm(e,n,r,t)}}());function pm(t,e){return"translate(".concat(Math.round(t),"px, ").concat(Math.round(e),"px);")}function dm(t){return!0===t||void 0===t}function gm(t){return!(!dm(t.showDesktop)||!1!==t.showMobile)}function mm(t){return!1===t.showDesktop&&!1===t.showMobile}function ym(t,e){void 0===e&&(e=1);var n=N(t);return n.opacity=e,n.formatRgb()}function vm(t,e){return{x:0,y:0,width:t,height:e}}var bm=180/Math.PI;function xm(t,e){return Math.atan(t/e)*bm}function wm(t){Id(t,"svelte-1j9q1i5",".callout-line path{stroke:#222;fill:none}.callout-line path.crisp{shape-rendering:crispEdges}.callout-line circle{stroke:#222;fill:none}.callout-line-arrow-head{fill:#222}.callout-line-arrow-head.callout-line-arrow-head-stroke{stroke:#222;fill:none}")}class km extends Cg{constructor(t){super(),Ng(this,t,null,null,Dd,{},wm)}}function _m(t){Id(t,"svelte-zo497q",".text-annotation.svelte-zo497q.svelte-zo497q{position:relative;z-index:2;pointer-events:auto}.text.svelte-zo497q.svelte-zo497q,.shadow-text.svelte-zo497q.svelte-zo497q{left:0px;position:absolute;white-space:pre-line;line-height:1.2;outline-color:rgba(0, 0, 0, 0)}.shadow-text.svelte-zo497q.svelte-zo497q{pointer-events:none}.shadow-text.svelte-zo497q.svelte-zo497q,.text-annotation .shadow-text *{color:transparent !important}.dw-bold.svelte-zo497q.svelte-zo497q{font-weight:700}.italic.svelte-zo497q.svelte-zo497q{font-style:italic}.underline.svelte-zo497q.svelte-zo497q{-webkit-text-decoration:underline;text-decoration:underline}.num.svelte-zo497q.svelte-zo497q{display:flex;justify-content:center;align-items:center;font-size:12px;border-radius:50%;width:20px;height:20px}.connector-line.svelte-zo497q.svelte-zo497q{left:0px;position:absolute;direction:ltr;pointer-events:none}svg.svelte-zo497q.svelte-zo497q{position:absolute;overflow:visible}.reference-point.svelte-zo497q.svelte-zo497q,.offset-point.svelte-zo497q.svelte-zo497q{left:0px;position:absolute;width:5px;height:5px;background:rgba(255, 0, 221, 0.95);z-index:1}.reference-point.hollow.svelte-zo497q.svelte-zo497q{background:rgba(255, 0, 221, 0.1);border:1px solid rgba(255, 0, 221, 0.95);border-radius:50%;left:-1px;top:-1px;z-index:auto}.reference-point.svelte-zo497q.svelte-zo497q::before{content:'';position:absolute;top:-5px;left:-5px;width:calc(100% + 9px);height:calc(100% + 9px);cursor:grab}.edit-mode.svelte-zo497q:not(.key) .text.svelte-zo497q{cursor:grab}.edit-mode.svelte-zo497q:not(.key) .text .text-inner.svelte-zo497q:after{outline:1px none rgba(255, 0, 221, 0);transition:outline-color 0.2s, outline-style 0.2s}.edit-mode.svelte-zo497q:not(.key):not(.selected) .text:hover .text-inner.svelte-zo497q:after{outline:1px dotted rgba(255, 0, 221, 0.95)}.edit-mode.svelte-zo497q:not(.key) .text.svelte-zo497q::before{content:'';z-index:-1;position:absolute;top:-10px;left:-10px;width:calc(100% + 20px);height:calc(100% + 20px);cursor:grab}.edit-mode.selected.svelte-zo497q .text.svelte-zo497q{outline-style:solid}.edit-mode.svelte-zo497q .text-background.svelte-zo497q{position:relative}.edit-mode.selected.svelte-zo497q:not(.editable) .text-inner.svelte-zo497q::after{background:rgba(255, 0, 221, 0.1)}.edit-mode.svelte-zo497q:not(.selected):hover .text-inner.svelte-zo497q::after,.edit-mode.selected.editable.svelte-zo497q:hover .text-inner.svelte-zo497q::after{background:rgba(255, 0, 221, 0.05)}.edit-mode.svelte-zo497q .text:hover .text-inner.svelte-zo497q::after,.edit-mode.selected.svelte-zo497q .text .text-inner.svelte-zo497q::after{outline:1px solid rgba(255, 0, 221, 0.95)}.edit-mode.editable.svelte-zo497q:hover .text-inner.svelte-zo497q:hover:after{background:transparent !important}.edit-mode.svelte-zo497q .text-inner.svelte-zo497q:after{content:'';width:100%;height:100%;position:absolute;left:0;top:0;pointer-events:none}.edit-mode.selected.editable.svelte-zo497q .text.svelte-zo497q{background:transparent}.edit-mode.selected.editable.svelte-zo497q .text-inner.svelte-zo497q{background:rgba(255, 255, 255, 0.9);cursor:text}.edit-mode.not-editable.svelte-zo497q.svelte-zo497q:not(.key){-webkit-user-select:none;user-select:none;cursor:grab}.edit-mode.svelte-zo497q .text-inner.svelte-zo497q{outline:0}.edit-mode.dragging.svelte-zo497q.svelte-zo497q,.edit-mode.dragging.svelte-zo497q .text.svelte-zo497q::before,.edit-mode.dragging.selected.svelte-zo497q .text-inner.svelte-zo497q,.edit-mode.dragging.svelte-zo497q .reference-point.svelte-zo497q::before{cursor:grabbing}.edit-mode.svelte-zo497q .helper.svelte-zo497q{left:0px;position:absolute;direction:ltr}.edit-mode.svelte-zo497q .helper-line.svelte-zo497q{stroke:rgba(255, 0, 221, 0.95);stroke-dasharray:2, 2;fill:none}.edit-mode.svelte-zo497q .num.text.svelte-zo497q{outline:0}.edit-mode.selected.svelte-zo497q .num .text-inner.svelte-zo497q{background:transparent}.edit-mode.selected.dragging.out-of-bounds.svelte-zo497q.svelte-zo497q{display:block !important}.edit-mode.selected.dragging.out-of-bounds.svelte-zo497q.svelte-zo497q{opacity:0.25}")}function Mm(t){let e,n,r,i,o,a,s,l,c,u,h,f,p,d=t[0].connectorLine&&t[0].connectorLine.enabled&&Am(t),g=t[17]&&Tm(t),m=t[36]&&Em(t),y=t[33]&&$m(t),v=t[0].bg&&t[21]&&!t[18]&&Om(t);function b(t,e){return t[8]?Lm:Sm}let x=b(t),w=x(t),k=t[8]&&!t[18]&&Im(t);return{c(){e=Hd("div"),d&&d.c(),n=Yd(),g&&g.c(),r=Yd(),m&&m.c(),i=Yd(),y&&y.c(),o=Yd(),v&&v.c(),a=Yd(),s=Hd("div"),w.c(),l=Yd(),k&&k.c(),Xd(s,"class","text svelte-zo497q"),Xd(s,"style",c=t[38](t[0])),Qd(s,"dw-bold",t[0].bold||t[18]),Qd(s,"italic",t[0].italic&&!t[18]),Qd(s,"underline",t[0].underline&&!t[18]),Qd(s,"dw-circle",t[18]),Qd(s,"num",t[18]),Xd(e,"role","listitem"),Xd(e,"class","text-annotation svelte-zo497q"),Xd(e,"data-annotation-id",u=t[0].id),Qd(e,"hide",t[39]),Qd(e,"edit-mode",t[8]),Qd(e,"selected",t[14]),Qd(e,"editable",t[1]&&t[14]),Qd(e,"not-editable",!t[1]||!t[14]),Qd(e,"key",t[18]),Qd(e,"dragging",t[2]),Qd(e,"resizing",t[5]),Qd(e,"out-of-bounds",t[13])},m(c,u){Pd(c,e,u),d&&d.m(e,null),Rd(e,n),g&&g.m(e,null),Rd(e,r),m&&m.m(e,null),Rd(e,i),y&&y.m(e,null),Rd(e,o),v&&v.m(e,null),Rd(e,a),Rd(e,s),w.m(s,null),Rd(s,l),k&&k.m(s,null),t[90](s),h=!0,f||(p=[Gd(s,"mousedown",Vd(t[40])),Gd(s,"click",t[41]),Gd(s,"contextmenu",t[42])],f=!0)},p(t,f){t[0].connectorLine&&t[0].connectorLine.enabled?d?d.p(t,f):(d=Am(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),t[17]?g?g.p(t,f):(g=Tm(t),g.c(),g.m(e,r)):g&&(g.d(1),g=null),t[36]?m?m.p(t,f):(m=Em(t),m.c(),m.m(e,i)):m&&(m.d(1),m=null),t[33]?y?y.p(t,f):(y=$m(t),y.c(),y.m(e,o)):y&&(y.d(1),y=null),t[0].bg&&t[21]&&!t[18]?v?v.p(t,f):(v=Om(t),v.c(),v.m(e,a)):v&&(v.d(1),v=null),x===(x=b(t))&&w?w.p(t,f):(w.d(1),w=x(t),w&&(w.c(),w.m(s,l))),t[8]&&!t[18]?k?(k.p(t,f),262400&f[0]&&Ag(k,1)):(k=Im(t),k.c(),Ag(k,1),k.m(s,null)):k&&(_g(),Tg(k,1,1,()=>{k=null}),Mg()),(!h||1&f[0]|128&f[1]&&c!==(c=t[38](t[0])))&&Xd(s,"style",c),(!h||262145&f[0])&&Qd(s,"dw-bold",t[0].bold||t[18]),(!h||262145&f[0])&&Qd(s,"italic",t[0].italic&&!t[18]),(!h||262145&f[0])&&Qd(s,"underline",t[0].underline&&!t[18]),(!h||262144&f[0])&&Qd(s,"dw-circle",t[18]),(!h||262144&f[0])&&Qd(s,"num",t[18]),(!h||1&f[0]&&u!==(u=t[0].id))&&Xd(e,"data-annotation-id",u),(!h||256&f[1])&&Qd(e,"hide",t[39]),(!h||256&f[0])&&Qd(e,"edit-mode",t[8]),(!h||16384&f[0])&&Qd(e,"selected",t[14]),(!h||16386&f[0])&&Qd(e,"editable",t[1]&&t[14]),(!h||16386&f[0])&&Qd(e,"not-editable",!t[1]||!t[14]),(!h||262144&f[0])&&Qd(e,"key",t[18]),(!h||4&f[0])&&Qd(e,"dragging",t[2]),(!h||32&f[0])&&Qd(e,"resizing",t[5]),(!h||8192&f[0])&&Qd(e,"out-of-bounds",t[13])},i(t){h||(Ag(k),h=!0)},o(t){Tg(k),h=!1},d(n){n&&Fd(e),d&&d.d(),g&&g.d(),m&&m.d(),y&&y.d(),v&&v.d(),w.d(),k&&k.d(),t[90](null),f=!1,Cd(p)}}}function Am(t){let e,n,r;return{c(){e=Hd("div"),n=Bd("svg"),Xd(n,"width",t[25]),Xd(n,"height",t[26]),Xd(n,"class","svelte-zo497q"),Xd(e,"class","connector-line svelte-zo497q"),Xd(e,"aria-hidden","true"),Xd(e,"style",r="transform: "+pm(t[11],t[12]))},m(r,i){Pd(r,e,i),Rd(e,n),t[80](n)},p(t,i){33554432&i[0]&&Xd(n,"width",t[25]),67108864&i[0]&&Xd(n,"height",t[26]),6144&i[0]&&r!==(r="transform: "+pm(t[11],t[12]))&&Xd(e,"style",r)},d(n){n&&Fd(e),t[80](null)}}}function Tm(t){let e,n,r,i;return{c(){e=Hd("div"),n=Bd("svg"),r=Bd("path"),Xd(r,"class","helper-line svelte-zo497q"),Xd(r,"d",i=t[31](t[0])),Xd(n,"width",t[29]),Xd(n,"height",t[30]),Xd(n,"class","svelte-zo497q"),Xd(e,"class","helper svelte-zo497q")},m(i,o){Pd(i,e,o),Rd(e,n),Rd(n,r),t[81](n)},p(t,e){1&e[0]|1&e[1]&&i!==(i=t[31](t[0]))&&Xd(r,"d",i),536870912&e[0]&&Xd(n,"width",t[29]),1073741824&e[0]&&Xd(n,"height",t[30])},d(n){n&&Fd(e),t[81](null)}}}function Em(t){let e,n,r,i;return{c(){e=Hd("div"),Xd(e,"class","reference-point svelte-zo497q"),Xd(e,"style",n="transform: "+t[34]()),Qd(e,"hollow",t[35])},m(n,o){Pd(n,e,o),r||(i=Gd(e,"mousedown",Vd(t[43])),r=!0)},p(t,r){8&r[1]&&n!==(n="transform: "+t[34]())&&Xd(e,"style",n),16&r[1]&&Qd(e,"hollow",t[35])},d(t){t&&Fd(e),r=!1,i()}}}function $m(t){let e,n;return{c(){e=Hd("div"),Xd(e,"class","offset-point svelte-zo497q"),Xd(e,"style",n="transform: "+t[32]())},m(t,n){Pd(t,e,n)},p(t,r){2&r[1]&&n!==(n="transform: "+t[32]())&&Xd(e,"style",n)},d(t){t&&Fd(e)}}}function Om(t){let e,n,r,i=t[6](t[0].text)+"";return{c(){e=Hd("div"),n=Hd("span"),Xd(n,"class","export-text"),Xd(e,"class","shadow-text svelte-zo497q"),Xd(e,"aria-hidden","true"),Xd(e,"style",r=t[37](t[0])),Qd(e,"dw-bold",t[0].bold),Qd(e,"italic",t[0].italic),Qd(e,"underline",t[0].underline)},m(t,r){Pd(t,e,r),Rd(e,n),n.innerHTML=i},p(t,o){65&o[0]&&i!==(i=t[6](t[0].text)+"")&&(n.innerHTML=i),1&o[0]|64&o[1]&&r!==(r=t[37](t[0]))&&Xd(e,"style",r),1&o[0]&&Qd(e,"dw-bold",t[0].bold),1&o[0]&&Qd(e,"italic",t[0].italic),1&o[0]&&Qd(e,"underline",t[0].underline)},d(t){t&&Fd(e)}}}function Sm(t){let e;function n(t,e){return t[18]?Cm:Nm}let r=n(t),i=r(t);return{c(){e=Hd("span"),i.c(),Xd(e,"class","export-text")},m(n,r){Pd(n,e,r),i.m(e,null),t[85](e)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e,null)))},d(n){n&&Fd(e),i.d(),t[85](null)}}}function Lm(t){let e;function n(t,e){return t[18]?Dm:zm}let r=n(t),i=r(t);return{c(){i.c(),e=Wd()},m(t,n){i.m(t,n),Pd(t,e,n)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&Fd(e)}}}function Nm(t){let e,n,r=t[6](t[0].text)+"";return{c(){e=new eg(!1),n=Wd(),e.a=n},m(t,i){e.m(r,t,i),Pd(t,n,i)},p(t,n){65&n[0]&&r!==(r=t[6](t[0].text)+"")&&e.p(r)},d(t){t&&Fd(n),t&&e.d()}}}function Cm(t){let e,n=t[7].num+"";return{c(){e=qd(n)},m(t,n){Pd(t,e,n)},p(t,r){128&r[0]&&n!==(n=t[7].num+"")&&Zd(e,n)},d(t){t&&Fd(e)}}}function zm(t){let e;function n(t,e){return t[1]&&t[14]?Rm:jm}let r=n(t),i=r(t);return{c(){e=Hd("div"),i.c(),Xd(e,"class","text-background svelte-zo497q")},m(t,n){Pd(t,e,n),i.m(e,null)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e,null)))},d(t){t&&Fd(e),i.d()}}}function Dm(t){let e,n,r=t[7].num+"";return{c(){e=Hd("span"),n=qd(r)},m(t,r){Pd(t,e,r),Rd(e,n)},p(t,e){128&e[0]&&r!==(r=t[7].num+"")&&Zd(n,r)},d(t){t&&Fd(e)}}}function jm(t){let e,n=t[6](t[0].text)+"";return{c(){e=Hd("span"),Xd(e,"class","text-inner text-edit svelte-zo497q")},m(r,i){Pd(r,e,i),e.innerHTML=n,t[84](e)},p(t,r){65&r[0]&&n!==(n=t[6](t[0].text)+"")&&(e.innerHTML=n)},d(n){n&&Fd(e),t[84](null)}}}function Rm(t){let e,n,r,i=t[6](t[28])+"";return{c(){e=Hd("span"),Xd(e,"contenteditable",""),Xd(e,"class","text-inner text-edit svelte-zo497q"),void 0===t[27]&&gg(()=>t[83].call(e))},m(o,a){Pd(o,e,a),e.innerHTML=i,t[82](e),void 0!==t[27]&&(e.innerHTML=t[27]),n||(r=[Gd(e,"input",t[83]),Gd(e,"input",t[44]),Gd(e,"blur",t[45])],n=!0)},p(t,n){268435520&n[0]&&i!==(i=t[6](t[28])+"")&&(e.innerHTML=i),134217728&n[0]&&t[27]!==e.innerHTML&&(e.innerHTML=t[27])},d(i){i&&Fd(e),t[82](null),n=!1,Cd(r)}}}function Im(t){let e,n,r,i,o;function a(e){t[86](e)}function s(e){t[87](e)}function l(e){t[88](e)}let c={type:"text",annotation:t[0],index:t[9],repeatedIndex:t[10]};return void 0!==t[3]&&(c.noOffsetAtEventStart=t[3]),void 0!==t[4]&&(c.activeResizer=t[4]),void 0!==t[5]&&(c.resizing=t[5]),e=new Hg({props:c}),cg.push(()=>Eg(e,"noOffsetAtEventStart",a)),cg.push(()=>Eg(e,"activeResizer",s)),cg.push(()=>Eg(e,"resizing",l)),e.$on("selectAnnotation",t[89]),e.$on("setWidth",t[47]),{c(){$g(e.$$.fragment)},m(t,n){Og(e,t,n),o=!0},p(t,o){const a={};1&o[0]&&(a.annotation=t[0]),512&o[0]&&(a.index=t[9]),1024&o[0]&&(a.repeatedIndex=t[10]),!n&&8&o[0]&&(n=!0,a.noOffsetAtEventStart=t[3],mg(()=>n=!1)),!r&&16&o[0]&&(r=!0,a.activeResizer=t[4],mg(()=>r=!1)),!i&&32&o[0]&&(i=!0,a.resizing=t[5],mg(()=>i=!1)),e.$set(a)},i(t){o||(Ag(e.$$.fragment,t),o=!0)},o(t){Tg(e.$$.fragment,t),o=!1},d(t){Sg(e,t)}}}function Pm(t){let e,n,r,i,o,a;e=new km({});let s=!t[20]&&!t[19]&&Mm(t);return{c(){$g(e.$$.fragment),n=Yd(),s&&s.c(),r=Wd()},m(l,c){Og(e,l,c),Pd(l,n,c),s&&s.m(l,c),Pd(l,r,c),i=!0,o||(a=Gd(window,"keydown",t[46]),o=!0)},p(t,e){t[20]||t[19]?s&&(_g(),Tg(s,1,1,()=>{s=null}),Mg()):s?(s.p(t,e),1572864&e[0]&&Ag(s,1)):(s=Mm(t),s.c(),Ag(s,1),s.m(r.parentNode,r))},i(t){i||(Ag(e.$$.fragment,t),Ag(s),i=!0)},o(t){Tg(e.$$.fragment,t),Tg(s),i=!1},d(t){Sg(e,t),t&&Fd(n),s&&s.d(t),t&&Fd(r),o=!1,a()}}}function Fm(t,e,n){let r,i,o,a,s,l,c,u,h,f,p,d,g,m,y,v,b,x,w,k,_,M,A,T,E,$,O,S,L,N,{annotation:C}=e,{dataToPx:z}=e,{pxToData:D}=e,{bounds:j}=e,{theme:R}=e,{cm:I}=e,{chroma:P}=e,{purifyHtml:F}=e,{key:U}=e,{rtl:H=!1}=e,{mirrorX:B=!1}=e,{isMobileWidth:q=!1}=e,Y=0,W=0,G=0,V=0,X=0;og(()=>{function t(){L&&(n(63,G=L.offsetWidth),n(64,V=L.offsetHeight),n(65,X=N&&N.offsetWidth||ht&&ht.offsetWidth||0),function(){if(!C.connectorLine||!C.connectorLine.enabled)return;const t=se(K);t.selectAll("*").remove();const{circle:e,circleRadius:r,stroke:i,inheritColor:a,targetPadding:s}=C.connectorLine,[l,c]=y(C,{useInnerText:!0});let h=l-Y;H&&p&&(h-=d);const g=c-W,m=a&&u&&!f?u:cd(R,"color",o),v={curveLeft:B?"curveRight":"curveLeft",curveRight:B?"curveLeft":"curveRight",straight:"straight"},b=f?G:X,x=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t={sourcePadding:0,targetPadding:4,arrowHead:!1,type:"straight",circle:!1,circleRadius:15,strokeWidth:1,color:"black",...t},function(e){return e.each((function(e){const n={...t,...e},r=se(this).append("g.callout-line").attr("aria-hidden",!0);n.arrowHead&&(n.targetPadding+=n.strokeWidth,n.circleRadius+=n.strokeWidth);const i=r.append("path").style("stroke-width",n.strokeWidth).style("stroke",n.color).call(rm[n.type](n));n.arrowHead&&om(r,i.node(),n.arrowHead,n.strokeWidth,n.color),n.circle&&r.append("circle").style("stroke",n.color).style("stroke-width",n.strokeWidth).style("stroke-dasharray","dashed"===n.circleStyle?am(n.strokeWidth):void 0).attr("r",n.circleRadius-(n.arrowHead?n.strokeWidth:0))}))}}(Object.assign(Object.assign({},C.connectorLine),{circle:e,circleRadius:r,source:{x:h,y:g,width:b,height:V},sourcePadding:tt(),targetPadding:f?0:s,strokeWidth:f?1:i,color:m,type:v[C.connectorLine.type]}));t.call(x);const w=K.getBBox();n(25,et=Math.max(Math.ceil(w.width),1)),n(26,nt=Math.max(Math.ceil(w.height),1));const k=t.select(".callout-line").select("path").attr("d");(function(t,e){var n=t.replace("M","").replace("Q","").trim().replace(/ /g,",").split(","),r=Math.max(Math.abs(Number(n[0])),Math.abs(Number(n[1])))-e;return isNaN(r)&&(r=0),r})(k,s)<10||Q(5)||function(t,e,n){if(!t||!n)return;const r=e.indexOf("M ")+"M ".length,i=e.indexOf(" ",r),o=e.substring(r,i).split(",").map(t=>parseInt(t,10));return Math.pow(o[0]-0,2)+Math.pow(o[1]-0,2)<Math.pow(n,2)}(e,k,r)?(t.selectAll("*").remove(),ft&&rt("updateEditorState",{hideConnectorLine:!0})):ft&&rt("updateEditorState",{hideConnectorLine:!1})}())}it?t():(dg(),fg).then(t)});let K,Z=!1;function J(){let t=xm(C.dy,C.dx)+90;return C.dx<0&&(t+=180),function(t){switch(!0){case t>337.5||t<=22.5:return"bc";case t>22.5&&t<=67.5:return"bl";case t>67.5&&t<=112.5:return"ml";case t>112.5&&t<=157.5:return"tl";case t>157.5&&t<=202.5:return"tc";case t>202.5&&t<=247.5:return"tr";case t>247.5&&t<=292.5:return"mr";case t>292.5&&t<=337.5:return"br";default:return"mc"}}(t)}function Q(t){const[e,n]=y(C,{useInnerText:!0});let r=e,i=e+X;H&&p&&(r-=d,i-=d);return Y>r-t&&Y<i+t&&W>n-t&&W<n+V+t}function tt(){if(!f)return 4;const t=J();if(!!(t.includes("c")||t.includes("m")))return 0;const e=(G*Math.sqrt(2)-G)/2;return-Math.sqrt(Math.pow(e,2)/2)}let et=1,nt=1;const rt=ag();let{editMode:it=!1}=e,{isEditable:ot=!1}=e,{editorState:at}=e,{index:st}=e,{repeatedIndex:lt}=e,ct=!1;function ut(){ct||rt("updateAnnotation",{annotation:C,type:"text"})}let ht,ft=!1;let{moveX:pt=0}=e,{moveY:dt=0}=e,{dragging:gt=!1}=e,{noOffsetAtEventStart:mt}=e,{forceOffsetDrag:yt}=e,{forceAnchorDrag:vt}=e,{forceAnchorDragTemp:bt}=e;let xt,wt,{activeResizer:kt}=e,{resizing:_t=!1}=e,Mt=C.text;let At=1,Tt=1;return t.$$set=t=>{"annotation"in t&&n(0,C=t.annotation),"dataToPx"in t&&n(53,z=t.dataToPx),"pxToData"in t&&n(54,D=t.pxToData),"bounds"in t&&n(55,j=t.bounds),"theme"in t&&n(56,R=t.theme),"cm"in t&&n(57,I=t.cm),"chroma"in t&&n(58,P=t.chroma),"purifyHtml"in t&&n(6,F=t.purifyHtml),"key"in t&&n(7,U=t.key),"rtl"in t&&n(59,H=t.rtl),"mirrorX"in t&&n(60,B=t.mirrorX),"isMobileWidth"in t&&n(61,q=t.isMobileWidth),"editMode"in t&&n(8,it=t.editMode),"isEditable"in t&&n(1,ot=t.isEditable),"editorState"in t&&n(48,at=t.editorState),"index"in t&&n(9,st=t.index),"repeatedIndex"in t&&n(10,lt=t.repeatedIndex),"moveX"in t&&n(49,pt=t.moveX),"moveY"in t&&n(50,dt=t.moveY),"dragging"in t&&n(2,gt=t.dragging),"noOffsetAtEventStart"in t&&n(3,mt=t.noOffsetAtEventStart),"forceOffsetDrag"in t&&n(51,yt=t.forceOffsetDrag),"forceAnchorDrag"in t&&n(52,vt=t.forceAnchorDrag),"forceAnchorDragTemp"in t&&n(62,bt=t.forceAnchorDragTemp),"activeResizer"in t&&n(4,kt=t.activeResizer),"resizing"in t&&n(5,_t=t.resizing)},t.$$.update=()=>{if(33554432&t.$$.dirty[1]&&n(79,r={mobile:Mh(R,"vis.base.annotations.mobile",{}),desktop:Mh(R,"vis.base.annotations.text",{})}),33554432&t.$$.dirty[1]&&n(21,i=Mh(R,"colors.background","#ffffff")),167772160&t.$$.dirty[1]&&n(70,o=Md(R,P).fallbackBaseColor),2097152&t.$$.dirty[0]|131072&t.$$.dirty[2]&&n(76,a=Mh(r.mobile,"icons.background",ym(i,.7))),131328&t.$$.dirty[2]&&n(77,s=Mh(r.mobile,"icons.outline","1px solid "+o)),131072&t.$$.dirty[2]&&n(78,l=r.desktop.color),536870912&t.$$.dirty[1]&&n(67,c=B?-1:1),1&t.$$.dirty[0]&&n(0,C.dx=+C.dx||0,C),1&t.$$.dirty[0]&&n(0,C.dy=+C.dy||0,C),16397&t.$$.dirty[0]|16515072&t.$$.dirty[1]|49&t.$$.dirty[2]&&ft&&gt&&(pt||dt)&&!ct){if(mt&&!yt||vt||bt){let[t,e]=z(C.x,C.y,C._plot);t+=pt,e+=dt;const{x:r,y:i,plot:o,validPosition:a}=D(t,e,C.showInAllPlots?C._plot:void 0);n(48,at.draggingOutOfBounds=!1===a,at),!C.showInAllPlots&&o&&(C.plot!==o&&n(48,at.plotHasUpdated=!0,at),n(0,C.plot=o,C)),n(0,C.x=r,C),n(0,C.y=i,C)}else n(0,C.dx+=pt*c,C),n(0,C.dy+=dt,C);yt&&mt&&!C.connectorLine.enabled&&!Q(20)&&(n(0,C.connectorLine.enabled=!0,C),n(0,C.connectorLine.type="curveLeft",C)),n(49,pt=0),n(50,dt=0),ut()}if(17413&t.$$.dirty[0]|12713984&t.$$.dirty[1]&&!gt&&ft&&!0===at.draggingOutOfBounds&&(!C.showInAllPlots||lt===at.activeRepeatedAnnotationIndex)){const t=z(C.x,C.y,C._plot),{x:e,y:r}=D(t[0],t[1],C._plot,!0);n(0,C=Object.assign(Object.assign({},C),{x:e,y:r})),n(48,at.draggingOutOfBounds=!1,at),ut()}if(16441&t.$$.dirty[0]|567017472&t.$$.dirty[1]&&ft&&_t&&(pt||dt)){let t=pt/j.width*100,e=0;if(C.align.includes("c")?(e+=pt/2,"l"===kt&&(t=-t)):C.align.includes(B?"r":"l")?"l"===kt&&(e+=pt,t=-t):C.align.includes(B?"l":"r")&&("l"===kt&&(t=-t),"r"===kt&&(e+=pt)),mt){const t=z(C.x,C.y,C._plot);let r=t[0];r+=e;const{x:i,y:o}=D(r,t[1]);n(0,C.x=i,C),n(0,C.y=o,C)}else n(0,C.dx+=e,C);n(0,C.width+=t,C),n(0,C.width=Math.max(5,C.width),C),n(49,pt=0),ut()}if(1&t.$$.dirty[0]|67108864&t.$$.dirty[1]|65536&t.$$.dirty[2]&&n(71,u=C.color?I(C.color):I(l,{noInvert:!0})),1&t.$$.dirty[0]|4194304&t.$$.dirty[1]&&n(11,[Y,W]=z(C.x,C.y,C._plot),Y,(n(12,W),n(53,z),n(0,C),n(14,ft),n(2,gt),n(49,pt),n(50,dt),n(66,ct),n(3,mt),n(51,yt),n(52,vt),n(62,bt),n(54,D),n(67,c),n(48,at),n(10,lt),n(5,_t),n(55,j),n(4,kt),n(60,B))),2048&t.$$.dirty[0]&&n(20,g=void 0===Y),4096&t.$$.dirty[0]&&n(19,m=void 0===W),1579009&t.$$.dirty[0]|25165824&t.$$.dirty[1]&&j&&!g&&!m){const{validPosition:t}=D(Y,W,C._plot);!1===t&&void 0!==C._plot?n(13,Z=!0):n(13,Z=!1)}if(8193&t.$$.dirty[0]|1073741824&t.$$.dirty[1]&&n(39,h=mm(C)||function(t){return!(!dm(t.showMobile)||!1!==t.showDesktop)}(C)&&!q||gm(C)&&q||Z),128&t.$$.dirty[0]&&n(18,f=U&&U.render),262144&t.$$.dirty[0]|10&t.$$.dirty[2]&&n(72,p=!f&&X>G),10&t.$$.dirty[2]&&(d=X-G),1&t.$$.dirty[0]&&n(68,k=0===C.dx&&0===C.dy),268288&t.$$.dirty[0]|536870912&t.$$.dirty[1]|1134&t.$$.dirty[2]&&n(73,y=(t,{useInnerText:e=!1}={})=>{let[n,r]=[Y,W],i=t.align;f||(n+=t.dx*c,r+=t.dy),f&&!k&&([n,r]=function(t,e){const n=C.connectorLine.circle?Math.max(0,C.connectorLine.circleRadius):0,r=22+n,i=(27+n)*c,o=J(),[a,s]={br:[-r,-r],bc:[-i,0],bl:[-r,r],mr:[0,-i],mc:[-i-.5*V,0],ml:[0,i],tr:[r,-r],tc:[i,0],tl:[r,r]}[o];return[t+=s,e+=a]}(n,r),i="mc");const o={l:B?"r":"l",c:"c",r:B?"l":"r"}[i.charAt(1)],a=i.charAt(0);return n-=(!e||p||f?G:X)*{l:0,c:.5,r:1}[o],r-=V*{t:0,m:.5,b:1}[a],[n,r]}),2048&t.$$.dirty[2]&&n(74,v=t=>{const[e,n]=y(t);return pm(e,n)}),262144&t.$$.dirty[0]|61952&t.$$.dirty[2]&&n(38,x=t=>{const e=[];return f?(e.push("border: "+s),e.push("background-color: "+a)):(e.push(...b(t)),u&&e.push("color: "+u)),e.push("transform: "+v(t)),e.join("; ")}),2097152&t.$$.dirty[0]|12288&t.$$.dirty[2]&&n(37,w=t=>{const e=[];return e.push(...b(t)),e.push("text-shadow: "+function(t,e,n){var r=[],i=fm(-t,t+1);return i.forEach((function(t){i.forEach((function(i){(t||i)&&r.push(t+"px "+i+"px "+(t&&i?0:e)+"px "+n)}))})),r.join(", ")}(2,2,i)),e.push("transform: "+v(t)),e.join("; ")}),1025&t.$$.dirty[0]|131072&t.$$.dirty[1]&&function(t,e,r){n(66,ct=!!t.showInAllPlots&&void 0!==e&&e!==r.activeRepeatedAnnotationIndex)}(C,lt,at),131072&t.$$.dirty[1]&&function(t){n(14,ft=t.selectedTextAnnotations.includes(C.id))}(at),32770&t.$$.dirty[0]&&!ot&&ht&&ht.blur(),1857537&t.$$.dirty[0]|6&t.$$.dirty[2]&&ft){const t={x:Y,y:W,invalidX:g,invalidY:m,width:G,height:V,mobileFallback:f,text:C.text,plot:C._plot};rt("updateEditorState",{selectedAnnotationProps:t})}if(1&t.$$.dirty[0]&&n(69,_="mc"===C.align),278784&t.$$.dirty[0]|192&t.$$.dirty[2]&&n(36,M=it&&ft&&!f&&!(k&&_)),278784&t.$$.dirty[0]|64&t.$$.dirty[2]&&n(35,A=it&&ft&&!f&&!k),6144&t.$$.dirty[0]&&n(34,T=()=>{let[t,e]=[Y,W];return t-=2.5,e-=2.5,pm(t,e)}),278784&t.$$.dirty[0]|192&t.$$.dirty[2]&&n(33,E=it&&ft&&!f&&!k&&!_),6145&t.$$.dirty[0]|32&t.$$.dirty[2]&&n(32,$=()=>{let[t,e]=[Y,W];return t-=2.5,e-=2.5,t+=C.dx*c,e+=C.dy,pm(t,e)}),32833&t.$$.dirty[0]){ht&&ht===document.activeElement||(n(27,xt=F(C.text)),n(28,Mt=C.text))}if(278785&t.$$.dirty[0]|64&t.$$.dirty[2]&&n(17,O=it&&ft&&!C.connectorLine.enabled&&!k&&!f),6144&t.$$.dirty[0]|32&t.$$.dirty[2]&&n(31,S=t=>{const[e,n]=[Y,W];return`M ${e},${n} L${e+t.dx*c},${n+t.dy}`}),196608&t.$$.dirty[0]&&wt&&O){const t=wt.getBBox();n(29,At=Math.max(Math.ceil(t.width),1)),n(30,Tt=Math.max(Math.ceil(t.height),1))}},n(75,b=t=>{const e=[];return t.width&&e.push("width: "+function(t){return j.width*(t.width/100)+"px"}(t)),e.push(`font-size: ${t.size||14}px`),e.push(`min-height: ${t.size||14}px`),e.push("text-align: "+function(t){return t.align?{l:B?"right":"left",c:"center",r:B?"left":"right"}[t.align.charAt(1)]:"center"}(t)),e}),[C,ot,gt,mt,kt,_t,F,U,it,st,lt,Y,W,Z,ft,ht,wt,O,f,m,g,i,L,N,K,et,nt,xt,Mt,At,Tt,S,$,E,T,A,M,w,x,h,function(t){if(!it)return;zg(),rt("selectAnnotation",{type:"text",index:st,repeatedIndex:lt,id:C.id});const e=t.target,r=e.parentNode,i="true"===e.contentEditable||"true"===r.contentEditable;f||i&&ft||(n(49,pt=0),n(50,dt=0),n(2,gt=!0),n(51,yt=t.ctrlKey),yt&&rt("updateEditorState",{forceOffsetDrag:!0}),n(3,mt=0===C.dx&&0===C.dy))},function(t){it&&t.preventDefault()},function(t){it&&t.preventDefault()},function(){it&&(zg(),rt("selectAnnotation",{type:"text",index:st,repeatedIndex:lt,id:C.id}),n(2,gt=!0),n(52,vt=!0))},function(){n(0,C.text=xt.slice&&"&nbsp;"===xt.slice(-6)&&"&nbsp;&nbsp;"!==xt.slice(-12)?xt.slice(0,-6)+" ":xt,C),ut()},function(){zg()},function(t){if(!it||f)return;const e="ArrowUp"===t.key||"ArrowDown"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key;if("Escape"===t.key&&ft&&ot)ht.blur(),n(1,ot=!1);else if("Escape"===t.key&&ft)rt("selectAnnotation",null);else if(e&&ft&&!ot){t.preventDefault();const e="ArrowLeft"===t.key?-1:"ArrowRight"===t.key?1:0,r="ArrowUp"===t.key?-1:"ArrowDown"===t.key?1:0;if(t.ctrlKey)n(0,C.dx+=e*c,C),n(0,C.dy+=r,C);else{let[t,i]=z(C.x,C.y,C._plot);t+=e,i+=r;const{x:o,y:a,validPosition:s}=D(t,i);(void 0===C._plot||!0===s)&&(n(0,C.x=o,C),n(0,C.y=a,C))}}ut()},function(){n(0,C.width=G/j.width*100,C),ut()},at,pt,dt,yt,vt,z,D,j,R,I,P,H,B,q,bt,G,V,X,ct,c,k,_,o,u,p,y,v,b,a,s,l,r,function(t){cg[t?"unshift":"push"](()=>{K=t,n(24,K)})},function(t){cg[t?"unshift":"push"](()=>{wt=t,n(16,wt)})},function(t){cg[t?"unshift":"push"](()=>{ht=t,n(15,ht)})},function(){xt=this.innerHTML,n(27,xt),n(15,ht),n(6,F),n(0,C),n(14,ft),n(2,gt),n(49,pt),n(50,dt),n(66,ct),n(3,mt),n(51,yt),n(52,vt),n(62,bt),n(53,z),n(54,D),n(67,c),n(48,at),n(10,lt),n(5,_t),n(55,j),n(4,kt),n(60,B)},function(t){cg[t?"unshift":"push"](()=>{ht=t,n(15,ht)})},function(t){cg[t?"unshift":"push"](()=>{N=t,n(23,N)})},function(t){mt=t,n(3,mt)},function(t){kt=t,n(4,kt)},function(t){_t=t,n(5,_t)},function(e){sg.call(this,t,e)},function(t){cg[t?"unshift":"push"](()=>{L=t,n(22,L)})}]}class Um extends Cg{constructor(t){super(),Ng(this,t,Fm,Pm,Dd,{annotation:0,dataToPx:53,pxToData:54,bounds:55,theme:56,cm:57,chroma:58,purifyHtml:6,key:7,rtl:59,mirrorX:60,isMobileWidth:61,editMode:8,isEditable:1,editorState:48,index:9,repeatedIndex:10,moveX:49,moveY:50,dragging:2,noOffsetAtEventStart:3,forceOffsetDrag:51,forceAnchorDrag:52,forceAnchorDragTemp:62,activeResizer:4,resizing:5},_m,[-1,-1,-1,-1])}}function Hm(t){Id(t,"svelte-otipek",".create-mode .range-annotation{pointer-events:none !important}.range-annotation.svelte-otipek.svelte-otipek{position:absolute;top:0px;left:0px;pointer-events:none}.range-annotation.edit-mode.svelte-otipek.svelte-otipek{display:flex;justify-content:center;align-items:center;pointer-events:auto;z-index:1}.range-annotation.edit-mode.svelte-otipek:hover .dot.svelte-otipek{opacity:1 !important}.range-annotation.edit-mode.range.svelte-otipek.svelte-otipek{background:transparent !important}.range-annotation.edit-mode.range.svelte-otipek.svelte-otipek{z-index:1;border:1px solid transparent;box-sizing:border-box}.range-annotation.edit-mode.range.x.svelte-otipek.svelte-otipek{border-width:0 1px 0 1px}.range-annotation.edit-mode.range.x.start-out-of-bounds.svelte-otipek.svelte-otipek{border-left-width:0 !important}.range-annotation.edit-mode.range.x.end-out-of-bounds.svelte-otipek.svelte-otipek{border-right-width:0 !important}.range-annotation.edit-mode.range.y.svelte-otipek.svelte-otipek{border-width:1px 0 1px 0}.range-annotation.edit-mode.range.y.start-out-of-bounds.svelte-otipek.svelte-otipek{border-top-width:0 !important}.range-annotation.edit-mode.range.y.end-out-of-bounds.svelte-otipek.svelte-otipek{border-bottom-width:0 !important}.range-annotation.edit-mode.selected.svelte-otipek.svelte-otipek{z-index:2}.range-annotation.edit-mode.selected.svelte-otipek .dot.svelte-otipek{opacity:1}.range-annotation.edit-mode.selected.range.svelte-otipek.svelte-otipek{z-index:2;border:1px solid rgba(255, 0, 221, 0.95)}.range-annotation.edit-mode.selected.range.x.svelte-otipek.svelte-otipek{border-width:0 1px 0 1px}.range-annotation.edit-mode.selected.range.y.svelte-otipek.svelte-otipek{border-width:1px 0 1px 0}.range-annotation.edit-mode.selected.line.svelte-otipek.svelte-otipek{border-color:rgba(255, 0, 221, 0.95) !important}.range-annotation.edit-mode.range.svelte-otipek .dot-drag.svelte-otipek{width:20px;height:20px;cursor:grab;display:flex;align-items:center;justify-content:center}.range-annotation.edit-mode.dragging.svelte-otipek .dot-drag.svelte-otipek{cursor:grabbing}.range-annotation.edit-mode.range.svelte-otipek .dot-drag .dot.svelte-otipek{width:5px;height:5px;background:rgba(255, 0, 221, 0.95);opacity:0;transition:opacity 0.2s}.range-annotation.x.svelte-otipek.svelte-otipek{height:100%}.range-annotation.y.svelte-otipek.svelte-otipek{width:100%}.range-annotation.range.svelte-otipek.svelte-otipek{z-index:-1}.range-annotation.line.svelte-otipek.svelte-otipek{z-index:1;border-width:0;background:transparent;-webkit-transform:scale(1)}.range-annotation.line.x.svelte-otipek.svelte-otipek{height:100%;width:0px}.range-annotation.line.y.svelte-otipek.svelte-otipek{width:100%;height:0px}.create-mode .range-annotation{pointer-events:none}")}function Bm(t){let e,n,r,i,o,a,s=t[5]&&Ym(t);return{c(){e=Hd("div"),i=Yd(),s&&s.c(),o=Wd(),Xd(e,"class",n="range-annotation dw-rect range "+t[0].type+" svelte-otipek"),Xd(e,"style",r=t[16](t[0],t[4]))},m(t,n){Pd(t,e,n),Pd(t,i,n),s&&s.m(t,n),Pd(t,o,n),a=!0},p(t,i){(!a||1&i[0]&&n!==(n="range-annotation dw-rect range "+t[0].type+" svelte-otipek"))&&Xd(e,"class",n),(!a||65553&i[0]&&r!==(r=t[16](t[0],t[4])))&&Xd(e,"style",r),t[5]?s?(s.p(t,i),32&i[0]&&Ag(s,1)):(s=Ym(t),s.c(),Ag(s,1),s.m(o.parentNode,o)):s&&(_g(),Tg(s,1,1,()=>{s=null}),Mg())},i(t){a||(Ag(s),a=!0)},o(t){Tg(s),a=!1},d(t){t&&Fd(e),t&&Fd(i),s&&s.d(t),t&&Fd(o)}}}function qm(t){let e,n,r,i,o,a,s=t[5]&&Wm(t);return{c(){e=Hd("div"),s&&s.c(),Xd(e,"class",n="range-annotation dw-line line "+t[0].type+" svelte-otipek"),Xd(e,"style",r=t[15](t[0],t[4])),Qd(e,"edit-mode",t[5]),Qd(e,"no-edit-mode",!t[5]),Qd(e,"selected",t[8])},m(n,r){Pd(n,e,r),s&&s.m(e,null),i=!0,o||(a=Gd(e,"mousedown",Vd(t[31])),o=!0)},p(t,o){t[5]?s?(s.p(t,o),32&o[0]&&Ag(s,1)):(s=Wm(t),s.c(),Ag(s,1),s.m(e,null)):s&&(_g(),Tg(s,1,1,()=>{s=null}),Mg()),(!i||1&o[0]&&n!==(n="range-annotation dw-line line "+t[0].type+" svelte-otipek"))&&Xd(e,"class",n),(!i||32785&o[0]&&r!==(r=t[15](t[0],t[4])))&&Xd(e,"style",r),(!i||33&o[0])&&Qd(e,"edit-mode",t[5]),(!i||33&o[0])&&Qd(e,"no-edit-mode",!t[5]),(!i||257&o[0])&&Qd(e,"selected",t[8])},i(t){i||(Ag(s),i=!0)},o(t){Tg(s),i=!1},d(t){t&&Fd(e),s&&s.d(),o=!1,a()}}}function Ym(t){let e,n,r,i,o,a,s,l,c,u,h;function f(e){t[35](e)}function p(e){t[36](e)}let d={type:"range",annotation:t[0],index:t[6],repeatedIndex:t[7],orientation:t[0].type,rangeOverPlotStart:t[11],rangeOverPlotEnd:t[12]};return void 0!==t[3]&&(d.activeResizer=t[3]),void 0!==t[1]&&(d.resizing=t[1]),i=new Hg({props:d}),cg.push(()=>Eg(i,"activeResizer",f)),cg.push(()=>Eg(i,"resizing",p)),i.$on("selectAnnotation",t[37]),{c(){e=Hd("div"),n=Hd("div"),n.innerHTML='<div class="dot svelte-otipek"></div>',r=Yd(),$g(i.$$.fragment),Xd(n,"class","dot-drag svelte-otipek"),Xd(e,"style",s=t[16](t[0],t[4])),Xd(e,"class",l="range-annotation edit-mode range "+t[0].type+" svelte-otipek"),Qd(e,"edit-mode",t[5]),Qd(e,"no-edit-mode",!t[5]),Qd(e,"selected",t[8]),Qd(e,"dragging",t[2]),Qd(e,"start-out-of-bounds",t[11]),Qd(e,"end-out-of-bounds",t[12])},m(o,a){Pd(o,e,a),Rd(e,n),Rd(e,r),Og(i,e,null),c=!0,u||(h=Gd(n,"mousedown",Vd(t[18])),u=!0)},p(t,n){const r={};1&n[0]&&(r.annotation=t[0]),64&n[0]&&(r.index=t[6]),128&n[0]&&(r.repeatedIndex=t[7]),1&n[0]&&(r.orientation=t[0].type),2048&n[0]&&(r.rangeOverPlotStart=t[11]),4096&n[0]&&(r.rangeOverPlotEnd=t[12]),!o&&8&n[0]&&(o=!0,r.activeResizer=t[3],mg(()=>o=!1)),!a&&2&n[0]&&(a=!0,r.resizing=t[1],mg(()=>a=!1)),i.$set(r),(!c||65553&n[0]&&s!==(s=t[16](t[0],t[4])))&&Xd(e,"style",s),(!c||1&n[0]&&l!==(l="range-annotation edit-mode range "+t[0].type+" svelte-otipek"))&&Xd(e,"class",l),(!c||33&n[0])&&Qd(e,"edit-mode",t[5]),(!c||33&n[0])&&Qd(e,"no-edit-mode",!t[5]),(!c||257&n[0])&&Qd(e,"selected",t[8]),(!c||5&n[0])&&Qd(e,"dragging",t[2]),(!c||2049&n[0])&&Qd(e,"start-out-of-bounds",t[11]),(!c||4097&n[0])&&Qd(e,"end-out-of-bounds",t[12])},i(t){c||(Ag(i.$$.fragment,t),c=!0)},o(t){Tg(i.$$.fragment,t),c=!1},d(t){t&&Fd(e),Sg(i),u=!1,h()}}}function Wm(t){let e,n,r,i;function o(e){t[32](e)}function a(e){t[33](e)}let s={type:"line",annotation:t[0],index:t[6],repeatedIndex:t[7],orientation:t[0].type,lineOverPlotStart:t[13],lineOverPlotEnd:t[14]};return void 0!==t[3]&&(s.activeResizer=t[3]),void 0!==t[1]&&(s.resizing=t[1]),e=new Hg({props:s}),cg.push(()=>Eg(e,"activeResizer",o)),cg.push(()=>Eg(e,"resizing",a)),e.$on("selectAnnotation",t[34]),{c(){$g(e.$$.fragment)},m(t,n){Og(e,t,n),i=!0},p(t,i){const o={};1&i[0]&&(o.annotation=t[0]),64&i[0]&&(o.index=t[6]),128&i[0]&&(o.repeatedIndex=t[7]),1&i[0]&&(o.orientation=t[0].type),8192&i[0]&&(o.lineOverPlotStart=t[13]),16384&i[0]&&(o.lineOverPlotEnd=t[14]),!n&&8&i[0]&&(n=!0,o.activeResizer=t[3],mg(()=>n=!1)),!r&&2&i[0]&&(r=!0,o.resizing=t[1],mg(()=>r=!1)),e.$set(o)},i(t){i||(Ag(e.$$.fragment,t),i=!0)},o(t){Tg(e.$$.fragment,t),i=!1},d(t){Sg(e,t)}}}function Gm(t){let e,n,r,i,o,a;const s=[qm,Bm],l=[];function c(t,e){return"line"!==t[0].display||t[10]?t[10]||t[9]?-1:1:0}return~(e=c(t))&&(n=l[e]=s[e](t)),{c(){n&&n.c(),r=Wd()},m(n,s){~e&&l[e].m(n,s),Pd(n,r,s),i=!0,o||(a=Gd(window,"keydown",t[17]),o=!0)},p(t,i){let o=e;e=c(t),e===o?~e&&l[e].p(t,i):(n&&(_g(),Tg(l[o],1,1,()=>{l[o]=null}),Mg()),~e?(n=l[e],n?n.p(t,i):(n=l[e]=s[e](t),n.c()),Ag(n,1),n.m(r.parentNode,r)):n=null)},i(t){i||(Ag(n),i=!0)},o(t){Tg(n),i=!1},d(t){~e&&l[e].d(t),t&&Fd(r),o=!1,a()}}}function Vm(t,e,n){return!t.showInAllPlots||t.showInAllPlots&&e===n.activeRepeatedAnnotationIndex}function Xm(t,e,n){let r,i,o,a,s,l,c,u,{annotation:h}=e,{dataToPx:f}=e,{pxToData:p}=e,{bounds:d}=e,{theme:g}=e,{cm:m}=e,{editMode:y=!1}=e,{editorState:v}=e,{index:b}=e,{repeatedIndex:x}=e,{moveX:w=0}=e,{moveY:k=0}=e,{resizing:_=!1}=e,{dragging:M=!1}=e,{activeResizer:A}=e,{forceAnchorDragTemp:T}=e,E=!1;const $=ag();function O(t,e){const{color:n,opacity:r,display:i}=t,o=function(t){const{color:e,opacity:n,display:r}=t,{color:i,opacity:o}=v.defaults[r]||{};return N(String(e)).toString()===N(String(i)).toString()&&o===n}(t),a=Mh(e,"vis.base.annotations."+i,{}),s=o&&a.color&&"opacity"in a?ym(a.color,a.opacity):ym(n,r/100);return m(s,{noInvert:o})}function S(t){const e="x"===t?d.x:d.y;return{plotStart:e,plotEnd:e+("x"===t?d.width:d.height),plotOtherAxisStart:"x"===t?d.y:d.x,plotOtherAxisSize:"x"===t?d.height:d.width}}let L=!1,C=!1,z=!1,D=!1;function j(){h.showInAllPlots&&x!==v.activeRepeatedAnnotationIndex||$("updateAnnotation",{annotation:h,index:b,type:"range",id:h.id})}return t.$$set=t=>{"annotation"in t&&n(0,h=t.annotation),"dataToPx"in t&&n(21,f=t.dataToPx),"pxToData"in t&&n(22,p=t.pxToData),"bounds"in t&&n(23,d=t.bounds),"theme"in t&&n(4,g=t.theme),"cm"in t&&n(24,m=t.cm),"editMode"in t&&n(5,y=t.editMode),"editorState"in t&&n(25,v=t.editorState),"index"in t&&n(6,b=t.index),"repeatedIndex"in t&&n(7,x=t.repeatedIndex),"moveX"in t&&n(19,w=t.moveX),"moveY"in t&&n(20,k=t.moveY),"resizing"in t&&n(1,_=t.resizing),"dragging"in t&&n(2,M=t.dragging),"activeResizer"in t&&n(3,A=t.activeResizer),"forceAnchorDragTemp"in t&&n(26,T=t.forceAnchorDragTemp)},t.$$.update=()=>{if(33554432&t.$$.dirty[0]&&function(t){n(8,E=1===t.selectedRangeAnnotations.length&&t.selectedRangeAnnotations[0]===h.id)}(v),116916619&t.$$.dirty[0]&&E&&Vm(h,x,v)&&_&&(w||k)){if(["l","r"].includes(A)){const t=f(h.x0,0,h._plot)[0],e=f(h.x1,0,h._plot)[0];let r="x0";"l"===A&&"line"===h.display?r="x0":"l"===A?r=t>e?"x1":"x0":"r"===A&&(r=t>e?"x0":"x1");let[i]=f(h[r],0,h._plot),o=f(h["x1"===r?"x0":"x1"],0,h._plot)[0];i-o>0!=i+w-o>0&&n(3,A="l"===A?"r":"l"),i+=w;const a=d.x,s=d.x+d.width;if(i>=a&&i<=s){const{x:t}=p(i,d.y);if(n(0,h[r]=t,h),T&&(o-=w,o>=a&&o<=s)){const{x:t}=p(o,d.y);n(0,h["x1"===r?"x0":"x1"]=t,h)}}}else{const t=f(0,h.y0,h._plot)[1],e=f(0,h.y1,h._plot)[1];let r="y0";"t"===A&&"line"===h.display?r="y0":"t"===A?r=t<e?"y0":"y1":"b"===A&&(r=t<e?"y1":"y0");let i=f(0,h[r],h._plot)[1];const o=f(0,h["y1"===r?"y0":"y1"],h._plot)[1];i-o>0!=i+k-o>0&&n(3,A="t"===A?"b":"t"),i+=k;const a=d.y,s=d.y+d.height;if(i>=a&&i<=s){const{y:t}=p(d.x,i);n(0,h[r]=t,h)}}n(19,w=0),n(20,k=0),j()}if(49807749&t.$$.dirty[0]&&E&&Vm(h,x,v)&&M&&(w||k)){const t=h.type;if("x"===t){let[e,r]=f(h.x0,0,h._plot),[i,o]=f(h.x1,0,h._plot);e+=w,i+=w;if(Dg({start:Math.min(e,i),end:Math.max(e,i),bounds:d,type:t,move:w})){const{x:t}=p(e,d.y),{x:r}=p(i,d.y);n(0,h.x0=t,h),n(0,h.x1=r,h)}}else{let[e,r]=f(0,h.y0,h._plot),[i,o]=f(0,h.y1,h._plot);r+=k,o+=k;if(Dg({start:Math.min(r,o),end:Math.max(r,o),bounds:d,type:t,move:k})){const{y:t}=p(d.x,r),{y:e}=p(d.x,o);n(0,h.y0=t,h),n(0,h.y1=e,h)}}n(19,w=0),n(20,k=0),j()}if(2097153&t.$$.dirty[0]&&n(28,[r,i]=function(t,e){return["x"===t.type?e(t.x0,0,t._plot)[0]:e(0,t.y0,t._plot)[1],"x"===t.type?e(t.x1,0,t._plot)[0]:e(0,t.y1,t._plot)[1]]}(h,f),r,(n(27,i),n(0,h),n(21,f),n(8,E),n(7,x),n(25,v),n(1,_),n(19,w),n(20,k),n(3,A),n(23,d),n(22,p),n(26,T),n(2,M))),268435456&t.$$.dirty[0]&&n(10,o=void 0===r),134217728&t.$$.dirty[0]&&n(9,a=void 0===i),402653184&t.$$.dirty[0]&&n(30,s=Math.min(r,i)),402653184&t.$$.dirty[0]&&n(29,l=Math.max(r,i)),1610612736&t.$$.dirty[0]&&n(16,c=(t,e)=>{const{type:r}=t,i=[],{plotStart:o,plotEnd:a,plotOtherAxisStart:c,plotOtherAxisSize:u}=S(r),h=Math.max(s,o),f=Math.min(l-s,a-s,l-o);return n(11,L=s<o),n(12,C=l>a),f>=0?(i.push(`${"x"===r?"left":"top"}: ${h}px`),i.push(`${"x"===r?"width":"height"}: ${f}px`),i.push(`${"x"===r?"top":"left"}: ${c}px`),i.push(`${"x"===r?"height":"width"}: ${u}px`)):i.push("display: none"),i.push("background-color: "+O(t,e)),i.join("; ")}),268435456&t.$$.dirty[0]&&n(15,u=(t,e)=>{const{type:i,strokeWidth:o,strokeType:a}=t,s=o||1,l=[],{plotStart:c,plotEnd:u,plotOtherAxisStart:h,plotOtherAxisSize:f}=S(i),p=r-s/2;if(r<=u&&r>=c){l.push(`${"x"===i?"left":"top"}: ${p}px`),l.push(`${"x"===i?"top":"left"}: ${h}px`),l.push(`${"x"===i?"height":"width"}: ${f}px`),l.push(`${"x"===i?"border-left-width":"border-top-width"}: ${s}px`);const t=r+s/2-s,e=r-s/2+s,o=-5;if(n(13,z=!1),n(14,D=!1),t<c){const e=Number((c-t).toFixed(1)),r="x"===i?`0 ${o}px 0 ${e}px`:`${e}px 0 ${o}px 0`;l.push(`clip-path: inset(${r})`),n(13,z=!0)}if(e>u){const t=Number((e-u).toFixed(1)),r="x"===i?`0 ${t}px 0 ${o}px`:`${o}px 0 ${t}px 0`;l.push(`clip-path: inset(${r})`),n(14,D=!0)}}else l.push("display: none");return l.push("border-color: "+O(t,e)),l.push("border-style: "+(a||"solid")),l.join("; ")}),411043585&t.$$.dirty[0]&&E){const t={start:r,end:i,invalidStart:o,invalidEnd:a,bounds:d,plot:h._plot};$("updateEditorState",{selectedAnnotationProps:t})}},[h,_,M,A,g,y,b,x,E,a,o,L,C,z,D,u,c,function(t){y&&"Escape"===t.key&&E&&$("selectAnnotation",null)},function(){y&&($("selectAnnotation",{type:"range",index:b,repeatedIndex:x,id:h.id}),n(2,M=!0))},w,k,f,p,d,m,v,T,i,r,l,s,function(e){sg.call(this,t,e)},function(t){A=t,n(3,A),n(8,E),n(0,h),n(7,x),n(25,v),n(1,_),n(19,w),n(20,k),n(21,f),n(23,d),n(22,p),n(26,T),n(2,M)},function(t){_=t,n(1,_)},function(e){sg.call(this,t,e)},function(t){A=t,n(3,A),n(8,E),n(0,h),n(7,x),n(25,v),n(1,_),n(19,w),n(20,k),n(21,f),n(23,d),n(22,p),n(26,T),n(2,M)},function(t){_=t,n(1,_)},function(e){sg.call(this,t,e)}]}class Km extends Cg{constructor(t){super(),Ng(this,t,Xm,Gm,Dd,{annotation:0,dataToPx:21,pxToData:22,bounds:23,theme:4,cm:24,editMode:5,editorState:25,index:6,repeatedIndex:7,moveX:19,moveY:20,resizing:1,dragging:2,activeResizer:3,forceAnchorDragTemp:26},Hm,[-1,-1])}}var Zm=Lh,Jm=Eh;var Qm=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),i?Jm(n,s,l):Zm(n,s,l)}return n},ty=Qm,ey=ts;var ny=function(t,e){return t&&ty(e,ey(e),t)};var ry=uo,iy=Pa,oy=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},ay=Object.prototype.hasOwnProperty;var sy=Ra,ly=function(t){if(!ry(t))return oy(t);var e=iy(t),n=[];for(var r in t)("constructor"!=r||!e&&ay.call(t,r))&&n.push(r);return n},cy=Ka;var uy=function(t){return cy(t)?sy(t,!0):ly(t)},hy=Qm,fy=uy;var py=function(t,e){return t&&hy(e,fy(e),t)},dy={exports:{}};!function(t,e){var n=go,r=e&&!e.nodeType&&e,i=r&&t&&!t.nodeType&&t,o=i&&i.exports===r?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=a?a(n):new t.constructor(n);return t.copy(r),r}}(dy,dy.exports);var gy=dy.exports;var my=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},yy=Qm,vy=Oc;var by=function(t,e){return yy(t,vy(t),e)},xy=Fa(Object.getPrototypeOf,Object),wy=ds,ky=xy,_y=Oc,My=Mc,Ay=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)wy(e,_y(t)),t=ky(t);return e}:My,Ty=Qm,Ey=Ay;var $y=function(t,e){return Ty(t,Ey(t),e)},Oy=_c,Sy=Ay,Ly=uy;var Ny=function(t){return Oy(t,Ly,Sy)},Cy=Object.prototype.hasOwnProperty;var zy=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Cy.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Dy=fc;var jy=function(t){var e=new t.constructor(t.byteLength);return new Dy(e).set(new Dy(t)),e},Ry=jy;var Iy=function(t,e){var n=e?Ry(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Py=/\w*$/;var Fy=function(t){var e=new t.constructor(t.source,Py.exec(t));return e.lastIndex=t.lastIndex,e},Uy=ko?ko.prototype:void 0,Hy=Uy?Uy.valueOf:void 0;var By=jy;var qy=jy,Yy=Iy,Wy=Fy,Gy=function(t){return Hy?Object(Hy.call(t)):{}},Vy=function(t,e){var n=e?By(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var Xy=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return qy(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return Yy(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Vy(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return Wy(t);case"[object Set]":return new r;case"[object Symbol]":return Gy(t)}},Ky=uo,Zy=Object.create,Jy=function(){function t(){}return function(e){if(!Ky(e))return{};if(Zy)return Zy(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Qy=xy,tv=Pa;var ev=function(t){return"function"!=typeof t.constructor||tv(t)?{}:Jy(Qy(t))},nv=Kc,rv=zo;var iv=function(t){return rv(t)&&"[object Map]"==nv(t)},ov=_a,av=Aa&&Aa.isMap,sv=av?ov(av):iv,lv=Kc,cv=zo;var uv=function(t){return cv(t)&&"[object Set]"==lv(t)},hv=_a,fv=Aa&&Aa.isSet,pv=fv?hv(fv):uv,dv=rc,gv=ta,mv=Lh,yv=ny,vv=py,bv=gy,xv=my,wv=by,kv=$y,_v=Cc,Mv=Ny,Av=Kc,Tv=zy,Ev=Xy,$v=ev,Ov=ha,Sv=da,Lv=sv,Nv=uo,Cv=pv,zv=ts,Dv=uy,jv={};jv["[object Arguments]"]=jv["[object Array]"]=jv["[object ArrayBuffer]"]=jv["[object DataView]"]=jv["[object Boolean]"]=jv["[object Date]"]=jv["[object Float32Array]"]=jv["[object Float64Array]"]=jv["[object Int8Array]"]=jv["[object Int16Array]"]=jv["[object Int32Array]"]=jv["[object Map]"]=jv["[object Number]"]=jv["[object Object]"]=jv["[object RegExp]"]=jv["[object Set]"]=jv["[object String]"]=jv["[object Symbol]"]=jv["[object Uint8Array]"]=jv["[object Uint8ClampedArray]"]=jv["[object Uint16Array]"]=jv["[object Uint32Array]"]=!0,jv["[object Error]"]=jv["[object Function]"]=jv["[object WeakMap]"]=!1;var Rv=function t(e,n,r,i,o,a){var s,l=1&n,c=2&n,u=4&n;if(r&&(s=o?r(e,i,o,a):r(e)),void 0!==s)return s;if(!Nv(e))return e;var h=Ov(e);if(h){if(s=Tv(e),!l)return xv(e,s)}else{var f=Av(e),p="[object Function]"==f||"[object GeneratorFunction]"==f;if(Sv(e))return bv(e,l);if("[object Object]"==f||"[object Arguments]"==f||p&&!o){if(s=c||p?{}:$v(e),!l)return c?kv(e,vv(s,e)):wv(e,yv(s,e))}else{if(!jv[f])return o?e:{};s=Ev(e,f,l)}}a||(a=new dv);var d=a.get(e);if(d)return d;a.set(e,s),Cv(e)?e.forEach((function(i){s.add(t(i,n,r,i,e,a))})):Lv(e)&&e.forEach((function(i,o){s.set(o,t(i,n,r,o,e,a))}));var g=h?void 0:(u?c?Mv:_v:c?Dv:zv)(e);return gv(g||e,(function(i,o){g&&(i=e[o=i]),mv(s,o,t(i,n,r,o,e,a))})),s};var Iv=lo((function(t){return Rv(t,5)}));const Pv="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";function Fv(){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;)e+=Pv[63&n[t]];return e}(10)}const{document:Uv}=jd;function Hv(t){Id(t,"svelte-1rcv1y9",".annotations-inner.svelte-1rcv1y9.svelte-1rcv1y9{width:100%;height:100%;pointer-events:none}.annotations-inner.editing.svelte-1rcv1y9.svelte-1rcv1y9{pointer-events:auto}.annotations-inner.create-mode.svelte-1rcv1y9.svelte-1rcv1y9{cursor:crosshair;-webkit-user-select:none;user-select:none}.annotations-inner.create-mode.svelte-1rcv1y9 .text-annotation,.annotations-inner.create-mode.svelte-1rcv1y9 .text-annotation .resizer,.annotations-inner.create-mode.svelte-1rcv1y9 .range-annotation,.annotations-inner.create-mode.svelte-1rcv1y9 .range-annotation .resizer{pointer-events:none}.create-rect.text.svelte-1rcv1y9.svelte-1rcv1y9{position:absolute;outline:1px solid rgba(255, 0, 221, 0.95);background:rgba(255, 0, 221, 0.1)}.create-rect.range.svelte-1rcv1y9.svelte-1rcv1y9{position:absolute;background:rgba(0, 0, 0, 0.1)}.annotation-keys{display:flex;flex-direction:column;gap:5px;width:100%;margin-top:10px}.annotation-keys.hide{display:none}.annotation-keys .key{display:flex;align-items:baseline}.annotation-keys .num{flex:0 0 auto;display:flex;justify-content:center;align-items:center;font-size:12px;border-radius:50%;width:20px;height:20px}.annotation-keys.dir-rtl .num{margin-left:5px}.annotation-keys:not(.dir-rtl) .num{margin-right:5px}.annotation-keys .num.dw-bold{font-weight:700}.annotation-plot.svelte-1rcv1y9.svelte-1rcv1y9{position:absolute;width:100%;height:100%;box-sizing:border-box;border:1px dashed rgba(255, 0, 221, 0);transition:border-color 200ms}.annotation-plot.show-bounds.svelte-1rcv1y9.svelte-1rcv1y9{border-color:rgba(255, 0, 221, 0.5);transition-delay:100ms}.annotations-inner.creating.svelte-1rcv1y9 .annotation-plot.svelte-1rcv1y9:not(.create-plot){cursor:default}.enter-plot.svelte-1rcv1y9.svelte-1rcv1y9{background:rgba(255, 0, 221, 0.1)}")}function Bv(t,e,n){const r=t.slice();return r[86]=e[n],r}function qv(t,e,n){const r=t.slice();return r[86]=e[n],r}function Yv(t,e,n){const r=t.slice();return r[91]=e[n],r}function Wv(t){let e,n=t[11],r=[];for(let e=0;e<n.length;e+=1)r[e]=Gv(Yv(t,n,e));return{c(){e=Hd("div");for(let t=0;t<r.length;t+=1)r[t].c();Xd(e,"class","annotation-plots")},m(t,n){Pd(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,i){if(1574913&i[0]|3&i[1]){let o;for(n=t[11],o=0;o<n.length;o+=1){const a=Yv(t,n,o);r[o]?r[o].p(a,i):(r[o]=Gv(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&Fd(e),Ud(r,t)}}}function Gv(t){let e;return{c(){e=Hd("div"),Xd(e,"class","annotation-plot svelte-1rcv1y9"),Qd(e,"create-plot",t[19]&&t[20]&&t[91].name===t[20].name),Qd(e,"enter-plot",t[0].plotHasUpdated&&t[0].selectedAnnotationProps.plot===t[91].name),Qd(e,"show-bounds",t[32][t[91].name]),Qd(e,"assigned-plot",t[31]===t[91].name),Jd(e,"width",t[91].width+"px"),Jd(e,"height",t[91].height+"px"),Jd(e,"left",t[91].x+"px"),Jd(e,"top",t[91].y+"px"),Jd(e,"opacity","1")},m(t,n){Pd(t,e,n)},p(t,n){1574912&n[0]&&Qd(e,"create-plot",t[19]&&t[20]&&t[91].name===t[20].name),2049&n[0]&&Qd(e,"enter-plot",t[0].plotHasUpdated&&t[0].selectedAnnotationProps.plot===t[91].name),2048&n[0]|2&n[1]&&Qd(e,"show-bounds",t[32][t[91].name]),2048&n[0]|1&n[1]&&Qd(e,"assigned-plot",t[31]===t[91].name),2048&n[0]&&Jd(e,"width",t[91].width+"px"),2048&n[0]&&Jd(e,"height",t[91].height+"px"),2048&n[0]&&Jd(e,"left",t[91].x+"px"),2048&n[0]&&Jd(e,"top",t[91].y+"px")},d(t){t&&Fd(e)}}}function Vv(t){let e,n,r,i,o,a,s,l,c,u,h;function f(e){t[58](e)}function p(e){t[59](e)}function d(e){t[60](e)}function g(e){t[61](e)}function m(e){t[62](e)}function y(e){t[63](e)}function v(e){t[64](e)}function b(e){t[65](e)}function x(e){t[66](e)}let w={annotation:t[86],dataToPx:t[2],pxToData:t[3],bounds:t[86]._bounds,theme:t[4],cm:t[5],chroma:t[7],purifyHtml:t[8],key:t[14][t[86]._index],rtl:t[9],mirrorX:t[10],isMobileWidth:t[22],editMode:t[12],editorState:t[0],forceAnchorDragTemp:t[28],index:t[86]._index,repeatedIndex:t[86]._repeatedIndex};return void 0!==t[25]&&(w.noOffsetAtEventStart=t[25]),void 0!==t[30]&&(w.isEditable=t[30]),void 0!==t[17]&&(w.dragging=t[17]),void 0!==t[27]&&(w.forceAnchorDrag=t[27]),void 0!==t[26]&&(w.forceOffsetDrag=t[26]),void 0!==t[15]&&(w.moveX=t[15]),void 0!==t[16]&&(w.moveY=t[16]),void 0!==t[18]&&(w.resizing=t[18]),void 0!==t[29]&&(w.activeResizer=t[29]),e=new Um({props:w}),cg.push(()=>Eg(e,"noOffsetAtEventStart",f)),cg.push(()=>Eg(e,"isEditable",p)),cg.push(()=>Eg(e,"dragging",d)),cg.push(()=>Eg(e,"forceAnchorDrag",g)),cg.push(()=>Eg(e,"forceOffsetDrag",m)),cg.push(()=>Eg(e,"moveX",y)),cg.push(()=>Eg(e,"moveY",v)),cg.push(()=>Eg(e,"resizing",b)),cg.push(()=>Eg(e,"activeResizer",x)),e.$on("selectAnnotation",t[36]),e.$on("updateEditorState",t[38]),e.$on("updateAnnotation",t[37]),{c(){$g(e.$$.fragment)},m(t,n){Og(e,t,n),h=!0},p(t,h){const f={};16&h[1]&&(f.annotation=t[86]),4&h[0]&&(f.dataToPx=t[2]),8&h[0]&&(f.pxToData=t[3]),16&h[1]&&(f.bounds=t[86]._bounds),16&h[0]&&(f.theme=t[4]),32&h[0]&&(f.cm=t[5]),128&h[0]&&(f.chroma=t[7]),256&h[0]&&(f.purifyHtml=t[8]),16384&h[0]|16&h[1]&&(f.key=t[14][t[86]._index]),512&h[0]&&(f.rtl=t[9]),1024&h[0]&&(f.mirrorX=t[10]),4194304&h[0]&&(f.isMobileWidth=t[22]),4096&h[0]&&(f.editMode=t[12]),1&h[0]&&(f.editorState=t[0]),268435456&h[0]&&(f.forceAnchorDragTemp=t[28]),16&h[1]&&(f.index=t[86]._index),16&h[1]&&(f.repeatedIndex=t[86]._repeatedIndex),!n&&33554432&h[0]&&(n=!0,f.noOffsetAtEventStart=t[25],mg(()=>n=!1)),!r&&1073741824&h[0]&&(r=!0,f.isEditable=t[30],mg(()=>r=!1)),!i&&131072&h[0]&&(i=!0,f.dragging=t[17],mg(()=>i=!1)),!o&&134217728&h[0]&&(o=!0,f.forceAnchorDrag=t[27],mg(()=>o=!1)),!a&&67108864&h[0]&&(a=!0,f.forceOffsetDrag=t[26],mg(()=>a=!1)),!s&&32768&h[0]&&(s=!0,f.moveX=t[15],mg(()=>s=!1)),!l&&65536&h[0]&&(l=!0,f.moveY=t[16],mg(()=>l=!1)),!c&&262144&h[0]&&(c=!0,f.resizing=t[18],mg(()=>c=!1)),!u&&536870912&h[0]&&(u=!0,f.activeResizer=t[29],mg(()=>u=!1)),e.$set(f)},i(t){h||(Ag(e.$$.fragment,t),h=!0)},o(t){Tg(e.$$.fragment,t),h=!1},d(t){Sg(e,t)}}}function Xv(t){let e,n,r,i,o,a,s;function l(e){t[68](e)}function c(e){t[69](e)}function u(e){t[70](e)}function h(e){t[71](e)}function f(e){t[72](e)}let p={annotation:t[86],dataToPx:t[2],pxToData:t[3],bounds:t[86]._bounds,theme:t[4],cm:t[5],editMode:t[12],editorState:t[0],forceAnchorDragTemp:t[28],index:t[86]._index,repeatedIndex:t[86]._repeatedIndex};return void 0!==t[17]&&(p.dragging=t[17]),void 0!==t[15]&&(p.moveX=t[15]),void 0!==t[16]&&(p.moveY=t[16]),void 0!==t[18]&&(p.resizing=t[18]),void 0!==t[29]&&(p.activeResizer=t[29]),e=new Km({props:p}),cg.push(()=>Eg(e,"dragging",l)),cg.push(()=>Eg(e,"moveX",c)),cg.push(()=>Eg(e,"moveY",u)),cg.push(()=>Eg(e,"resizing",h)),cg.push(()=>Eg(e,"activeResizer",f)),e.$on("selectAnnotation",t[36]),e.$on("updateEditorState",t[38]),e.$on("updateAnnotation",t[37]),{c(){$g(e.$$.fragment)},m(t,n){Og(e,t,n),s=!0},p(t,s){const l={};8&s[1]&&(l.annotation=t[86]),4&s[0]&&(l.dataToPx=t[2]),8&s[0]&&(l.pxToData=t[3]),8&s[1]&&(l.bounds=t[86]._bounds),16&s[0]&&(l.theme=t[4]),32&s[0]&&(l.cm=t[5]),4096&s[0]&&(l.editMode=t[12]),1&s[0]&&(l.editorState=t[0]),268435456&s[0]&&(l.forceAnchorDragTemp=t[28]),8&s[1]&&(l.index=t[86]._index),8&s[1]&&(l.repeatedIndex=t[86]._repeatedIndex),!n&&131072&s[0]&&(n=!0,l.dragging=t[17],mg(()=>n=!1)),!r&&32768&s[0]&&(r=!0,l.moveX=t[15],mg(()=>r=!1)),!i&&65536&s[0]&&(i=!0,l.moveY=t[16],mg(()=>i=!1)),!o&&262144&s[0]&&(o=!0,l.resizing=t[18],mg(()=>o=!1)),!a&&536870912&s[0]&&(a=!0,l.activeResizer=t[29],mg(()=>a=!1)),e.$set(l)},i(t){s||(Ag(e.$$.fragment,t),s=!0)},o(t){Tg(e.$$.fragment,t),s=!1},d(t){Sg(e,t)}}}function Kv(t){let e,n,r;return{c(){e=Hd("div"),Xd(e,"class",n="create-rect "+t[0].createMode+" svelte-1rcv1y9"),Xd(e,"style",r=t[33](t[20]))},m(t,n){Pd(t,e,n)},p(t,i){1&i[0]&&n!==(n="create-rect "+t[0].createMode+" svelte-1rcv1y9")&&Xd(e,"class",n),1048576&i[0]|4&i[1]&&r!==(r=t[33](t[20]))&&Xd(e,"style",r)},d(t){t&&Fd(e)}}}function Zv(t){let e,n,r,i,o,a,s,l,c,u;gg(t[57]);let h=t[12]&&t[11]&&t[11].length&&Wv(t),f=t[35],p=[];for(let e=0;e<f.length;e+=1)p[e]=Vv(qv(t,f,e));const d=t=>Tg(p[t],1,1,()=>{p[t]=null});let g=t[34],m=[];for(let e=0;e<g.length;e+=1)m[e]=Xv(Bv(t,g,e));const y=t=>Tg(m[t],1,1,()=>{m[t]=null});let v=t[12]&&t[19]&&Kv(t);return{c(){e=Yd(),n=Hd("div"),h&&h.c(),r=Yd(),i=Hd("div");for(let t=0;t<p.length;t+=1)p[t].c();o=Yd(),a=Hd("div");for(let t=0;t<m.length;t+=1)m[t].c();s=Yd(),v&&v.c(),Xd(i,"class","text-annotations"),Xd(i,"aria-label",t[6]),Xd(i,"role","list"),Xd(a,"class","range-annotations"),Xd(n,"data-uid",t[1]),Xd(n,"class","annotations-inner svelte-1rcv1y9"),Qd(n,"editing",t[21]),Qd(n,"create-mode",!!t[0].createMode),Qd(n,"creating",t[19])},m(f,d){Pd(f,e,d),Pd(f,n,d),h&&h.m(n,null),Rd(n,r),Rd(n,i);for(let t=0;t<p.length;t+=1)p[t]&&p[t].m(i,null);t[67](i),Rd(n,o),Rd(n,a);for(let t=0;t<m.length;t+=1)m[t]&&m[t].m(a,null);var g;Rd(n,s),v&&v.m(n,null),t[73](n),l=!0,c||(u=[Gd(window,"keydown",t[39]),Gd(window,"mousedown",t[40]),Gd(window,"mousemove",t[41]),Gd(window,"mouseup",t[42]),Gd(window,"resize",t[57]),Gd(Uv.body,"mouseleave",t[43]),Gd(n,"mousedown",(g=t[44],function(t){return t.preventDefault(),g.call(this,t)}))],c=!0)},p(t,e){if(t[12]&&t[11]&&t[11].length?h?h.p(t,e):(h=Wv(t),h.c(),h.m(n,r)):h&&(h.d(1),h=null),2118637501&e[0]|240&e[1]){let n;for(f=t[35],n=0;n<f.length;n+=1){const r=qv(t,f,n);p[n]?(p[n].p(r,e),Ag(p[n],1)):(p[n]=Vv(r),p[n].c(),Ag(p[n],1),p[n].m(i,null))}for(_g(),n=f.length;n<p.length;n+=1)d(n);Mg()}if((!l||64&e[0])&&Xd(i,"aria-label",t[6]),805802045&e[0]|232&e[1]){let n;for(g=t[34],n=0;n<g.length;n+=1){const r=Bv(t,g,n);m[n]?(m[n].p(r,e),Ag(m[n],1)):(m[n]=Xv(r),m[n].c(),Ag(m[n],1),m[n].m(a,null))}for(_g(),n=g.length;n<m.length;n+=1)y(n);Mg()}t[12]&&t[19]?v?v.p(t,e):(v=Kv(t),v.c(),v.m(n,null)):v&&(v.d(1),v=null),(!l||2&e[0])&&Xd(n,"data-uid",t[1]),(!l||2097152&e[0])&&Qd(n,"editing",t[21]),(!l||1&e[0])&&Qd(n,"create-mode",!!t[0].createMode),(!l||524288&e[0])&&Qd(n,"creating",t[19])},i(t){if(!l){for(let t=0;t<f.length;t+=1)Ag(p[t]);for(let t=0;t<g.length;t+=1)Ag(m[t]);l=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)Tg(p[t]);m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)Tg(m[t]);l=!1},d(r){r&&Fd(e),r&&Fd(n),h&&h.d(),Ud(p,r),t[67](null),Ud(m,r),v&&v.d(),t[73](null),c=!1,Cd(u)}}}function Jv({type:t,createPlot:e,createX:n,createY:r,moveX:i,moveY:o}){const a="x"===t?i:o,s="x"===t?n:r,l="x"===t?e.x:e.y,c=l+("x"===t?e.width:e.height),u=a<0?s+a:s,h=Math.max(u,l),f=a<0?s:s+a;return{rangeStart:h,rangeSize:Math.min(f-h,c-h,f-l)}}function Qv(t,e,n){let r,i,o,a,s,l,c,u,{uid:h=null}=e,{textAnnotations:f=[]}=e,{rangeAnnotations:p=[]}=e,{dataToPx:d}=e,{pxToData:g}=e,{theme:m}=e,{cm:y=(t=>t)}=e,{visWidth:v}=e,{visHeight:b}=e,{annotationKeysSel:x=null}=e,{ariaLabel:w=""}=e,{chroma:k}=e,{purifyHtml:_}=e,{rtl:M=!1}=e,{mirrorX:A=!1}=e,{plots:T=null}=e;function E(t,e,n,r){return null===e?vm(n,r):t._plot?e.find(e=>e.name===t._plot):e[0]}function $(t,e,n,r){const i=t.map((t,e)=>Object.assign(Object.assign({},t),{_index:e}));return(e?i.flatMap(t=>t.showInAllPlots?function(t,e){return e.map((e,n)=>Object.assign(Object.assign({},t),{_plot:e.name,_repeatedIndex:n}))}(t,e):Object.assign(Object.assign({},t),{_plot:t.plot})):i).map(t=>Object.assign(Object.assign({},t),{_bounds:E(t,e,n,r)})).filter(t=>!!t._bounds)}function O({textAnnotation:t,isMobileWidth:e,dataToPx:n}){return e&&t.mobileFallback&&!gm(t)&&!mm(t)&&function(t,e){var n=e(t.x,t.y),r=n[0],i=n[1];return void 0!==r&&void 0!==i}(t,n)}let S,L,N=[],{editMode:C=!1}=e,{editorState:z={defaults:{},selectedTextAnnotations:[],selectedRangeAnnotations:[],createMode:!1,disableControls:!1,hideConnectorLine:!1,forceOffsetDrag:!1,width:null,height:null,dataToPx:null,pxToData:null,plotHasUpdated:!1,draggingOutOfBounds:!1,activeRepeatedAnnotationIndex:null,messages:{disableControls:""},selectedAnnotationProps:{id:null,plot:null,x:null,y:null,dx:null,dy:null,invalidX:!1,invalidY:!1,width:null,height:null,mobileFallback:!1,text:null,start:null,end:null,invalidStart:!1,invalidEnd:!1,bounds:{}}}}=e;og(()=>{z&&L&&(T&&T.length?(n(0,z.width=T[0].width,z),n(0,z.height=T[0].height,z)):(n(0,z.width=L.offsetWidth,z),n(0,z.height=L.offsetHeight,z)))});let D,j,R,I,P,F=0,U=0,H=!1,B=!1,q=!1,Y=!1,W=0,G=0,V=null,X=!1,K=null;function Z(){n(25,D=!1),n(26,j=!1),n(27,R=!1),n(28,I=!1),n(0,z.forceOffsetDrag=!1,z),n(17,H=!1),B=!1,n(18,q=!1),n(0,z.plotHasUpdated=!1,z)}function J(){n(15,F=0),n(16,U=0),n(19,Y=!1),n(52,W=0),n(53,G=0),n(20,V=null),n(0,z.createMode=!1,z)}const Q=ag();let tt=!1;const et=document.querySelector(".dw-chart-body"),nt={};return t.$$set=t=>{"uid"in t&&n(1,h=t.uid),"textAnnotations"in t&&n(45,f=t.textAnnotations),"rangeAnnotations"in t&&n(46,p=t.rangeAnnotations),"dataToPx"in t&&n(2,d=t.dataToPx),"pxToData"in t&&n(3,g=t.pxToData),"theme"in t&&n(4,m=t.theme),"cm"in t&&n(5,y=t.cm),"visWidth"in t&&n(47,v=t.visWidth),"visHeight"in t&&n(48,b=t.visHeight),"annotationKeysSel"in t&&n(49,x=t.annotationKeysSel),"ariaLabel"in t&&n(6,w=t.ariaLabel),"chroma"in t&&n(7,k=t.chroma),"purifyHtml"in t&&n(8,_=t.purifyHtml),"rtl"in t&&n(9,M=t.rtl),"mirrorX"in t&&n(10,A=t.mirrorX),"plots"in t&&n(11,T=t.plots),"editMode"in t&&n(12,C=t.editMode),"editorState"in t&&n(0,z=t.editorState)},t.$$.update=()=>{if(2048&t.$$.dirty[0]|212992&t.$$.dirty[1]&&n(56,r=$(f,T,v,b)),2048&t.$$.dirty[0]|229376&t.$$.dirty[1]&&n(55,i=$(p,T,v,b)),33554432&t.$$.dirty[1]&&n(35,o=[...r].reverse()),16777216&t.$$.dirty[1]&&n(34,a=[...i].reverse()),8192&t.$$.dirty[0]&&n(22,s=u<=450),144&t.$$.dirty[0]&&n(54,l=Md(m,k).fallbackBaseColor),4211204&t.$$.dirty[0]|8667136&t.$$.dirty[1]&&x&&(n(14,N=function({textAnnotations:t,isMobileWidth:e,dataToPx:n}){let r=0;return t.map(t=>{const i=O({textAnnotation:t,isMobileWidth:e,dataToPx:n});i&&r++;return{render:i,num:i?r:null}})}({textAnnotations:f,isMobileWidth:s,dataToPx:d})),x.classed("hide",!0).html(""),x.classed("dir-rtl",M),s)){let t=!1;f.forEach((e,n)=>{const r=N[n];r.render&&(t=!0,null==x||x.append("div.key").html(function(t,e,n){return`<div style="border: 1px solid ${t}" class="num dw-circle dw-bold"><span class="export-text">${e.num}</span></div><span class="text export-text">${_(n.text)}</span>`}(l,r,e)))}),x.classed("hide",!t)}5&t.$$.dirty[0]&&z&&n(0,z.dataToPx=d,z),9&t.$$.dirty[0]&&z&&n(0,z.pxToData=g,z),98305&t.$$.dirty[0]|6291456&t.$$.dirty[1]&&n(33,c=t=>{if(!t)return;const e=[];if("text"===z.createMode){if(Math.abs(F)<1)return;return e.push(`top: ${U>0?G:G+U}px`),e.push(`height: ${U>0?U:-U}px`),e.push(`left: ${F>0?W:W+F}px`),e.push(`width: ${F>0?F:-F}px`),e.join("; ")}if("range"===z.createMode){if(Math.abs(F)<1&&Math.abs(U)<1)return;if(Math.abs(U)>Math.abs(F)){const{rangeStart:n,rangeSize:r}=Jv({type:"y",createPlot:t,createX:W,createY:G,moveX:F,moveY:U});e.push(`top: ${n}px`),e.push(`height: ${r}px`),e.push(`left: ${t.x}px`),e.push(`width: ${t.width}px`)}else{const{rangeStart:n,rangeSize:r}=Jv({type:"x",createPlot:t,createX:W,createY:G,moveX:F,moveY:U});e.push(`left: ${n}px`),e.push(`width: ${r}px`),e.push(`top: ${t.y}px`),e.push(`height: ${t.height}px`)}}return e.join("; ")}),4097&t.$$.dirty[0]|49152&t.$$.dirty[1]&&C&&Q("update",{rangeAnnotations:Iv(p),textAnnotations:Iv(f),editorState:Iv(z)}),3014657&t.$$.dirty[0]&&(n(21,tt=H||q||Y||!!z.createMode),et&&(tt?et.classList.add("editing-annotations"):et.classList.remove("editing-annotations"))),395265&t.$$.dirty[0]&&T&&T.forEach(t=>{const e=z.selectedRangeAnnotations.length>0&&(q||H)&&z.selectedAnnotationProps&&(z.selectedAnnotationProps.plot===t.name||null!==z.activeRepeatedAnnotationIndex&&z.activeRepeatedAnnotationIndex>=0),r=z.selectedTextAnnotations.length>0&&H;n(32,nt[t.name]=!!z.createMode||r||e,nt)})},[z,h,d,g,m,y,w,k,_,M,A,T,C,u,N,F,U,H,q,Y,V,tt,s,S,L,D,j,R,I,P,X,K,nt,c,a,o,function(t){if(null===t.detail)return n(0,z.selectedTextAnnotations=[],z),n(0,z.selectedRangeAnnotations=[],z),n(0,z.activeRepeatedAnnotationIndex=null,z),void n(30,X=!1);if(n(0,z.activeRepeatedAnnotationIndex=t.detail.repeatedIndex,z),"text"===t.detail.type){const e=z.selectedTextAnnotations,r=e.length>1;(e[0]!==t.detail.id||r)&&(n(30,X=!1),n(0,z.selectedTextAnnotations=[t.detail.id],z),n(0,z.selectedRangeAnnotations=[],z))}else n(0,z.selectedRangeAnnotations=[t.detail.id],z),n(0,z.selectedTextAnnotations=[],z)},function(t){const{annotation:e,type:r}=t.detail,i=Iv(e);if(delete i._index,delete i._bounds,delete i._plot,delete i._repeatedIndex,"text"===r){const t=f.findIndex(t=>t.id===e.id);uu(f[t],i)||n(45,f[t]=i,f)}else{const t=p.findIndex(t=>t.id===e.id);uu(p[t],i)||n(46,p[t]=i,p)}},function(t){const[e,r]=Object.entries(t.detail)[0];n(0,z[e]=r,z)},function(t){C&&"Escape"===t.key&&Y&&J()},function(){C&&(n(0,z.selectedTextAnnotations=[],z),n(0,z.selectedRangeAnnotations=[],z),n(0,z.activeRepeatedAnnotationIndex=null,z))},function(t){C&&((H||Y||q&&["l","r"].includes(P))&&(n(15,F+=t.movementX),t.movementX&&(n(30,X=!1),B=!0)),(H||Y||q&&["t","b"].includes(P))&&(n(16,U+=t.movementY),t.movementY&&(n(30,X=!1),B=!0)),n(28,I=!1),t.ctrlKey&&!D&&n(28,I=!0))},function(t){if(C){if(!B){const e=t.target,r=e.parentNode;n(30,X=e.classList.contains("text-edit")||r.classList&&r.classList.contains("text-edit"))}if(B&&z.plotHasUpdated&&n(31,K=z.selectedAnnotationProps.plot),Z(),Y&&V){!function(t){if("text"===z.createMode){n(0,z.selectedTextAnnotations=[t],z),n(0,z.selectedRangeAnnotations=[],z);const e=f.find(e=>e.id===t);if(e&&O({textAnnotation:e,isMobileWidth:s,dataToPx:d}))return;n(30,X=!0),setTimeout(()=>{const e=S.querySelector(`[data-annotation-id="${t}"]`);if(e){const t=e.querySelector(".text-edit");t.focus(),function(t){var e=document.createRange();e.selectNodeContents(t);var n=window.getSelection();n&&(n.removeAllRanges(),n.addRange(e))}(t)}})}"range"===z.createMode&&(n(0,z.selectedTextAnnotations=[],z),n(0,z.selectedRangeAnnotations=[t],z))}(function(t){if("text"===z.createMode){const{x:e,y:r}=g(W,G),i=function(t,e){const n=t*(A?-1:1)<0,r=e<0;if(n&&r)return"br";if(n&&!r)return"tr";if(!n&&r)return"bl";return"tl"}(F,U),o=Math.abs(F/t.width*100),a=Object.assign(Object.assign({},Iv(z.defaults.text)),{x:e,y:r,align:i,width:o,id:Fv()});return null!==T&&(a.plot=t.name),Math.abs(F)<10&&Math.abs(U)<10&&(a.width=25,a.align="mc",a.dy=G-t.y<100?50:-50,a.connectorLine.enabled=!0),s&&(a.mobileFallback=!1),f.unshift(a),n(45,f),a.id}{const e=Math.min(Math.max(W+F,t.x),t.x+t.width),r=Math.min(Math.max(G+U,t.y),t.y+t.height),{x:i,y:o}=g(W,G),{x:a,y:s}=g(e,r),l=Math.abs(F)>Math.abs(U)?"x":"y";let c="range";("x"===l&&Math.abs(F)<10||"y"===l&&Math.abs(U)<10)&&(c="line");const u=Object.assign(Object.assign({},Iv(z.defaults[c])),{type:l,display:c,x0:i,x1:a,y0:o,y1:s,id:Fv()});return null!==T&&(u.plot=t.name),p.unshift(u),n(46,p),u.id}}(V)),J()}}},function(){C&&(H||q)&&Z()},function(t){if(C&&z.createMode&&!1===Y){if(n(19,Y=!0),null===T)n(20,V=vm(v,b));else{const e=t.target,r=[...e.parentElement.children].indexOf(e);n(20,V=T[r])}n(52,W=t.offsetX+V.x),n(53,G=t.offsetY+V.y)}},f,p,v,b,x,function({textAnnotations:t,rangeAnnotations:e,editorState:r}){void 0===t||uu(f,t)||n(45,f=t),void 0===e||uu(p,e)||n(46,p=e),void 0===r||uu(z,r)||n(0,z=r)},J,W,G,l,i,r,function(){n(13,u=window.innerWidth)},function(t){D=t,n(25,D)},function(t){X=t,n(30,X)},function(t){H=t,n(17,H)},function(t){R=t,n(27,R)},function(t){j=t,n(26,j)},function(t){F=t,n(15,F)},function(t){U=t,n(16,U)},function(t){q=t,n(18,q)},function(t){P=t,n(29,P)},function(t){cg[t?"unshift":"push"](()=>{S=t,n(23,S)})},function(t){H=t,n(17,H)},function(t){F=t,n(15,F)},function(t){U=t,n(16,U)},function(t){q=t,n(18,q)},function(t){P=t,n(29,P)},function(t){cg[t?"unshift":"push"](()=>{L=t,n(24,L)})}]}class tb extends Cg{constructor(t){super(),Ng(this,t,Qv,Zv,Dd,{uid:1,textAnnotations:45,rangeAnnotations:46,dataToPx:2,pxToData:3,theme:4,cm:5,visWidth:47,visHeight:48,annotationKeysSel:49,ariaLabel:6,chroma:7,purifyHtml:8,rtl:9,mirrorX:10,plots:11,editMode:12,editorState:0,setAnnotationState:50,stopCreatingAnnotation:51},Hv,[-1,-1,-1,-1])}get setAnnotationState(){return this.$$.ctx[50]}get stopCreatingAnnotation(){return this.$$.ctx[51]}}function eb(t){return Es(t)?t:dw.column("x",[t],"date").val(0)}function nb(t){return{style0:Mh(t,"vis.d3-lines.lines.widths.style0",2),style1:Mh(t,"vis.d3-lines.lines.widths.style1",3),style2:Mh(t,"vis.d3-lines.lines.widths.style2",4),style3:Mh(t,"vis.d3-lines.lines.widths.style3",1),invisible:0}}function rb(t){return Mh(t,"vis.d3-lines.mobileBreakpoint",350)}function ib(t,e){const n=e?"lines":"area";return{standard:Mh(t,"vis.d3-".concat(n,".rangePadding"),10),insideLabels:Mh(t,"vis.d3-".concat(n,".rangePaddingInner"),50)}}function ob(t){return{top:0,bottom:0-Mh(t,"vis.base.legend.rowSpacing",0)}}function ab(t){return _h(t.trim().replace(/<br *\/?>|\n/g,""))}var sb={circle:"M1,0A1,1,0,1,1,-1,0A1,1,0,1,1,1,0",cross:"M-1.1889981892818033,-0.3963327297606011L-0.3963327297606011,-0.3963327297606011L-0.3963327297606011,-1.1889981892818033L0.3963327297606011,-1.1889981892818033L0.3963327297606011,-0.3963327297606011L1.1889981892818033,-0.3963327297606011L1.1889981892818033,0.3963327297606011L0.3963327297606011,0.3963327297606011L0.3963327297606011,1.1889981892818033L-0.3963327297606011,1.1889981892818033L-0.3963327297606011,0.3963327297606011L-1.1889981892818033,0.3963327297606011Z",diamond:"M0,-1.2533021179752901L1.2533021179752901,0L0,1.2533021179752901L-1.2533021179752901,0Z",hexagon:"M0,-1.0995723403806665L0.9523860585677004,-0.5497861701903333L0.9523860585677004,0.5497861701903333L0,1.0995723403806665L-0.9523860585677004,0.5497861701903333L-0.9523860585677004,-0.5497861701903333L0,-1.0995723403806665Z",marker:"M0.004979896974227243,-3.3767473763342513C-0.5667419149948458,-3.3767473763342513,-1.0302899786713222,-2.913302192969097,-1.0302899786713222,-2.3414787254543126C-1.0302899786713222,-2.181335722756794,-0.993893619009957,-2.0294807089487485,-0.9288867346761991,-1.8942102462789254C-0.9252491808116011,-1.8865223925388308,0.004978672208616249,0,0.004978672208616249,0L0.9276240013312831,-1.8715643301319844C0.9996071505851586,-2.0124956594557375,1.0402473230885547,-2.1722393885640776,1.0402473230885547,-2.3414787254543126C1.0402473230885547,-2.9133034177347077,0.5768021397234003,-3.3767473763342513,0.004977447443005238,-3.3767473763342513M0.6211607006217187,-2.341477500688702A0.6211607006217187,0.6211607006217187,0,1,1,-0.6211607006217187,-2.341477500688702A0.6211607006217187,0.6211607006217187,0,1,1,0.6211607006217187,-2.341477500688702",spike:"M-2,0L0,-3.141592653589793L2,0",square:"M-0.8862269254527579,-0.8862269254527579h1.7724538509055159v1.7724538509055159h-1.7724538509055159Z",star:"M0,-1.6728932614097094L0.3755879381022125,-0.5169524475509316L1.5910160373299558,-0.5169524475509316L0.6077140496138717,0.19745826439700848L0.9833019877160845,1.353399078255786L1.6653345369377348e-16,0.6389883663078462L-0.983301987716084,1.3533990782557863L-0.6077140496138715,0.19745826439700861L-1.591016037329956,-0.5169524475509313L-0.37558793810221275,-0.5169524475509315Z",triangleDown:"M0,1.555120301556214L1.3467736870885982,-0.777560150778107L-1.3467736870885982,-0.777560150778107Z",triangleUp:"M0,-1.555120301556214L1.3467736870885982,0.777560150778107L-1.3467736870885982,0.777560150778107Z",wye:"M0.4783075492868435,0.27615099233618934L0.4783075492868435,1.2327660909098763L-0.4783075492868435,1.2327660909098763L-0.4783075492868435,0.2761509923361892L-1.3067605262954114,-0.20215655695065426L-0.8284529770085678,-1.030609533959222L2.7755575615628914e-17,-0.5523019846723786L0.8284529770085678,-1.030609533959222L1.3067605262954114,-0.20215655695065426Z",triangle_down:"M0,1.555120301556214L1.3467736870885982,-0.777560150778107L-1.3467736870885982,-0.777560150778107Z",triangle_up:"M0,-1.555120301556214L1.3467736870885982,0.777560150778107L-1.3467736870885982,0.777560150778107Z"};const lb={circle:1,square:.89,diamond:1.25,triangleUp:1.4,triangleDown:1,cross:1.18,star:1.52,wye:1.5,hexagon:1.1};var cb=is;var ub=function(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r},hb=function(t,e,n,r){return cb(t,(function(t,i,o){e(r,t,n(t),o)})),r},fb=Gf,pb=ha;var db,gb=Eh,mb=function(t,e){return function(n,r){var i=pb(n)?ub:hb,o=e?e():{};return i(n,t,fb(r),o)}},yb=Object.prototype.hasOwnProperty,vb=lo(mb((function(t,e,n){yb.call(t,n)?t[n].push(e):gb(t,n,[e])})));function bb(t,e,n){const{css:r,getProp:i,typography:o}=function(t,e){const n=function(t){let e="";for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const n of t)e+=n+(r.length?r.shift():"");return e.split("\n").filter(t=>t).filter(t=>!t.includes("%UNDEFINED%")).join("\n")};function r(t,e,n){return Mh(t,e,void 0===n?"%UNDEFINED%":n)}return{getProp:(t,n)=>r(e,t,n),getObjProp:r,typography:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(sd).filter(n=>{let[r]=n;return np(t,r)||np(e,r)}).map(n=>{let[r,{prop:i,tsf:o=as}]=n;const a=Mh(t,r,e[r]);return"".concat(i,": ").concat(o(a),";")}).join("\n")},css:function(){return t.css(n(...arguments))},cssTemplate:n,UNDEFINED_STYLE:"%UNDEFINED%"}}(t,e),a=i("vis.d3-lines.lines.widths.style0",2),s=i("vis.d3-lines.lines.widths.style1",3),l=i("vis.d3-lines.lines.widths.style2",4),c=i("vis.d3-lines.lines.widths.style3",1),u=i("vis.d3-lines.lines.defaultSettings.bgStrokeWidth",1);return r(db||(h=["\n        ","\n\n        /* default styles for direct labels */\n        .d3l-line-labels .d3l-line-label {\n            ","\n        }\n\n        /** Single labels */\n        /* styles for series labels, unless overwritten by higher specificity */\n        .d3l-line-labels .series-label {\n            ","\n        }\n        /* styles for value labels, unless overwritten by higher specificity */\n        .d3l-line-labels .value-label {\n            ","\n        }\n\n        /** Combined labels */\n        /* styles for direct labels when both series and value label are displayed */\n        .d3l-line-labels .d3l-line-label.combined {\n            ","\n        }\n        /* styles for series labels when combined with value label */\n        .d3l-line-labels .d3l-line-label.combined .series-label {\n            ","\n        }\n        /* styles for value labels when combined with series label */\n        .d3l-line-labels .d3l-line-label.combined .value-label {\n            ","\n        }\n\n        g.tooltip {\n            font-size: ",";\n            fill: ",";\n        }\n\n        svg g.line-symbols {\n            stroke: ",";\n        }\n\n        .line-style-dash-style1 path,\n        .line-style-dash-style2 path,\n        .line-style-dash-style3 path {\n            stroke-linecap: ","!important;\n        }\n\n        svg .lines .line.line-style-dash-style0 path {\n            stroke-linecap: ",";\n        }\n\n        .legend-key .key-line {\n            stroke-linecap: ",";\n        }\n\n        .line-style-width-style0 {\n            stroke-width: ",";\n            path.bg-stroke {\n                stroke-width: ",";\n            }\n        }\n        .line-style-width-style1 {\n            stroke-width: ",";\n            path.bg-stroke {\n                stroke-width: ",";\n            }\n        }\n        .line-style-width-style2 {\n            stroke-width: ",";\n            path.bg-stroke {\n                stroke-width: ",";\n            }\n        }\n        .line-style-width-style3 {\n            stroke-width: ",";\n            path.bg-stroke {\n                stroke-width: ",";\n            }\n        }\n        .line-style-width-invisible {\n            stroke-width: ",";\n        }\n\n        ","\n    "],f||(f=h.slice(0)),db=Object.freeze(Object.defineProperties(h,{raw:{value:Object.freeze(f)}}))),"center"===Mh(e,"vis.base.legend.alignment")?"\n    .d3l-color-key:not(.d3l-hidden) {\n        display: inline-flex !important;\n        justify-content: center;\n        width: 100%;\n        flex-wrap: wrap;\n    }\n    .d3l-color-key:not(.d3l-hidden) div {\n        position: relative;\n    }":"",o(Mh(e,"vis.d3-lines.labels.lineLabels")),o(Mh(e,"vis.d3-lines.labels.lineLabels.series")),o(Mh(e,"vis.d3-lines.labels.lineLabels.value")),o(Mh(e,"vis.d3-lines.labels.lineLabels.combined")),o(Mh(e,"vis.d3-lines.labels.lineLabels.combined.series"),{fontWeight:"bold"}),o(Mh(e,"vis.d3-lines.labels.lineLabels.combined.value")),i("vis.d3-lines.labels.tooltip.fontSize"),i("vis.d3-lines.labels.tooltip.color"),i("vis.d3-lines.symbols.outline.color"),i("vis.d3-lines.lines.linecap.dashed","round"),i("vis.d3-lines.lines.linecap.normal","round"),i("vis.d3-lines.legend.swatch.linecap","round"),ld(a),ld(a+2*u),ld(s),ld(s+2*u),ld(l),ld(l+2*u),ld(c),ld(c+2*u),ld(0),n?"\n        .d3l-key.legend-key div {\n            border-radius: ".concat(i("vis.base.legend.swatch.borderRadius"),";\n        }\n        path.area {\n            mix-blend-mode: ").concat(i("vis.d3-area.areas.blendMode"),";\n        }"):"");var h,f}var xb=Jo,wb=uo;var kb=lo((function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return wb(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xb(t,e,{leading:r,maxWait:e,trailing:i})}));const{window:_b}=jd;function Mb(t){Id(t,"svelte-1f9s592",'.resize-controls.svelte-1f9s592.svelte-1f9s592.svelte-1f9s592{position:absolute;pointer-events:none}.height-resizer.svelte-1f9s592.svelte-1f9s592.svelte-1f9s592{margin-top:-10px;pointer-events:all;height:21px;cursor:ns-resize}.height-resizer.svelte-1f9s592 .height-resizer-inner.svelte-1f9s592.svelte-1f9s592{width:100%;border-top:1px solid transparent;top:calc(50% - 1.5px);position:relative;display:flex;justify-content:center}.height-resizer.svelte-1f9s592 .value-container.svelte-1f9s592.svelte-1f9s592{font-weight:bold;margin-top:8px;position:relative;color:rgb(255, 0, 221)}.height-resizer.svelte-1f9s592 .value-container.svelte-1f9s592>div.svelte-1f9s592{padding:0px 3px;border-radius:2px}.height-resizer.svelte-1f9s592 .value-container .value-background.svelte-1f9s592.svelte-1f9s592{color:transparent;opacity:0.85;position:absolute;z-index:10}.height-resizer.svelte-1f9s592 .value-container .value.svelte-1f9s592.svelte-1f9s592{position:relative;z-index:11}.height-resizer.svelte-1f9s592:hover .height-resizer-inner.svelte-1f9s592.svelte-1f9s592{border-top:1px solid rgba(255, 0, 221, 0.95)}.height-resizer-frame.svelte-1f9s592.svelte-1f9s592.svelte-1f9s592{top:0px;width:100%;height:100%;pointer-events:none;position:absolute;box-sizing:border-box;border:1px dotted transparent;background:transparent;transition:border-color 0.1s ease-in-out, background 0.1s ease-in-out}.resize-controls.resizing.svelte-1f9s592 .height-resizer-frame.svelte-1f9s592.svelte-1f9s592{border:1px dotted rgba(255, 0, 221, 0.425);background:rgba(255, 0, 221, 0.1)}.resize-controls.active.svelte-1f9s592 .height-resizer.svelte-1f9s592.svelte-1f9s592::before{content:"";position:absolute;left:calc(50% - 30px);right:calc(50% - 30px);bottom:-5px;height:4px;background:rgba(255, 0, 221, 0.4);border-radius:0 0 3px 3px;text-align:center;border-top:1px solid rgba(255, 0, 221, 0.25)}.resize-controls.active.svelte-1f9s592 .height-resizer.svelte-1f9s592.svelte-1f9s592:hover::before{background:rgba(255, 0, 221, 0.5);border-top:1px solid rgba(255, 0, 221, 0)}.hover-trigger.svelte-1f9s592.svelte-1f9s592.svelte-1f9s592{width:100%;height:100%;z-index:-100;pointer-events:all;position:relative}')}function Ab(t){let e,n,r,i,o,a;return{c(){e=Hd("div"),n=Hd("div"),r=qd(t[5]),i=Yd(),o=Hd("div"),a=qd(t[5]),Xd(n,"class","value-background svelte-1f9s592"),Jd(n,"background",t[2]),Xd(o,"class","value svelte-1f9s592"),Xd(e,"class","value-container svelte-1f9s592")},m(t,s){Pd(t,e,s),Rd(e,n),Rd(n,r),Rd(e,i),Rd(e,o),Rd(o,a)},p(t,e){32&e&&Zd(r,t[5]),4&e&&Jd(n,"background",t[2]),32&e&&Zd(a,t[5])},d(t){t&&Fd(e)}}}function Tb(t){let e,n,r,i,o,a,s,l,c,u=t[1].top+"px",h=t[1].left+"px",f=t[0].width+"px",p=t[0].height+"px",d=t[4]&&Ab(t);return{c(){e=Hd("div"),n=Hd("div"),r=Yd(),i=Hd("div"),o=Hd("div"),d&&d.c(),a=Yd(),s=Hd("div"),Xd(n,"class","hover-trigger svelte-1f9s592"),Xd(o,"class","height-resizer-inner svelte-1f9s592"),Xd(i,"class","height-resizer svelte-1f9s592"),Xd(s,"class","height-resizer-frame svelte-1f9s592"),Xd(e,"class","resize-controls svelte-1f9s592"),Qd(e,"active",t[3]||t[4]),Qd(e,"resizing",t[4]),Jd(e,"top",u),Jd(e,"left",h),Jd(e,"width",f),Jd(e,"height",p)},m(u,h){Pd(u,e,h),Rd(e,n),Rd(e,r),Rd(e,i),Rd(i,o),d&&d.m(o,null),Rd(e,a),Rd(e,s),l||(c=[Gd(_b,"mouseup",t[8]),Gd(_b,"mousemove",t[7]),Gd(i,"mousedown",t[6])],l=!0)},p(t,[n]){t[4]?d?d.p(t,n):(d=Ab(t),d.c(),d.m(o,null)):d&&(d.d(1),d=null),24&n&&Qd(e,"active",t[3]||t[4]),16&n&&Qd(e,"resizing",t[4]),2&n&&u!==(u=t[1].top+"px")&&Jd(e,"top",u),2&n&&h!==(h=t[1].left+"px")&&Jd(e,"left",h),1&n&&f!==(f=t[0].width+"px")&&Jd(e,"width",f),1&n&&p!==(p=t[0].height+"px")&&Jd(e,"height",p)},i:Sd,o:Sd,d(t){t&&Fd(e),d&&d.d(),l=!1,Cd(c)}}}function Eb(t,e,n){let r,i,o,{plotSize:a={width:0,height:0}}=e,{positionOffset:s={top:0,left:0}}=e,{plotHeightMode:l="fixed"}=e,{chartStore:c}=e,{outerContainer:u}=e,{throttleHeightUpdate:h=!1}=e,{minPlotHeight:f=10}=e,{onResizeStart:p}=e,{onResizeEnd:d}=e,{handleResize:g}=e,{backgroundColor:m="#ffffff"}=e,y=!1,v=!1;function b(t){const e="fixed"===l?t:+(t/a.width).toFixed(3),n="fixed"===l?"plotHeightFixed":"plotHeightRatio";null==c||c.setKey("metadata.visualize."+n,e),g&&g(t)}var x;return x=()=>{if(window.parent!==window)try{window.parent.addEventListener("mousemove",()=>n(3,y=!1))}catch(t){}},ig().$$.on_mount.push(x),t.$$set=t=>{"plotSize"in t&&n(0,a=t.plotSize),"positionOffset"in t&&n(1,s=t.positionOffset),"plotHeightMode"in t&&n(9,l=t.plotHeightMode),"chartStore"in t&&n(10,c=t.chartStore),"outerContainer"in t&&n(11,u=t.outerContainer),"throttleHeightUpdate"in t&&n(12,h=t.throttleHeightUpdate),"minPlotHeight"in t&&n(13,f=t.minPlotHeight),"onResizeStart"in t&&n(14,p=t.onResizeStart),"onResizeEnd"in t&&n(15,d=t.onResizeEnd),"handleResize"in t&&n(16,g=t.handleResize),"backgroundColor"in t&&n(2,m=t.backgroundColor)},t.$$.update=()=>{513&t.$$.dirty&&n(5,r=function(t,e){return`${"fixed"===e?t.height:Math.round(100*t.height/t.width)}${"fixed"===e?"px":"%"}`}(a,l))},[a,s,m,y,v,r,function(t){p&&p(),n(4,v=!0),o=t.clientY,i=a.height,null==u||u.classList.add("resizing")},function(t){n(3,y=document.elementsFromPoint(t.x,t.y).some(t=>t.classList.contains("hover-trigger")||t.classList.contains("height-resizer"))),v&&(n(0,a.height=Math.round(Math.max(f,i+(t.clientY-o))),a),h?kb(b,h)(a.height):b(a.height))},function(){v&&(n(4,v=!1),null==u||u.classList.remove("resizing"),d&&d(a.height))},l,c,u,h,f,p,d,g]}class $b extends Cg{constructor(t){super(),Ng(this,t,Eb,Tb,Dd,{plotSize:0,positionOffset:1,plotHeightMode:9,chartStore:10,outerContainer:11,throttleHeightUpdate:12,minPlotHeight:13,onResizeStart:14,onResizeEnd:15,handleResize:16,backgroundColor:2},Mb)}}const Ob={a:9,A:10,b:9,B:10,c:8,C:10,d:9,D:11,e:9,E:9,f:5,F:8,g:9,G:11,h:9,H:11,i:4,I:4,j:4,J:4,k:8,K:9,l:4,L:8,m:14,M:12,n:9,N:10,o:9,O:11,p:9,P:8,q:9,Q:11,r:6,R:10,s:7,S:9,t:5,T:9,u:9,U:10,v:8,V:10,w:11,W:14,x:8,X:10,y:8,Y:9,z:7,Z:10,".":4,"!":4,"|":4,",":4,":":5,";":5,"-":5,"+":12," ":4},Sb=134217729;function Lb(t,e,n,r,i){let o,a,s,l,c=e[0],u=r[0],h=0,f=0;u>c==u>-c?(o=c,c=e[++h]):(o=u,u=r[++f]);let p=0;if(h<t&&f<n)for(u>c==u>-c?(a=c+o,s=o-(a-c),c=e[++h]):(a=u+o,s=o-(a-u),u=r[++f]),o=a,0!==s&&(i[p++]=s);h<t&&f<n;)u>c==u>-c?(a=o+c,l=a-o,s=o-(a-l)+(c-l),c=e[++h]):(a=o+u,l=a-o,s=o-(a-l)+(u-l),u=r[++f]),o=a,0!==s&&(i[p++]=s);for(;h<t;)a=o+c,l=a-o,s=o-(a-l)+(c-l),c=e[++h],o=a,0!==s&&(i[p++]=s);for(;f<n;)a=o+u,l=a-o,s=o-(a-l)+(u-l),u=r[++f],o=a,0!==s&&(i[p++]=s);return 0===o&&0!==p||(i[p++]=o),p}function Nb(t){return new Float64Array(t)}const Cb=Nb(4),zb=Nb(8),Db=Nb(12),jb=Nb(16),Rb=Nb(4);function Ib(t,e,n,r,i,o){const a=(e-o)*(n-i),s=(t-i)*(r-o),l=a-s,c=Math.abs(a+s);return Math.abs(l)>=33306690738754716e-32*c?l:-function(t,e,n,r,i,o,a){let s,l,c,u,h,f,p,d,g,m,y,v,b,x,w,k,_,M;const A=t-i,T=n-i,E=e-o,$=r-o;x=A*$,f=Sb*A,p=f-(f-A),d=A-p,f=Sb*$,g=f-(f-$),m=$-g,w=d*m-(x-p*g-d*g-p*m),k=E*T,f=Sb*E,p=f-(f-E),d=E-p,f=Sb*T,g=f-(f-T),m=T-g,_=d*m-(k-p*g-d*g-p*m),y=w-_,h=w-y,Cb[0]=w-(y+h)+(h-_),v=x+y,h=v-x,b=x-(v-h)+(y-h),y=b-k,h=b-y,Cb[1]=b-(y+h)+(h-k),M=v+y,h=M-v,Cb[2]=v-(M-h)+(y-h),Cb[3]=M;let O=function(t,e){let n=e[0];for(let t=1;t<4;t++)n+=e[t];return n}(0,Cb),S=22204460492503146e-32*a;if(O>=S||-O>=S)return O;if(h=t-A,s=t-(A+h)+(h-i),h=n-T,c=n-(T+h)+(h-i),h=e-E,l=e-(E+h)+(h-o),h=r-$,u=r-($+h)+(h-o),0===s&&0===l&&0===c&&0===u)return O;if(S=11093356479670487e-47*a+33306690738754706e-32*Math.abs(O),O+=A*u+$*s-(E*c+T*l),O>=S||-O>=S)return O;x=s*$,f=Sb*s,p=f-(f-s),d=s-p,f=Sb*$,g=f-(f-$),m=$-g,w=d*m-(x-p*g-d*g-p*m),k=l*T,f=Sb*l,p=f-(f-l),d=l-p,f=Sb*T,g=f-(f-T),m=T-g,_=d*m-(k-p*g-d*g-p*m),y=w-_,h=w-y,Rb[0]=w-(y+h)+(h-_),v=x+y,h=v-x,b=x-(v-h)+(y-h),y=b-k,h=b-y,Rb[1]=b-(y+h)+(h-k),M=v+y,h=M-v,Rb[2]=v-(M-h)+(y-h),Rb[3]=M;const L=Lb(4,Cb,4,Rb,zb);x=A*u,f=Sb*A,p=f-(f-A),d=A-p,f=Sb*u,g=f-(f-u),m=u-g,w=d*m-(x-p*g-d*g-p*m),k=E*c,f=Sb*E,p=f-(f-E),d=E-p,f=Sb*c,g=f-(f-c),m=c-g,_=d*m-(k-p*g-d*g-p*m),y=w-_,h=w-y,Rb[0]=w-(y+h)+(h-_),v=x+y,h=v-x,b=x-(v-h)+(y-h),y=b-k,h=b-y,Rb[1]=b-(y+h)+(h-k),M=v+y,h=M-v,Rb[2]=v-(M-h)+(y-h),Rb[3]=M;const N=Lb(L,zb,4,Rb,Db);x=s*u,f=Sb*s,p=f-(f-s),d=s-p,f=Sb*u,g=f-(f-u),m=u-g,w=d*m-(x-p*g-d*g-p*m),k=l*c,f=Sb*l,p=f-(f-l),d=l-p,f=Sb*c,g=f-(f-c),m=c-g,_=d*m-(k-p*g-d*g-p*m),y=w-_,h=w-y,Rb[0]=w-(y+h)+(h-_),v=x+y,h=v-x,b=x-(v-h)+(y-h),y=b-k,h=b-y,Rb[1]=b-(y+h)+(h-k),M=v+y,h=M-v,Rb[2]=v-(M-h)+(y-h),Rb[3]=M;const C=Lb(N,Db,4,Rb,jb);return jb[C-1]}(t,e,n,r,i,o,c)}const Pb=Math.pow(2,-52),Fb=new Uint32Array(512);class Ub{static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gb,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vb;const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new Ub(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,s=1/0,l=-1/0,c=-1/0;for(let e=0;e<o;e++){const n=t[2*e],r=t[2*e+1];n<a&&(a=n),r<s&&(s=r),n>l&&(l=n),r>c&&(c=r),this._ids[e]=e}const u=(a+l)/2,h=(s+c)/2;let f,p,d,g=1/0;for(let e=0;e<o;e++){const n=Hb(u,h,t[2*e],t[2*e+1]);n<g&&(f=e,g=n)}const m=t[2*f],y=t[2*f+1];g=1/0;for(let e=0;e<o;e++){if(e===f)continue;const n=Hb(m,y,t[2*e],t[2*e+1]);n<g&&n>0&&(p=e,g=n)}let v=t[2*p],b=t[2*p+1],x=1/0;for(let e=0;e<o;e++){if(e===f||e===p)continue;const n=qb(m,y,v,b,t[2*e],t[2*e+1]);n<x&&(d=e,x=n)}let w=t[2*d],k=t[2*d+1];if(x===1/0){for(let e=0;e<o;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];Yb(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Ib(m,y,v,b,w,k)<0){const t=p,e=v,n=b;p=d,v=w,b=k,d=t,w=e,k=n}const _=function(t,e,n,r,i,o){const a=n-t,s=r-e,l=i-t,c=o-e,u=a*a+s*s,h=l*l+c*c,f=.5/(a*c-s*l);return{x:t+(c*u-s*h)*f,y:e+(a*h-l*u)*f}}(m,y,v,b,w,k);this._cx=_.x,this._cy=_.y;for(let e=0;e<o;e++)this._dists[e]=Hb(t[2*e],t[2*e+1],_.x,_.y);Yb(this._ids,this._dists,0,o-1),this._hullStart=f;let M=3;n[f]=e[d]=p,n[p]=e[f]=d,n[d]=e[p]=f,r[f]=0,r[p]=1,r[d]=2,i.fill(-1),i[this._hashKey(m,y)]=f,i[this._hashKey(v,b)]=p,i[this._hashKey(w,k)]=d,this.trianglesLen=0,this._addTriangle(f,p,d,-1,-1,-1);for(let o,a,s=0;s<this._ids.length;s++){const l=this._ids[s],c=t[2*l],u=t[2*l+1];if(s>0&&Math.abs(c-o)<=Pb&&Math.abs(u-a)<=Pb)continue;if(o=c,a=u,l===f||l===p||l===d)continue;let h=0;for(let t=0,e=this._hashKey(c,u);t<this._hashSize&&(h=i[(e+t)%this._hashSize],-1===h||h===n[h]);t++);h=e[h];let g,m=h;for(;g=n[m],Ib(c,u,t[2*m],t[2*m+1],t[2*g],t[2*g+1])>=0;)if(m=g,m===h){m=-1;break}if(-1===m)continue;let y=this._addTriangle(m,l,n[m],-1,-1,r[m]);r[l]=this._legalize(y+2),r[m]=y,M++;let v=n[m];for(;g=n[v],Ib(c,u,t[2*v],t[2*v+1],t[2*g],t[2*g+1])<0;)y=this._addTriangle(v,l,g,r[l],-1,r[v]),r[l]=this._legalize(y+2),n[v]=v,M--,v=g;if(m===h)for(;g=e[m],Ib(c,u,t[2*g],t[2*g+1],t[2*m],t[2*m+1])<0;)y=this._addTriangle(g,l,m,-1,r[m],r[g]),this._legalize(y+2),r[g]=y,n[m]=m,M--,m=g;this._hullStart=e[l]=m,n[m]=e[v]=l,n[l]=v,i[this._hashKey(c,u)]=l,i[this._hashKey(t[2*m],t[2*m+1])]=m}this.hull=new Uint32Array(M);for(let t=0,e=this._hullStart;t<M;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const a=n[t],s=t-t%3;if(o=s+(t+2)%3,-1===a){if(0===i)break;t=Fb[--i];continue}const l=a-a%3,c=s+(t+1)%3,u=l+(a+2)%3,h=e[o],f=e[t],p=e[c],d=e[u];if(Bb(r[2*h],r[2*h+1],r[2*f],r[2*f+1],r[2*p],r[2*p+1],r[2*d],r[2*d+1])){e[t]=d,e[a]=h;const r=n[u];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===u){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(a,n[o]),this._link(o,u);const s=l+(a+1)%3;i<Fb.length&&(Fb[i++]=s)}else{if(0===i)break;t=Fb[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function Hb(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function Bb(t,e,n,r,i,o,a,s){const l=t-a,c=e-s,u=n-a,h=r-s,f=i-a,p=o-s,d=u*u+h*h,g=f*f+p*p;return l*(h*g-d*p)-c*(u*g-d*f)+(l*l+c*c)*(u*p-h*f)<0}function qb(t,e,n,r,i,o){const a=n-t,s=r-e,l=i-t,c=o-e,u=a*a+s*s,h=l*l+c*c,f=.5/(a*c-s*l),p=(c*u-s*h)*f,d=(a*h-l*u)*f;return p*p+d*d}function Yb(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],o=e[r];let a=i-1;for(;a>=n&&e[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=n+1,o=r;Wb(t,n+r>>1,i),e[t[n]]>e[t[r]]&&Wb(t,n,r),e[t[i]]>e[t[r]]&&Wb(t,i,r),e[t[n]]>e[t[i]]&&Wb(t,n,i);const a=t[i],s=e[a];for(;;){do{i++}while(e[t[i]]<s);do{o--}while(e[t[o]]>s);if(o<i)break;Wb(t,i,o)}t[n+1]=t[o],t[o]=a,r-i+1>=o-n?(Yb(t,e,i,r),Yb(t,e,n,o-1)):(Yb(t,e,n,o-1),Yb(t,e,i,r))}}function Wb(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Gb(t){return t[0]}function Vb(t){return t[1]}const Xb=1e-6;class Kb{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+="L".concat(this._x1=+t,",").concat(this._y1=+e)}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>Xb||Math.abs(this._y1-i)>Xb)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(t-n,",").concat(e,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}rect(t,e,n,r){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}value(){return this._||null}}class Zb{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class Jb{constructor(t){let[e,n,r,i]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500];if(!((r=+r)>=(e=+e)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this;let i,o;const a=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let r,s,l=0,c=0,u=n.length;l<u;l+=3,c+=2){const u=2*n[l],h=2*n[l+1],f=2*n[l+2],p=t[u],d=t[u+1],g=t[h],m=t[h+1],y=t[f],v=t[f+1],b=g-p,x=m-d,w=y-p,k=v-d,_=2*(b*k-x*w);if(Math.abs(_)<1e-9){if(void 0===i){i=o=0;for(const n of e)i+=t[2*n],o+=t[2*n+1];i/=e.length,o/=e.length}const n=1e9*Math.sign((i-p)*k-(o-d)*w);r=(p+y)/2-n*k,s=(d+v)/2+n*w}else{const t=1/_,e=b*b+x*x,n=w*w+k*k;r=p+(k*e-x*n)*t,s=d+(b*n-w*e)*t}a[c]=r,a[c+1]=s}let s,l,c,u=e[e.length-1],h=4*u,f=t[2*u],p=t[2*u+1];r.fill(0);for(let n=0;n<e.length;++n)u=e[n],s=h,l=f,c=p,h=4*u,f=t[2*u],p=t[2*u+1],r[s+2]=r[h]=c-p,r[s+3]=r[h+1]=f-l}render(t){const e=null==t?t=new Kb:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(r<e)continue;const i=2*Math.floor(e/3),a=2*Math.floor(r/3),s=o[i],l=o[i+1],c=o[a],u=o[a+1];this._renderSegment(s,l,c,u,t)}let s,l=i[i.length-1];for(let e=0;e<i.length;++e){s=l,l=i[e];const n=2*Math.floor(r[l]/3),c=o[n],u=o[n+1],h=4*s,f=this._project(c,u,a[h+2],a[h+3]);f&&this._renderSegment(c,u,f[0],f[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new Kb:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new Kb:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new Zb;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let o;const a=this._regioncode(t,e),s=this._regioncode(n,r);0===a&&0===s?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(e[r]===t[o]&&e[r+1]===t[o+1]&&e[(r+2)%i]===t[(o+a-2)%a]&&e[(r+3)%i]===t[(o+a-1)%a]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[t];if(-1===o)return null;const a=[];let s=o;do{const n=Math.floor(s/3);if(a.push(e[2*n],e[2*n+1]),s=s%3==2?s-2:s+1,i[s]!==t)break;s=r[s]}while(s!==o&&-1!==s);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return this._simplify(n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e))}_clipFinite(t,e){const n=e.length;let r,i,o,a,s=null,l=e[n-2],c=e[n-1],u=this._regioncode(l,c),h=0;for(let f=0;f<n;f+=2)if(r=l,i=c,l=e[f],c=e[f+1],o=u,u=this._regioncode(l,c),0===o&&0===u)a=h,h=0,s?s.push(l,c):s=[l,c];else{let e,n,f,p,d;if(0===o){if(null===(e=this._clipSegment(r,i,l,c,o,u)))continue;[n,f,p,d]=e}else{if(null===(e=this._clipSegment(l,c,r,i,u,o)))continue;[p,d,n,f]=e,a=h,h=this._edgecode(n,f),a&&h&&this._edge(t,a,h,s,s.length),s?s.push(n,f):s=[n,f]}a=h,h=this._edgecode(p,d),a&&h&&this._edge(t,a,h,s,s.length),s?s.push(p,d):s=[p,d]}if(s)a=h,h=this._edgecode(s[0],s[1]),a&&h&&this._edge(t,a,h,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,e,n,r,i,o){const a=i<o;for(a&&([t,e,n,r,i,o]=[n,r,t,e,o,i]);;){if(0===i&&0===o)return a?[n,r,t,e]:[t,e,n,r];if(i&o)return null;let s,l,c=i||o;8&c?(s=t+(n-t)*(this.ymax-e)/(r-e),l=this.ymax):4&c?(s=t+(n-t)*(this.ymin-e)/(r-e),l=this.ymin):2&c?(l=e+(r-e)*(this.xmax-t)/(n-t),s=this.xmax):(l=e+(r-e)*(this.xmin-t)/(n-t),s=this.xmin),i?(t=s,e=l,i=this._regioncode(t,e)):(n=s,r=l,o=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,o){let a,s=Array.from(e);if((a=this._project(s[0],s[1],n,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(t,s))for(let e,n=0,r=s.length,i=this._edgecode(s[r-2],s[r-1]);n<r;n+=2)e=i,i=this._edgecode(s[n],s[n+1]),e&&i&&(n=this._edge(t,e,i,s,n),r=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,e,n,r,i){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(t,n,o)||(r.splice(i,0,n,o),i+=2)}return i}_project(t,e,n,r){let i,o,a,s=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<s&&(a=this.ymin,o=t+(s=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<s&&(a=this.ymax,o=t+(s=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<s&&(o=this.xmax,a=e+(s=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<s&&(o=this.xmin,a=e+(s=i)*r)}return[o,a]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let e=0;e<t.length;e+=2){const n=(e+2)%t.length,r=(e+4)%t.length;(t[e]===t[n]&&t[n]===t[r]||t[e+1]===t[n+1]&&t[n+1]===t[r+1])&&(t.splice(n,2),e-=2)}t.length||(t=null)}return t}}const Qb=2*Math.PI,tx=Math.pow;function ex(t){return t[0]}function nx(t){return t[1]}function rx(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class ix{static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ex,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nx,r=arguments.length>3?arguments[3]:void 0;return new ix("length"in t?function(t,e,n,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=e.call(r,i,a,t),o[2*a+1]=n.call(r,i,a,t)}return o}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new Ub(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){const r=2*e[t],i=2*e[t+1],o=2*e[t+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},(t,e)=>e).sort((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]);const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,n=e.length/2;t<n;++t){const n=rx(e[2*t],e[2*t+1],i);e[2*t]=n[0],e[2*t+1]=n[1]}this._delaunator=new Ub(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let t=0,e=n.length;t<e;++t){const e=i[t%3==2?t-2:t+1];-1!==n[t]&&-1!==o[e]||(o[e]=t)}for(let t=0,e=r.length;t<e;++t)a[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new Jb(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const e=a.indexOf(t);return e>0&&(yield a[e-1]),void(e<a.length-1&&(yield a[e+1]))}const s=e[t];if(-1===s)return;let l=s,c=-1;do{if(yield c=o[l],l=l%3==2?l-2:l+1,o[l]!==t)return;if(l=i[l],-1===l){const e=n[(r[t]+1)%n.length];return void(e!==c&&(yield e))}}while(l!==s)}find(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((t=+t)!=t||(e=+e)!=e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:s,points:l}=this;if(-1===r[t]||!l.length)return(t+1)%(l.length>>1);let c=t,u=tx(e-l[2*t],2)+tx(n-l[2*t+1],2);const h=r[t];let f=h;do{let r=s[f];const h=tx(e-l[2*r],2)+tx(n-l[2*r+1],2);if(h<u&&(u=h,c=r),f=f%3==2?f-2:f+1,s[f]!==t)break;if(f=a[f],-1===f){if(f=i[(o[t]+1)%i.length],f!==r&&tx(e-l[2*f],2)+tx(n-l[2*f+1],2)<u)return f;break}}while(f!==h);return c}render(t){const e=null==t?t=new Kb:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,o=r.length;e<o;++e){const o=r[e];if(o<e)continue;const a=2*i[e],s=2*i[o];t.moveTo(n[a],n[a+1]),t.lineTo(n[s],n[s+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=null==e?2:+e;const n=null==t?t=new Kb:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];t.moveTo(i+e,o),t.arc(i,o,e,0,Qb)}return n&&n.value()}renderHull(t){const e=null==t?t=new Kb:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<o;++e){const i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new Zb;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new Kb:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],s=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[s],r[s+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new Zb;return this.renderTriangle(t,e),e.value()}}const ox=t=>{let{a:e,b:n,padding:r}=t;return!(e.x+e.width<n.x-r||n.x+n.width<e.x-r||e.y+e.height<n.y-r||n.y+n.height<e.y-r)},ax=t=>{let{a:e,b:n,padding:r}=t;return!(e.x+e.width<n.x-r||n.x<e.x-r||e.y+e.height<n.y-r||n.y<e.y-r)},sx=t=>{let{label:e,distance:n}=t;const{point:r,centroid:i,width:o,height:a}=e,s=i.y-r.y,l=i.x-r.x,c=180*Math.atan2(s,l)/Math.PI,u=Math.cos(c*Math.PI/180)*n+r.x,h=Math.sin(c*Math.PI/180)*n+r.y,f=u-o/2,p=h-a/2,d=lx({a:r,b:{x:u,y:h},dx:l,dy:s,box:{x:f,y:p,w:o,h:a}}),g=d&&d[0]||0,m=d&&d[1]||0;return Object.assign(Object.assign({},e),{centroid:i,labelPosition:{x:u,y:h},connectingLineAnchor:{x:g,y:m},angle:c,x:f,y:p,width:o,height:a})},lx=t=>{let{a:e,b:n,dx:r,dy:i,box:o}=t;const a=o.x,s=o.x+o.w,l=o.y,c=o.y+o.h,u=i/r,h=e.y-u*e.x,f=[];let p=u*a+h;l<=p&&p<=c&&f.push([a,p]),p=u*s+h,l<=p&&p<=c&&f.push([s,p]);let d=(l-h)/u;a<=d&&d<=s&&f.push([d,l]),d=(c-h)/u,a<=d&&d<=s&&f.push([d,c]);let g=null,m=1/0;for(const t of f){const r=t[0]-e.x,i=t[1]-e.y,o=r*r+i*i;o<m&&cx({a:e,b:n,point:{x:t[0],y:t[1]}})&&(m=o,g=t)}return g},cx=t=>{let{a:e,b:n,point:r}=t;return Math.min(e.x,n.x)<=r.x&&r.x<=Math.max(e.x,n.x)&&Math.min(e.y,n.y)<=r.y&&r.y<=Math.max(e.y,n.y)},ux=(t,e,n,r)=>{const i=[];let o,a,s,l,c,u,h;const f=n-t,p=r-e,d=Math.abs(f),g=Math.abs(p);if(s=2*g-d,l=2*d-g,g<=d)for(f>=0?(o=t,a=e,c=n):(o=n,a=r,c=t),i.push({x:o,y:a}),h=0;o<c;h++)o+=1,s<0?s+=2*g:(f<0&&p<0||f>0&&p>0?a+=1:a-=1,s+=2*(g-d)),i.push({x:o,y:a});else for(p>=0?(o=t,a=e,u=r):(o=n,a=r,u=e),i.push({x:o,y:a}),h=0;a<u;h++)a+=1,l<=0?l+=2*d:(f<0&&p<0||f>0&&p>0?o+=1:o-=1,l+=2*(d-g)),i.push({x:o,y:a});return i};dw.visualization.register("d3-lines","base",(function(){let t=!0;const e={};let n,o,a,s,l=!1;function c(){l=!0}function u(t){const e=t.chart();!function(t,e,n,r,i){const{visualize:o,publish:a={}}=e;if(void 0===o["text-annotations"]&&(o["text-annotations"]=[]),o["text-annotations"].forEach(t=>{void 0===t.mobileFallback&&(t.mobileFallback=!1,t.text=t.text.replace(/<br\s*\/?>(\\n|\n)?|(\\n|\n)/g,"<br/>"))}),void 0===o["range-annotations"]&&(o["range-annotations"]=[]),void 0===o["custom-colors"]&&(o["custom-colors"]={}),o["range-annotations"].length>0&&void 0===o["range-annotations"][0].display&&o["range-annotations"].reverse(),o["range-annotations"].forEach(t=>{void 0===t.y0&&(t.y0=t.x0),void 0===t.y1&&(t.y1=t.x1),void 0===t.display&&(t.display=t.x0===t.x1?"line":"range"),void 0===t.strokeWidth&&(t.strokeWidth=1),void 0===t.strokeType&&(t.strokeType="solid")}),void 0===o["tooltip-use-custom-formats"]||o["tooltip-x-format"]||(o["tooltip-x-format"]=o["x-tick-format"]&&"auto"!==o["x-tick-format"]?o["x-tick-format"]:"ll"),o["tooltip-number-format"]&&void 0===o["tooltip-use-custom-formats"]&&(o["tooltip-use-custom-formats"]=!0),o["fill-between"]){const t=n.columns().filter(t=>"number"===t.type());if(2===t.length){const e={from:t[0].name(),to:t[1].name(),color:o["area-fill-color-between"]||"#cccccc",opacity:.2};o["custom-area-fills"]=Array.isArray(o["custom-area-fills"])?[...o["custom-area-fills"],e]:[e]}}if(delete o["fill-between"],delete o["area-fill-color-between"],o["fill-below"]){const t=n.columns().filter(t=>"number"===t.type());if(1===t.length){const e={from:t[0].name(),to:vd,color:o["area-fill-color-below"]||"#cccccc",opacity:.2};o["custom-area-fills"]=Array.isArray(o["custom-area-fills"])?[...o["custom-area-fills"],e]:[e]}}if(delete o["fill-below"],delete o["area-fill-color-below"],void 0!==o["tooltip-use-custom-formats"]&&(!1===o["tooltip-use-custom-formats"]&&(o["tooltip-number-format"]=null,o["tooltip-x-format"]=null),delete o["tooltip-use-custom-formats"]),o["color-category"]&&o["color-category"].map&&Object.keys(o["color-category"].map).length&&!Object.keys(o["custom-colors"]||{}).length&&(o["custom-colors"]=o["color-category"].map,delete o["color-category"].map),o["x-tick-format"]&&(o["x-grid-format"]=o["x-tick-format"],delete o["x-tick-format"]),!o.plotHeightMode&&a["chart-height"]){const t=Number(a["chart-height"]);if(Number.isFinite(t)){const e=Math.max(t,50);o.plotHeightFixed=e,o.plotHeightMode="fixed"}}"d3-area"===t&&("right"!==o.labeling&&"top"!==o.labeling||(o["show-color-key"]=!0),"off"===o.labeling&&(o["show-color-key"]=!1),delete o.labeling),"d3-area"!==t||Object.keys(o["custom-colors"]||{}).length||"lines"in o&&Object.keys(o.lines).length>0&&Object.entries(o.lines).forEach(t=>{let[e,n]=t;"color"in n&&("custom-colors"in o||(o["custom-colors"]={}),o["custom-colors"][e]=n.color,delete o.lines[e].color)}),"d3-lines"===t&&(o.lines||(o.lines={}),"custom-colors"in o&&Object.keys(o["custom-colors"]).length>0&&Object.entries(o["custom-colors"]).forEach(t=>{let[e,n]=t;e in o.lines||(o.lines[e]={}),"color"in o.lines[e]||(o.lines[e].color=n)}),delete o["custom-colors"]);const s={0:"style0",1:"style1",2:"style2",3:"style3",4:"invisible"};"line-widths"in o&&Object.keys(o["line-widths"]).length>0&&(o.lines||(o.lines={}),Object.entries(o["line-widths"]).forEach(t=>{let[e,n]=t;e in o.lines||(o.lines[e]={}),"width"in o.lines[e]||(o.lines[e].width=s[n])})),delete o["line-widths"],"line-dashes"in o&&Object.keys(o["line-dashes"]).length>0&&(o.lines||(o.lines={}),Object.entries(o["line-dashes"]).forEach(t=>{let[e,n]=t;e in o.lines||(o.lines[e]={}),"dash"in o.lines[e]||(o.lines[e].dash=s[n])})),delete o["line-dashes"],"d3-lines"===t&&(["right","top","off"].includes(o.labeling)&&i.y.forEach(t=>{t in o.lines||(o.lines[t]={}),"directLabel"in o.lines[t]||(o.lines[t].directLabel="right"===o.labeling),"colorKey"in o.lines[t]||(o.lines[t].colorKey="top"===o.labeling)}),delete o.labeling),"line-value-labels"in o&&(o.lines||(o.lines={}),i.y.forEach(t=>{t in o.lines||(o.lines[t]={}),"labelLastValue"in o.lines[t]||(o.lines[t].labelLastValue=o["line-value-labels"])})),delete o["line-value-labels"];const l=["","circle","square","diamond","triangleUp","triangleDown","cross","hexagon","star","wye"],c=Object.fromEntries(l.map(t=>[t.replace(/[A-Z]/g,t=>"_".concat(t.toLowerCase())),t])),u=[{oldKey:"line-symbols-on",newKey:"on"},{oldKey:"line-symbols-size",newKey:"size"},{oldKey:"line-symbols-opacity",newKey:"opacity"}];if("multiple"!==o["line-symbols-shape"]&&u.push({oldKey:"line-symbols",newKey:"enabled"},{oldKey:"line-symbols-shape",newKey:"shape",tsf:t=>c[t]}),i.y.forEach(t=>{o.lines||(o.lines={}),t in o.lines||(o.lines[t]={}),"symbols"in o.lines[t]||(o.lines[t].symbols={});const e=o.lines[t].symbols;u.forEach(t=>{let{oldKey:n,newKey:r,tsf:i=(t=>t)}=t;n in o&&!(r in e)&&(e[r]=i(o[n]))})}),"multiple"===o["line-symbols-shape"]){o.lines||(o.lines={});const t=o["line-symbols-shape-multiple"]||{};i.y.forEach(e=>{e in o.lines||(o.lines[e]={}),"symbols"in o.lines[e]||(o.lines[e].symbols={});const n=o.lines[e].symbols;"enabled"in n||(n.enabled=!(!o["line-symbols"]||!t[e])),!("shape"in n)&&t[e]&&(n.shape="number"==typeof t[e]?l[t[e]]:c[t[e]])})}o.lines&&Object.values(o.lines).forEach(t=>{t.symbols&&!Object.keys(t.symbols).length&&delete t.symbols}),delete o["line-symbols"],delete o["line-symbols-shape"],delete o["line-symbols-shape-multiple"],delete o["line-symbols-on"],delete o["line-symbols-size"],delete o["line-symbols-opacity"]}(e.get("type"),e.get("metadata"),t.dataset,t.theme(),t.axes(),t.featurePreviews())}function f(o,l){const{numeral:f,dayjs:p,chroma:d}=l.libraries(),{purifyHtml:g}=dw.utils;if(t){try{const t=l.chart();mh.initLocales(t.locales.dayjs);const e=t.locales.dayjs;e&&"en"!==e.name&&p.locale(e),t.onDatasetChange(c)}catch(t){}t=!1}o.innerHTML="";const m=l.chart(),y=l.type(),v=l.size(),b=l.axes(!0);if(h("fixed"===m.getHeightMode()?[v[0]]:v)<=0)return l.renderingComplete(),!1;const x=m.translate,w="rtl"===l.textDirection,k="date"===b.x.type()?b.x.type(!0).precision():null,_={year:"YYYY",quarter:"YYYY-MM-DD",month:"YYYY-MM-DD",week:"YYYY-MM-DD",day:"YYYY-MM-DD"},M="date"===b.x.type()&&_[k]?t=>p(t).format(_[k]):t=>t,A=l.theme();let T=rb(A),E=Ad(A),$=ob(A),O=ib(A,C);const S={plusMinus:Mh(A,"vis.base.format.plusMinusCharacter","±"),minus:Mh(A,"vis.base.format.minusCharacter","−")},L=Mh(A,"vis.base.legend.position","top"),N=m.createPostEvent();var C="lines"===y,z="area"===y,D=se(o),j=dw.utils.clone(m.get("metadata")),R=m.dataset();const I={xAxis:wd(l,b.y[0]?b.y[0].name():""),yAxis:wd(l,b.x.name())},P=!!b.y.filter(t=>t.values().filter(t=>gd(t)).length).length;if(0===R.numRows()||!P)return l.showError(m.translate("insufficient-data-lines",!0).replace("%chartid%",m.get("id"))),l.renderingComplete(),!1;const F=b.y.filter(t=>t.values().filter(t=>gd(t)&&t<=0).length).length;var U=l.colorMap();const H={t:0,l:0,r:3,b:0,annotationKeyMarginBottom:0,gridTop:0,gridBottom:0,xGridLeft:0,yGridLeft:0,xGridRight:0,yGridRight:0,directLabels:0,colorKeyMarginBottom:0,colorKeyMarginTop:0,bufferTop:6},B={outerWidth:v[0],outerHeight:v[1]};let q={},W=Et();var G=0;const V="ontouchstart"in window||navigator.msMaxTouchPoints,X=function(t){let e,n,r,i;t="string"==typeof t?function(t){const e={};return(t.match(/[^\x20\t\r\n\f]+/g)||[]).forEach(t=>e[t]=!0),e}(t):Object.assign({},t);let o=[],a=[],s=-1;const l=function(){for(i=i||t.once,r=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){if(o){n&&!e&&(s=o.length-1,a.push(n));for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];!function e(n){n.forEach((function(n){md(n)?t.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!=typeof n&&e(n)}))}(i),n&&!e&&l()}return this},remove:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.forEach((function(t){for(var e;(e=o.indexOf(t,e))>-1;)o.splice(e,1),e<=s&&s--})),this},has:function(t){return t?o.indexOf(t)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||l()),this},fire:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return c.fireWith(this,e),this},fired:function(){return!!r}};return c}("stopOnFalse"),K=Qo(()=>{u(l),X.fire()},50);var Z=!1,J=!1;const Q=C&&!F&&"log"===l.get("scale-y"),tt="text"===b.x.type();var{ticks:et,autoComputed:nt}=Lt("x"),rt=Nt();const it=b.x.values().map(t=>!!tt||!!Td(t,b.x.type())&&(t>=rt[0]&&t<=rt[1])),ot=Ct(),at={x:("date"===b.x.type()?Ei():cn()).domain(rt),y:(Q?vn():cn()).domain(ot)},st={left:w?"right":"left",right:w?"left":"right"}[l.get("y-grid-label-align","left")]||(w?"right":"left"),lt="left"===st,ct="right"===st;let ut,ht;var ft,pt;Tt();var dt=zt();if(!dt.length)return l.showError(m.translate("insufficient-data-lines",!0).replace("%chartid%",m.get("id"))),l.renderingComplete(),!1;X.add((function(){R=m.dataset(),U=l.colorMap(),W=Et(),E=Ad(A),S.minus=Mh(A,"vis.base.format.minusCharacter","−"),S.plusMinus=Mh(A,"vis.base.format.plusMinusCharacter","±"),O=ib(A,C),$=ob(A),T=rb(A),dt=zt();const t=Dt(),e=t&&lt?O.insideLabels:0,n=t&&ct?O.insideLabels:0;at.x.range(Z?[B.width,0]:[0,B.width]),at.y.range(J?[0,B.height]:[B.height,0]),at.x.domain(rt).domain([at.x.invert(w?B.width+O.standard:0-O.standard),at.x.invert(w?0-O.standard:B.width+O.standard)]).range([e,B.width-n]),ft=r(at.x.range()),pt=r(at.y.range()),dt.slice(0).sort(fe("columnIndex")).forEach((t,e)=>{$t(e,t.id)}),ut=l.get("tooltip-number-format",l.get("y-grid-format","0,0.[00]")),ht=t=>pd(f,t,{format:"auto"===ut?"0,0.[00]":ut,minusChar:S.minus,plusMinusChar:S.plusMinus,...I.xAxis})}));const{svgRoot:gt,tooltipLayer:mt}=function(){const t={},e=x("accessibility / ".concat(z?l.get("stack-areas",!0)?"stacked-area-chart":"area-chart":"line-chart"," / ").concat(dt.length>1?"multiple":"single")).replace("%count%",dt.length),n=D.append("svg.svg-main").attr("role","graphics-datachart").attr("aria-label",e).st({width:"100%"}),r=D.append("svg.tooltip-layer").attr("aria-hidden",!0).st({width:"100%"});return[["svgRoot",n],["tooltipLayer",r]].forEach(e=>{let[n,r]=e;const i=r.append("g").append("g");X.add((function(){r.at({width:B.outerWidth,height:B.outerHeight}),i.translate([H.l,H.t])})),t[n]=i}),t}(),yt=function(){const t=D.append("div.d3l-main");return X.add((function(){t.style("left",H.l+"px").style("top",H.t+"px")})),t}();var vt;vt=gt.append("rect.bg"),X.add((function(){vt.at({width:B.outerWidth,height:B.outerHeight})}));const bt=gt.append("g"),xt=gt.append("g"),wt=gt.append("g"),kt=uh.highlightTimer(t=>{if(t){var e,n,r=xt.selectAll(z?"path.area":"g.lines g.line, g.line-symbols g, g.value-labels g, g.lbl-connect-lines path").style("opacity",(function(e){return e.id===t?Rt():.15}));z||r.filter((function(e){return e.id===t})).each((function(){this.parentNode.append(this)})),null===(e=a)||void 0===e||e.highlight(t),yt.selectAll(".d3l-line-label").style("opacity",(function(e){return e.id===t?1:.15})),null===(n=a)||void 0===n||n.highlight(t),N("highlight.set",{column:t})}else{var i;const t=xt.selectAll(z?"path.area":"g.lines g.line, g.line-symbols g, g.value-labels g, g.lbl-connect-lines path").style("opacity",Rt());z||(t.data(dt,t=>t.id).order(),xt.selectAll("g.line-symbols g").data(dt,t=>t.id).order()),yt.selectAll(".d3l-line-label,.d3l-item").style("opacity",1),null===(i=a)||void 0===i||i.highlight(""),N("highlight.clear")}},V?0:700);!function(){const t=yt.append("div.d3l-color-key");X.add((function(){t.html("");const e={right:w?"left":"right",left:w?"right":"left"},n=$d(b.y,l.get("lines",{}),A),r=Object.fromEntries(Object.entries(n).filter(t=>{let[,e]=t;const n="invisible"!==e.width,r=e.symbols.enabled;return n||r})),i=new Set(Object.values(r).map(t=>t.symbols.shape)).size>1||2===new Set(Object.values(r).map(t=>t.symbols.enabled)).size,o=nb(A),s=Object.keys(n).filter(t=>n[t].directLabel).length>0&&(z||B.outerWidth<T||st===e.right),c=Object.keys(n).filter(t=>n[t].colorKey||s&&n[t].directLabel),u=C&&c.length>0||z&&l.get("show-color-key",!0);if(t.classed("d3l-hidden",!u),u){const r=function(){const t={dash_style1:{width_style0:"0.5, 4",width_style1:"0.25, 5",width_style2:"0.0001, 6",width_style3:"0.5, 2"},dash_style2:{width_style0:"3, 6",width_style1:"4, 8",width_style2:"5, 10",width_style3:"2, 4"},dash_style3:{width_style0:"6, 6",width_style1:"8, 8",width_style2:"10, 10",width_style3:"4, 4"}};return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"style0",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style0";return Mh(t,"dash_".concat(e,".width_").concat(n),"none")}}(),s=l.axes().y.filter(t=>R.column(t).values().filter(gd).length).map(t=>{for(var e=null,n=0;n<dt.length;n++)if(dt[n].id===t){e=dt[n];break}return e}).filter(t=>t&&It(t.id)).filter(t=>t&&c.includes(t.id)).map((t,a)=>{let s=U($t(a,t.id));if(z){const t=l.get("area-opacity",.5);s=d(s).alpha(t)}const c=o[n[t.id].width],u=n[t.id].symbols.enabled&&"invisible"!==n[t.id].width&&i&&n[t.id].symbols.shape||"invisible"===n[t.id].width&&"every"===n[t.id].symbols.on,h=parseFloat(n[t.id].symbols.size),f="first"===n[t.id].symbols.on?e.left:"last"===n[t.id].symbols.on?e.right:"center",p={strokeWidth:c,dashArray:r(n[t.id].dash,n[t.id].width),symbol:u&&{position:f,opacity:n[t.id].symbols.opacity,size:h,shape:n[t.id].symbols.shape,style:n[t.id].symbols.style}};return{key:t.id,label:n[t.id].title||t.title,color:s,line:C&&p}}).filter(t=>!!z||t.line&&(t.line.strokeWidth||t.line.symbol));a=uh.categoryLegendWrapper(t.node(),{emotion:m.emotion,chroma:d,purifyHtml:g,themeData:A,swatches:s,position:"above",rtl:w,translate:x,locale:m.locale()}),a.on("mouseenter",t=>{let{value:e}=t;kt.set(e)}),a.on("mouseexit",()=>{kt.clear()})}let h=0;u&&("bottom"===L&&yt.style("bottom",0),t.style("width",B.outerWidth+"px"),h=m.getElementBounds(t.node()).height);const f=Math.round(h+$.bottom+$.top);var p=u&&"top"===L?f:0,y=u&&"bottom"===L?f:0;if(p!==H.colorKeyMarginTop||y!==H.colorKeyMarginBottom)return H.colorKeyMarginTop=p,H.colorKeyMarginBottom=y,Tt(),!1;const v=D.select(".annotation-keys:not(.hide)").node(),k=v?m.getElementBounds(v).height+20:0;u&&t.style(L,("top"===L?-(H.gridTop+h):k+$.bottom)+"px").style("left",-H.l+"px").style("opacity",1)}))}();const _t=l.get("text-annotations",[]).length;return n=function(t){let{vis:e,htmlRoot:n,updateCallback:r,scales:i,size:o,$chart:a,rtl:s,margin:l,marginsChanged:c,annotationLayer:u,ariaLabel:h,chroma:f,purifyHtml:p}=t;const d=e.chart().inEditor()&&window.parent!==window&&window.parent.dw&&window.parent.dw.backend&&window.parent.dw.backend.hooks,g=e.chart().flags().isEditingAllowed,m=d&&g?function(){const{results:t}=window.parent.dw.backend.hooks.call("get-annotation-controls");if(t&&t.length)return window.__registerAnnotationControls=void 0,t[t.length-1];window.__registerAnnotationControls=function(t){u.$set({editMode:!0}),t.syncAnnotationLayer(u)}}():null,y=Kh(e.get("text-annotations",[])),v=Kh(e.get("range-annotations",[]));if(!y.length&&!v.length&&!d)return;const b=e.axes(!0),x="number"===b.x.type(),w="date"===b.x.type();y.forEach(t=>{x?t.x=+t.x:w&&(t.x=eb(t.x)),t.y=+t.y});const k=(t,e)=>(t=w?eb(t):t,[i.x(t),i.y(e)].map(t=>isNaN(+t)?void 0:+t.toFixed(1))),_=(t,e)=>(t=i.x.invert(t),e=i.y.invert(e),x?t=t.toFixed(4):w&&(t=ar("%Y/%m/%d %H:%M")(t)),{x:t,y:e=e.toFixed(4)}),M=n.append("div.annotations").style("width","".concat(o.width,"px")).style("height","".concat(o.height,"px")),A=a.append("div.annotation-keys");if(r.add((function(){const{height:t}=e.chart().getElementBounds(A.node()),n=t>0?20:0;t+n!==l.annotationKeyMarginBottom&&(l.annotationKeyMarginBottom=t+n,A.style("margin-top",-t+"px"),c())})),u)try{u.$destroy()}catch(t){}return u=new tb({target:a.select(".annotations").node(),props:{textAnnotations:y,rangeAnnotations:v,dataToPx:k,pxToData:_,theme:e.theme(),cm:e.colorMap(),visWidth:o.width,visHeight:o.height,annotationKeysSel:A,ariaLabel:h,rtl:s,mirrorX:s,chroma:f,purifyHtml:p}}),r.add(()=>{M.style("width","".concat(o.width,"px")).style("height","".concat(o.height,"px")),u.$set({dataToPx:k,pxToData:_,visWidth:o.width,visHeight:o.height,theme:e.theme(),cm:e.colorMap()})}),m&&(u.$set({editMode:!0}),m.syncAnnotationLayer(u)),u}({vis:l,htmlRoot:yt,updateCallback:X,scales:at,size:B,$chart:D,margin:H,rtl:w,chroma:d,purifyHtml:g,marginsChanged:Tt,annotationLayer:n,ariaLabel:_t>0?x("accessibility / annotations / "+(_t>1?"multiple":"single")).replace("%count%",_t):""}),X.add((async function(){let t=!1;const e=l.get("x-grid","off"),n=Mh(A,"vis.d3-lines.axes.gridlines.verticalAxis",!1);let r,i=at.x;tt&&(i=cn().domain([0,b.x.values().length-1]).range([at.x(rt[0]),at.x(rt[1])]),r=t=>b.x.values()[t]),!tt&&et.length&&(t=et);const o=await mh.xGridWrapper({visId:"d3-lines",className:"grid-x",belowChart:bt,aboveChart:wt,tickPosition:"bottom",scale:i,scaleType:b.x.type(),gridLines:"on"===e,tickLines:"ticks"===e,baseLine:n&&!Dt()?l.get("y-grid-label-align","left"):"on"===e&&"zero",theme:A,tickLabelMultiply:I.yAxis.multiply,tickLabelUnit:[I.yAxis.prepend,I.yAxis.append],plotSize:[B.width,B.height],tickLabelFormat:l.get("x-grid-format","auto"),ticks:{major:{values:t,spacing:60}},emotion:m.emotion,numeral:f,translate:x,customFormatFunction:r,chroma:d,updateMargins:!1,rtl:w});await new Promise(t=>setTimeout(t,100)),(o.right+2).toFixed(1)===H.xGridRight.toFixed(1)&&o.left===H.xGridLeft||(H.xGridRight=o.right+2,H.xGridLeft=o.left,Tt()),o.bottom!==H.gridBottom&&(H.gridBottom=o.bottom,Tt())})),X.add((async function(){const t=l.get("y-grid","on"),e=l.get("y-grid-subdivide",!0)&&Q,n=Dt();D.classed("y-grid-subdivide",e),D.classed("grid-labels-inside",n),D.classed("grid-labels-right",ct);const{ticks:r}=Lt("y"),i=!!r.length&&r,o=l.get("stack-areas",!0),a=z&&o&&l.get("stack-to-100"),s=await mh.yGridWrapper({className:"grid-y",belowChart:bt,aboveChart:wt,tickPosition:st,visId:"d3-lines",scale:at.y,theme:A,scaleType:Q?"log":"number",plotSize:[B.width,B.height],secondary:!0,gridLines:"on"===t,tickLines:"ticks"===t,tickLabelsInside:n,tickLabelFormat:a?"0.[0]%":l.get("y-grid-format","auto"),tickLabelUnit:a?["",""]:[I.xAxis.prepend,I.xAxis.append],tickLabelMultiply:a?1:I.xAxis.multiply,ticks:{major:{values:i,spacing:40},minor:{count:Q&&e?9:0}},rtl:w,emotion:m.emotion,numeral:f,translate:x,chroma:d,updateMargins:!1});await new Promise(t=>setTimeout(t,100)),s.top!==H.gridTop&&(H.gridTop=s.top,Tt()),s.left===H.yGridLeft&&s.right===H.yGridRight||(H.yGridLeft=s.left,H.yGridRight=s.right,Tt())})),C&&function(t){let{vis:e,svgChart:n,updateCallback:r,includeXValues:i,scales:o,axes:a,dataset:s,ordinalScale:l,cm:c,getPaletteColor:u}=t;const h=Pi().curve(yd(e.get("interpolation"))).defined((function(t){return gd(t.y1)&&gd(t.y2)})).x(t=>o.x(t.x)).y0(t=>o.y(t.y1)).y1(t=>o.y(t.y2)),f=n.append("g.area-fills");r.add((function(){const t=bd({vis:e,dataset:s}).map(t=>{let e=[];return s.eachRow(n=>{if(!i[n])return;const r=t.from===vd?0:s.column(t.from).val(n),o=t.to===vd?0:s.column(t.to).val(n);e.push({x:l?n:a.x.val(n),y1:r,y2:o})}),"text"!==a.x.type()&&(e=e.sort((t,e)=>t.x>e.x?1:-1)),{color:"color"in t?u(t.color):"#999999",opacity:t.opacity||.2,interpolation:t.interpolation,data:e}});f.selectAll("path.area-fill").data(t).join(t=>t.append("path.area-fill"),t=>t,t=>t.remove()).attr("d",t=>(h.curve(yd(t.interpolation||e.get("interpolation"))),h(t.data))).style("fill",t=>c(t.color)).style("opacity",t=>t.opacity)}))}({vis:l,dataset:R,svgChart:xt,updateCallback:X,axes:b,scales:at,ordinalScale:tt,includeXValues:it,cm:U,getPaletteColor:St}),z&&function(){const t=xt.append("g.areas"),e=xt.append("g.area-separator-lines");X.add((function(){const n=Pi().curve(yd(l.get("interpolation","linear"))).defined((function(t){return gd(t.y1)&&gd(t.y2)&&Mt(t.x)})).x(he("x",at.x)).y0(he("y1",at.y)).y1(he("y2",at.y)),r=Ii().curve(yd(l.get("interpolation","linear"))).defined((function(t){return gd(t.y1)&&gd(t.y2)&&Mt(t.x)})).x(he("x",at.x)).y(he("y1",at.y)),i=l.get("stack-areas",!0),o=ku(b.y[0].length,co(0));"keep"!==l.get("sort-areas","keep")&&dt.sort((function(t,e){return(t.last.y-e.last.y)*("asc"===l.get("sort-areas","keep")?1:-1)}));const a=dt.map((function(t,e){const n=R.column(t.id),r=n.values().map((t,e)=>({v:t,_i:e})).filter((t,e)=>it[e]).map((function(t,n){let{v:r,_i:a}=t;const s={x:tt?a:b.x.val(a),y1:gd(r)?o[a]+r:o[a],y2:o[a],_i:a};return dt[e].values[n].dy=o[a],i&&(o[a]+=gd(r)?r:0),s}));return{id:n.name(),col:n,data:"text"===b.x.type()?r:r.sort(fe("x"))}}));l.get("stack-areas",!0)&&l.get("stack-to-100")&&a.forEach(t=>{t.data.forEach(t=>{gd(t.y1)&&(t.y1=t.y1/o[t._i]*100),gd(t.y2)&&(t.y2=t.y2/o[t._i]*100)})});const s=t.selectAll("path.area").data(a).join(t=>t.append("path.area"),t=>t,t=>t.remove()).attr("role","graphics-dataregion").attr("aria-label",t=>t.values?x("accessibility / area-values").replace("%count%",t.values.filter(t=>null!==t.y1&&null!==t.y2).length).replace("%name%",t.id):"").attr("d",t=>n(t.data)).style("opacity",l.get("area-opacity",.5)).style("fill",(function(t,e){return U($t(e,t.id))}));s.on("click",t=>{N("area.click",t.id)}),s.on("mouseenter",t=>{N("area.mouseenter",t.id)}),s.on("mouseleave",t=>{N("area.mouseleave",t.id)});const c=(u="area-separator-color",h=Mh(A,"colors.background","#ffffff"),St(l.get(u,h)));var u,h;e.selectAll("path.line").data(l.get("area-separator-lines")?a.slice(0,-1):[]).join(t=>t.append("path.line"),t=>t,t=>t.remove()).style("stroke",U(c)).attr("d",t=>r(t.data))}))}(),C&&function(){const t=xt.append("g.lines"),e=Ii().defined((function(t){return gd(t.y)&&!(Q&&t.y<=0)&&Mt(t.x)})).x(he("x",at.x)).y(he("y",at.y));X.add((function(){t.html(" ");const n=$d(b.y,l.get("lines",{}),A),r=t.selectAll("g.line").data(dt.filter(t=>"invisible"!==n[t.id].width)).join("g.line").attr("class",(function(t){return"line line-style-width-"+n[t.id].width+" line-style-dash-"+(n[t.id].dash||"style0")})),i=r.filter(t=>n[t.id].bgStroke).append("path").attr("class","bg-stroke"),o=r.append("path").attr("role","graphics-dataline").attr("aria-datascales","x-axis, y-axis").attr("aria-dataproperty","x,y").attr("aria-label",t=>x("accessibility / line-values").replace("%count%",t.values.filter(t=>null!==t.y).length).replace("%name%",t.id)).attr("aria-datavariables",t=>"".concat(l.axes(!0).x.name(),", ").concat(t.id)).attr("aria-datavaluearray",t=>t.values.filter(t=>null!==t.y).map(t=>"[".concat(JSON.stringify(M(t.x)),", ").concat(JSON.stringify(t.y),"]")).join(","));o.on("click",t=>{N("line.click",t.id)}),o.on("mouseenter",t=>{N("line.mouseenter",t.id)}),o.on("mouseleave",t=>{N("line.mouseleave",t.id)}),o.attr("d",t=>{var r;const i=null!==(r=n[t.id].interpolation)&&void 0!==r?r:l.get("interpolation","linear");return e.curve(yd(i))(t.values)}).style("stroke",(function(t,e){return U($t(e,t.id))})),i.attr("d",t=>{var r;const i=null!==(r=n[t.id].interpolation)&&void 0!==r?r:l.get("interpolation","linear");return e.curve(yd(i))(t.values)}).style("stroke",A.colors.background)}))}(),C&&l.featurePreviews()["label-all-line-values"]&&function(){const t=xt.append("g.value-labels");X.add((function(){const e=$d(b.y,l.get("lines",{}),A),n=Object.keys(e).filter(t=>e[t].valueLabels&&"invisible"!==e[t].width);if(n.length>0){const r=[],i=Object.fromEntries(dt.map(t=>[t.id,t.values.map(e=>({id:t.id,x:at.x(e.x),y:at.y(e.y),value:ht(e.y),datum:e}))])),o=Mh(A,"vis.d3-lines.symbols.outline"),a=nb(A),s=Object.fromEntries(Object.entries(e).map(t=>{let[e,r]=t;const i="hollow"===r.symbols.style?a[r.width]/r.symbols.size:o?(o.width||1)/r.symbols.size:0;return[e,{symbolSize:r.symbols.size+i,lineWidth:a[r.width],show:n.includes(e)}]})),{labels:l}=function(t){let{lineDataPoints:e,plotSize:n,lineSettings:r,labelOptions:i={connectingLineThreshold:16,minDistance:6,maxDistance:20,fontSize:12,labelPadding:2},featuresToAvoid:o,featurePadding:a=2}=t;var s;if(!(null===(s=Object.keys(e))||void 0===s?void 0:s.length))return{labels:[],debug:{samplesVoronoi:void 0,samplesPoints:void 0,allLinePoints:void 0}};const{connectingLineThreshold:l,minDistance:c=6,maxDistance:u=20,fontSize:h,labelPadding:f}=i,p=Object.fromEntries(Object.entries(e).map(t=>{let[e,n]=t;const r=(t=>{const e=[];for(let n=0;n<t.length-1;n++){const{x:r,y:i}=t[n],o=ux(r,i,t[n+1].x,t[n+1].y);e.push(o.map(t=>Object.assign(Object.assign({},t),{width:1,height:1})))}return e})(n),i=r.map((t,e)=>{t.sort((t,e)=>t.x-e.x);const n=t[0],r=t[t.length-1],i=Math.round(n.x),o=Math.round(n.y),a=Math.round(r.x),s=Math.round(r.y),l=((t,e)=>{const n=t.x-e.x,r=t.y-e.y;return Math.floor(Math.sqrt(n*n+r*r))})(n,r),c=Math.floor(l/20)||1;var u,h,f,p;return c<=2?[[i,o],(u=i,h=o,f=a,p=s,[Math.round((u+f)/2),Math.round((h+p)/2)])]:((t,e,n,r,i)=>{const o=(r-e)/(n-t),a=e-o*t,s=(n-t)/(i-1),l=[];for(let e=0;e<i-1;e++){const n=Math.round(t+e*s),r=Math.round(o*n+a);l.push([n,r])}return l})(i,o,a,s,c)});return[e,{allPoints:r,samplePoints:i}]})),d=Object.values(p).flatMap(t=>t.samplePoints.flat()),g=ix.from(d||[]),m=g.voronoi([0,0,n[0],n[1]]),y=Object.entries(e).flatMap(t=>{let[e,n]=t;return 0!==r[e].lineWidth?n:[]}),v=Object.entries(p).flatMap(t=>{let[e,n]=t;return 0!==r[e].lineWidth?n.allPoints.flat():[]}),b=o,x=new Map;Object.values(e).forEach(t=>{r[t[0].id].show&&t.forEach((t,e)=>{const n="".concat(t.id,"-").concat(e),{x:r,y:i,datum:o,value:a}=t,s=g.find(r,i),l=m.cellPolygon(s),[c,u]=null!==l?function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],l=0;++r<i;)e=s,s=t[r],l+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(l*=3),a/l]}(l):[0,0],f=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:14;if(!t)return 0;const n=e/14;return t.split("").reduce((t,e)=>t+(Ob[e]||Ob.a),0)*n}(a,h);x.set(n,{datum:o,lineId:t.id,labelPosition:{x:0,y:0},point:{x:r,y:i},centroid:{x:c,y:u},width:f,height:h,occluded:!0,showConnectingLine:void 0,connectingLineAnchor:{x:0,y:0},angle:void 0,x:0,y:0})})});const w=[];for(let t=c;t<=u;t++)for(const[e,i]of x.entries())if(i.occluded){let o=!1;const s=sx({label:i,distance:t});o||(k=s,_=n[0],M=n[1],o=k.x<0||k.x+k.width>_||k.y-k.height/2<0||k.y+k.height>M),o||(o=b.some(t=>ox({a:s,b:t,padding:a}))),o||(o=v.some(t=>ax({a:s,b:t,padding:r[i.lineId].lineWidth})));const c=r[i.lineId].symbolSize;if(o||(o=y.some(t=>ax({a:s,b:t,padding:c+a}))),!o){o=w.some(t=>{const{x:e,y:n,width:r,height:i}=t;return ox({a:s,b:{x:e,y:n,width:r,height:i},padding:f})})}o||w.push(s),x.set(e,Object.assign(Object.assign({},s),{showConnectingLine:t>=l,occluded:o}))}var k,_,M;return{labels:[...x.values()],debug:{samplesVoronoi:m,samplesPoints:d,allLinePoints:v}}}({lineDataPoints:i,lineSettings:s,plotSize:[B.width,B.height],featuresToAvoid:r,labelOptions:{connectingLineThreshold:16,minDistance:2,maxDistance:24,fontSize:12,labelPadding:1}}),c=l.filter(t=>!t.occluded);!function(t){let{labelsData:e,gValueLabels:n,lineSettings:r,ttFormatY:i,textColor:o,cm:a,autocolor:s,theme:l}=t;const c=Object.entries(vb(e,"lineId")).map(t=>{let[e,n]=t;return{id:e,values:n}}),u=n.selectAll("g.label-line").data(c).join(t=>t.append("g.label-line"),t=>t,t=>t.remove());u.selectAll("line.value-label-connecting-line").data(t=>t.values).join("line.value-label-connecting-line").style("stroke",(t,e)=>a(s(e,t.datum.lineId))).style("opacity",t=>t.showConnectingLine?1:0).attr("x1",t=>t.connectingLineAnchor.x).attr("y1",t=>t.connectingLineAnchor.y).attr("x2",t=>t.point.x).attr("y2",t=>t.point.y),u.selectAll("circle.value-label-dot").data(t=>t.values).join("circle.value-label-dot").style("fill","#000").attr("r",t=>r[t.lineId].lineWidth/2).attr("cx",t=>t.point.x).attr("cy",t=>t.point.y),u.selectAll("text.value-label.fg").data(t=>t.values).join("text.value-label.fg").attr("x",t=>t.labelPosition.x).attr("y",t=>t.labelPosition.y).attr("text-anchor","middle").attr("dominant-baseline","middle").st({"paint-order":"stroke","stroke-width":"2px"}).style("opacity",t=>t.occluded?.2:1).style("stroke",l.colors.background).style("fill",(t,e)=>o(a(s(e,t.datum.lineId)))).text(t=>i(t.datum.y))}({gValueLabels:t,labelsData:c,lineSettings:s,ttFormatY:ht,textColor:Ot,cm:U,autocolor:$t,theme:A})}else t.html("")}))}(),C&&function(){const t=$d(b.y,l.get("lines",{}),A),e=nb(A),n=Object.keys(t).some(t=>It(t)),r=xt.append("g.line-symbols");n&&X.add((function(){const t=l.axes(!0),n=$d(t.y,l.get("lines",{}),A),i=function(t){let{symbolsData:e,gSymbols:n,lines:r,lineWidthMap:i,axes:o,cm:a,autocolor:s,theme:l,scales:c,ariaXFormat:u}=t;const h=Mh(l,"vis.d3-lines.symbols.outline");return n.selectAll("g").data(e).join("g").style("fill",(function(t,e){return"fill"===r[t.id].symbols.style?a(s(e,t.id)):"invisible"!==r[t.id].width?l.colors.background:"transparent"})).style("stroke",(function(t,e){return"hollow"===r[t.id].symbols.style?a(s(e,t.id)):null})).style("stroke-width",(function(t){return"hollow"===r[t.id].symbols.style?i[r[t.id].width]/r[t.id].symbols.size:h?(h.width||1)/r[t.id].symbols.size:null})).selectAll("path.symbol").data(t=>t.symbols).join("path.symbol").attr("role","graphics-dataunit").attr("aria-datascales","x-axis, y-axis").attr("aria-datavariables",t=>"".concat(o.x.name(),", ").concat(t.lineId)).attr("aria-datavalues",t=>"".concat(JSON.stringify(u(t.x)),", ").concat(JSON.stringify(t.y))).attr("d",t=>sb[r[t.lineId].symbols.shape]).attr("transform",(function(t){return"translate("+[c.x(t.x),c.y(t.y)]+") scale("+parseFloat(r[t.lineId].symbols.size)+")"})).style("opacity",t=>r[t.lineId].symbols.opacity)}({symbolsData:function(t){let{lineData:e,lines:n,isFinite:r}=t;return e.map(t=>"every"===n[t.id].symbols.on?{id:t.id,symbols:t.values.filter(r)}:"first"===n[t.id].symbols.on?{id:t.id,symbols:[t.first]}:"last"===n[t.id].symbols.on?{id:t.id,symbols:[t.last]}:{id:t.id,symbols:[t.first,t.last]})}({lineData:dt.filter(t=>It(t.id)&&n[t.id].symbols.enabled),lines:n,isFinite:he("y",gd)}),gSymbols:r,lines:n,lineWidthMap:e,axes:t,cm:U,autocolor:$t,theme:A,scales:at,ariaXFormat:M});let o=0;i.each(t=>{if(t.y===ot[1]){const r=n[t.lineId],i=r.symbols.size*(lb[r.symbols.shape]||1)+("hollow"===r.symbols.style?e[r.width]:0);o=Math.max(o,i)}}),H.bufferTop=Math.max(6,o),Tt()}))}(),function(){const t=yt.append("div.d3l-line-labels");X.add((function(){const e=$d(b.y,l.get("lines",{}),A);let n=!1,r=!1;const i=Object.fromEntries(Object.entries(e).map(t=>{let[e,i]=t;const o=function(t){switch(!0){case!t.directLabel&&!t.labelLastValue:return"none";case t.directLabel&&!t.labelLastValue:return"seriesLabel";case!t.directLabel&&t.labelLastValue:return"valueLabel";case t.directLabel&&t.labelLastValue:return"combined";default:return"none"}}(i);return"none"!==o&&(n=!0),"combined"===o&&(r=!0),[e,o]}));if(C&&st!==(w?"left":"right")){t.html("");const e=B.outerWidth<T,o=+l.get("label-margin",0),a=l.get("label-colors"),s=l.get("connector-lines",!0),c=dt.filter(t=>It(t.id)&&"none"!==i[t.id]);!function(t){let{labelContainer:e,lineLabelData:n,hasSomeCombinedLabels:r,lineLabelTypes:i,highlight:o,vis:a,ttFormatY:s,isMobile:l,labelColors:c,textColor:u,cm:h,autocolor:f,postEvent:p}=t;const d=e.selectAll("div.d3l-line-label.connected-label.label").data(n).join("div.d3l-line-label.connected-label.label").classed("combined",r).classed("value-label",t=>!r&&"valueLabel"===i[t.id]).classed("series-label",t=>!r&&"seriesLabel"===i[t.id]).attr("column",he("id")).attr("aria-hidden",!0).on("mouseenter",(function(t){o.set(t.id)})).on("mouseleave",(function(){o.clear()}));d.filter(".value-label, .series-label").append("span"),d.filter(".combined").each((function(t){["series","value"].forEach(e=>{["combined","".concat(e,"Label")].includes(i[t.id])&&se(this).append("div").classed("".concat(e,"-label label"),!0).append("span")})})),a.chart().flags().allowEditing&&a.chart().inEditor()&&e.selectAll(".series-label span").attr("contenteditable",!0).attr("role","textbox").on("blur",(function(t){const e=ab(se(this).html());p("editor:patch:chart",{key:["metadata","visualize","lines",t.id,"title"],value:e}),se(this).html(e)})).on("keydown",(function(t){if("Enter"===Xt.key){const e=ab(se(this).html());p("editor:patch:chart",{key:["metadata","visualize","lines",t.id,"title"],value:e}),this.blur()}if("Escape"===Xt.key){const e=a.get(["lines",t.id,"title"],"");se(this).html(e),this.blur()}})),e.selectAll(".series-label, .value-label").each((function(t){const e=se(this).classed("series-label")?"seriesLabel":"valueLabel",n=l&&"seriesLabel"===e;se(this).classed("d3l-hidden",n).select("span").html(function(t,e,n,r){switch(r){case"seriesLabel":return e.title||t.dataset.column(e.column.name()).title();case"valueLabel":return n(e.last.y).replaceAll(" ","&nbsp;");default:return""}}(a,t,s,e))})),d.style("color",(function(t,e){return c?u(h(f(e,t.id))):null})).selectAll("div").style("color",(function(t,e){return c?u(h(f(e,t.id))):null}))}({labelContainer:t,lineLabelData:c,hasSomeCombinedLabels:r,lineLabelTypes:i,highlight:kt,vis:l,ttFormatY:ht,isMobile:e,labelColors:a,textColor:Ot,cm:U,autocolor:$t,postEvent:N}),function(t){let{labelContainer:e,lineLabelData:n,labelMargin:r,hasSomeDirectLabels:i,margin:o,marginsChanged:a,isMobile:s,chart:l,labelWidth:c,scales:u,preventLabelOverlap:h,size:f,rtl:p}=t;const d=e.selectAll("div.d3l-line-label.connected-label.label"),g=e.selectAll(".value-label");let m=0;r>0&&!s?m=r:(s?g:d).style("width","auto").selectAll("span").each((function(){m=Math.max(m,l.getElementBounds(this).width)})),c=0,d.style("width",m+"px").each((function(t){t.lh=l.getElementBounds(this).height})),c=Math.round(m+10),n.forEach((function(t){t.ly=u.y(t.last.y),t._direct=!1,t._show=!0})),h(n.filter(he("_show")),"ly",0,f.height,"lh"),d.style("display",(function(t){return t._show?"block":"none"})).filter(he("_show")).style("left",(function(t){return(t._direct?u.x(t.last.x)+5:p?-m:f.width)+"px"})).style("top",(function(t){return t.ly-5+"px"})),i?c!==o.directLabels&&(o.directLabels=c,a()):(o.directLabels=0,c=0,a())}({labelContainer:t,lineLabelData:c,labelMargin:o,hasSomeDirectLabels:n,margin:H,marginsChanged:Tt,isMobile:e,chart:m,labelWidth:0,scales:at,preventLabelOverlap:jt,size:B,rtl:w}),function(t){let{svgChart:e,lineLabelData:n,connectingLines:r,scales:i,rtl:o,size:a,cm:s,autocolor:l}=t;e.select("g.lbl-connect-lines").remove(),r&&e.append("g.lbl-connect-lines").selectAll("path").data(n.filter((function(t){var e=i.x(t.last.x)-(o?0:a.width),n=t.ly_d;return Math.sqrt(e*e+n*n)>10}))).enter().append("path").style("stroke",(function(t,e){return s(l(e,t.id))})).attr("d",(function(t){return"M"+[i.x(t.last.x),i.y(t.last.y)]+"L"+[o?3:a.width-3,t.ly]}))}({svgChart:xt,lineLabelData:c,connectingLines:s,scales:at,rtl:w,size:B,cm:U,autocolor:$t})}}))}(),function(t){const e=gt.select("rect.bg"),n=mt.append("g.tooltip").attr("aria-hidden",!0);let r,i,o,a,s;n.append("text.tooltip.bg"),n.append("text.tooltip.fg");const c=n.append("line").attr("y1",-13).attr("y2",-5).style("stroke-width",z?3:1);z||n.append("circle").attr("r",5);function u(t,e,n,r){t.innerHTML="";let i=e.trim().split(/<br *\/?>|\n/g);i=i.filter(t=>""!==t),se(t).tspans(i).attr("dy",(t,e)=>0===e&&n?0:r)}function h(){n.classed("show",!1),kt.clear()}X.add((function(){let e=l.get("x-grid-format","auto");"auto"===e&&(e="number"===b.x.type()?function(t){const e=Math.abs(t[1]-t[0]);return e<1?"0,0.00[0]":e<3?"0,0.0[0]":e<1e4?"0,0.[0]":e>1e6||Math.abs(t[0])>1e5||Math.abs(t[1])>1e5?"0,0.[0]a":"0,0"}(at.x.domain()):"date"===b.x.type()?function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";const n=Math.abs(t[1].getTime()-t[0].getTime());return"year"===e?n>5*fd?"YYYY~~'YY":n>3*fd?"YYYY":"YYYY|MMM":"quarter"===e?n>6*hd?"YYYY|[Q]Q":"YYYY [Q]Q|MMM":"week"===e?"YYYY|[W]wo":n<48e4?"LTS":n<ud?"LT":n<5*ud?"dddd|LT":n<3*hd?"MMMM|D":n<fd?"MMM|D":"YYYY|MMM|D"}(at.x.domain()):"");const u=l.get("tooltip-x-format",e);r="date"===b.x.type()?t=>t?p(t).format(u.replace(/\|/g," ")).split("~~")[0]:"":"number"===b.x.type()?t=>pd(f,t,{format:u,minusChar:S.minus,plusMinusChar:S.plusMinus,...I.yAxis}):t=>t;const h=Mh(A,"vis.d3-lines.labels.tooltip.fontSize",cd(A,"fontSize",12));s=n.selectAll("text"),n.select("text.tooltip.bg").style("stroke",A.colors.background),n.select("text.tooltip.fg").style("fill",E.tooltipText),c.style("stroke",E.fallback),n.select("circle").style("stroke",E.fallback),a=Math.round(1.1*h),i=H.t,s.selectAll("tspan").remove(),o=s.tspans(t?["","",""]:["",""],a)})),gt.on("mousemove",(function(){const f=$d(b.y,l.get("lines",{}),A);if(!o)return;if(!1===l.get("show-tooltips"))return;const p=m.getRelativeMousePosition(Xt,e.node());if(x(p[0],ft,10)&&x(p[1],pt,20)){let e=-1,m=9999999;if(dt[0].values.forEach((function(t,n){var r=Math.abs(at.x(t.x)-p[0]);r<m&&(e=n,m=r)})),e<0)return;const x=z&&l.get("stack-to-100");var d=dt.map((function(t,n){const r=dt.reduce((t,n)=>t+n.values[e].y,0),i=dw.utils.clone(t.values[e]);x&&(i.y=i.y/r*100,i.dy=i.dy/r*100);const o=z&&l.get("stack-areas",!0),a=p[1];return{i:n,d:t,item:i,dst:isNaN(i.y)||!It(t.id)?9999999:Math.abs(at.y(i.y*(o?.5:1)+i.dy)-a)}})).filter(t=>!Number.isNaN(t.dst)).sort(fe("dst"));if(d[0].dst<100){const l=w?p[0]/B.width>=.4:p[0]/B.width<.6;var y=dt[d[0].i].values[e];const h=x?d[0].item:dt[d[0].i].values[e];if(!It(y.col.name())||null===h.y||""===h.y)return;N("tooltip",{x:y.x,y:y.y,col:y.col.name()}),kt.set(y.col.name());var v=at.y(h.y+h.dy);if(o.style("text-anchor",l?"start":"end"),o.each((function(e,n){if(t){if(0===n){var i;const t=Du(g((null===(i=f[y.col.name()])||void 0===i?void 0:i.title)||y.col.title(),["br"]));return this.textContent=t,void(/<br *\/?>|\n/g.test(t)&&u(this,t,!0,a))}n--}const o=0===n?r(tt?g(b.x.val(y.x),["br"]):y.x):null===y.y?"0":ht(y.y);if(this.textContent=o,0===n&&tt&&/<br *\/?>|\n/g.test(o)){u(this,o,!t)}})),t){const t=Ot(U($t(y.columnIndex,y.col.name())));n.select("text.tooltip.fg tspan:first-child").style("fill",t)}const m=s.nodes()[0],k=Array.from(m.getElementsByTagName("tspan")).filter(t=>0===t.children.length).length;let _=p[1]>60;if(z){const t=(a+1)*(k-1),e=.5*(at.y(h.dy)+v)+t,n=Math.max(0,e-at.y.range()[0]);c.at({y1:at.y(h.dy)-v,y2:0}),s.translate([(l?10:-10)*(w?-1:1),.5*(at.y(h.dy)-v)-n])}else{const e=a*(k+1)+(_?2:5);!_&&v+e>at.y.range()[0]&&(_=!0),_&&v-e<at.y.range()[1]-i&&(_=!1),c.at(_?{y1:-a,y2:-5}:{y1:5,y2:a+3}),s.translate([l?-3:3,_?-k*a-(t?3:2):2*a+2])}n.translate([at.x(y.x),v]),n.classed("show",!0)}else h()}else h();function x(t,e,n){return n=n||0,t>=e[0]-n&&t<=e[1]+n}})).on("mouseleave",(function(){h()}))}(dt.length>1),"fixed"===l.chart().getHeightMode()&&l.chart().flags().allowEditing&&l.chart().inEditor()&&(s=function(t){let{element:e,scales:n,updateCallback:r,rerender:i,vis:o}=t,a=null;const s=o.target(),l=()=>Mh(o.theme(),"colors.background","#ffffff");let c=!1;const u=o.chartStore();u&&(c=!0);const h=new $b({target:e.node(),props:{outerContainer:s,chartStore:u,plotHeightMode:o.get("plotHeightMode","fixed"),plotSize:{width:n.x.range()[1],height:n.y.range()[0]},backgroundColor:l(),handleResize:t=>{a=t,i()},onResizeEnd:()=>{const t=()=>{a=null,r.remove(t)};r.add(t)}}});return r.add(()=>{const t=o.chartStore(),e={backgroundColor:l(),plotHeightMode:o.get("plotHeightMode","fixed"),plotSize:{width:n.x.range()[1],height:n.y.range()[0]}};!c&&t&&(e.chartStore=t,c=!0),h.$$set(e)}),{getHeight:()=>a}}({element:yt,scales:at,margin:H,vis:l,updateCallback:X,rerender:()=>e.context.vis.update(l)})),X.fire(!0),setTimeout(()=>{l.renderingComplete()},20),{update:function(t){const e=(l=t).size();B.outerWidth=e[0],B.width=B.outerWidth-H.l-H.r;const{height:n,outerHeight:r}=At(B.width);B.height=n,B.outerHeight=r,G=0,B.outerHeight<=0||B.outerWidth<=0||X.fire(),l.renderingComplete()},settings:function(){return j}};function Mt(t){return"date"===b.x.type()?Es(t):"number"===b.x.type()?gd(t):void 0!==t}function At(t){const e={height:0,outerHeight:0};if("fit"===l.chart().getHeightMode())e.outerHeight=l.size()[1],e.height=e.outerHeight-H.t-H.b;else if(s&&s.getHeight())e.height=s.getHeight(),e.outerHeight=e.height+H.t+H.b;else{const n=l.get("plotHeightMode","fixed");e.height="ratio"===n?t*l.get("plotHeightRatio",.6):l.get("plotHeightFixed",300),e.outerHeight=e.height+H.t+H.b}return e}function Tt(){if(G++>15)return;const t={...H,...B};H.b=H.gridBottom+H.annotationKeyMarginBottom+H.colorKeyMarginBottom,H.t=Math.max(H.colorKeyMarginTop+H.gridTop,H.bufferTop);const e=[H.xGridLeft,H.yGridLeft],n=[H.xGridRight,H.yGridRight];(w?e:n).push(H.directLabels),H.l=Math.max(...e),H.r=Math.max(...n),B.width=B.outerWidth-H.l-H.r;const{height:r,outerHeight:i}=At(B.width);B.height=r,B.outerHeight=i,uu(t,{...H,...B})||K()}function Et(){const t=$d(b.y,l.get("lines",{}),A),e=l.get("base-color",0),n={customColors:z?l.get("custom-colors",{}):Object.fromEntries(Object.entries(t).filter(t=>{let[,e]=t;return"color"in e}).map(t=>{let[e,{color:n}]=t;return[e,n]})),selectedColor:e,keys:l.keys().map(t=>g(t,[])),permute:!0};return l.get("variate-colors",!1)&&(n.positiveColor=!0,n.negativeColor=!0,n.neutralColor=!0),q={},function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Error("cant create getColor function without theme"),{selectedColor:e=0,customColors:n={},keys:r=[],permute:i,includeBaseColor:o=!0,lightnessRange:a=[30,90],positiveColor:s=!1,negativeColor:l=!1,negativeColorValue:c=null,neutralColor:u=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const h=t.colors.palette,f=Bu(e,h),p="number"==typeof e?e:h.indexOf(e);c=Bu(c,h);const d=r.length-Object.keys(n).filter(t=>""!==n[t].toString()&&r.includes(t)).length,g=[];if(n&&Object.keys(n).length){const t={};Object.keys(n).forEach(e=>{String(n[e]).length&&(t[e]=isNaN(n[e])?n[e]:h[n[e]%h.length])}),Object.keys(t).length&&g.push(Iu(t))}var m;(s||l||u)&&g.push(Pu(s?t.colors.positive:f,l?null!==(m=c)&&void 0!==m?m:t.colors.negative:f,u?t.colors.neutral:s?t.colors.positive:f));const{mode:y}=t.colors;if(y&&d>0&&(y.rotateLimit>=d&&p>-1?g.push(Fu(h,p)):y.shades&&y.shades[f]&&r.length>1&&g.push(Uu(y.shades[f],d))),d>0){i=void 0===i?d>4:i,a=d<=3?[30,60]:a;let t=ju(f,d,o,a);i&&(t=Ru(t)),g.push(Hu(t))}const v=(t,e,n)=>{let r=null;return g.find(i=>(r=i({key:t,i:e,value:n}),null!=r)),null==r&&(r=f),r};return v}(A,n)}function $t(t,e){const n=g(e,[]);return q[n]||(q[n]=W(n,t,function(t){var e="equal";return l.dataset.eachColumn(n=>{n.name()===t&&(e=n.values()[n.values().length-1]-n.values()[0])}),e}(e))),q[n]}function Ot(t){let e=1;t.match(/^#[0-9a-f]{8}$/i)&&(e=parseInt(t.slice(-2),16)/255,t=t.slice(0,-2));const n=Y(t),r=Y(Mh(A,"colors.background")).l>50;return n.l=r?Math.min(n.l*e,50):Math.max(n.l*e,65),n}function St(t){const e=A.colors.palette;return pu(t)?e[t%e.length]:t}function Lt(t){const e="x"===t?b.x:b.y[0];if(!e)return[];const n=e.type();return function(t,e,n,r){const{dayjs:o}=r,a=t.split(","),s=dw.column("",a,e);return"date"===e&&"MMM"===s.type(!0).format()?{ticks:function(t,e){const n=i(e[0].getFullYear(),e[1].getFullYear()+1);return n.map(e=>t.map(t=>o("1 ".concat(t," ").concat(e)).toDate())).flat().filter(t=>t>=e[0]&&t<=e[1])}(a,n),autoComputed:!0}:{ticks:s.values().filter(t=>Td(t,e)),autoComputed:!1}}(l.get("custom-ticks-".concat(t),""),n,"x"===t?Nt():Ct(),{dayjs:p})}function Nt(){if(tt)return[0,b.x.length-1];let t=r(b.x.values().filter((t,e)=>b.y.find(t=>Td(t.val(e),"number"))));const e=b.x.type(!0),n=l.get("custom-range-x",["",""]).map(String),i=dw.column("x",n,e.name()).values(),o=i.map(t=>Td(t,e.name()));return 2===o.filter(Boolean).length&&(Z=e.toNum(i[1])<e.toNum(i[0])),Z&&i.reverse(),t=t.map((t,e)=>o[e]?i[e]:t),nt?t:r(t.concat(et))}function Ct(){let t=ws(b.y.map((function(t){return t.values().filter((t,e)=>it[e])}))).filter(gd);if(z&&l.get("stack-areas",!0)){if(l.get("stack-to-100"))return[0,100];t=i(b.y[0].length).map((function(t){return function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o}(b.y.map((function(e){var n=e.val(t);return it[t]&&gd(n)?n:0})))}))}if(l.get("custom-range-y")){const e=l.get("custom-range-y").map(t=>gd(t)?parseFloat(t):null),n=null===e[0]^null===e[1],r=null!==e[0]&&null!==e[1];(n||r)&&(t=t.concat(e).filter((function(t){return n&&null===e[0]?t<=e[1]:n&&null===e[1]?t>=e[0]:t>=h(e)&&t<=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r}(e)}))),J=2===e.filter(t=>null!==t).length&&e[1]<e[0]}(z||function(t){let{vis:e,dataset:n}=t;return bd({vis:e,dataset:n}).filter(t=>xd(t)).length}({vis:l,dataset:R}))&&t.push(0);let e=r(t);const[n,o]=e;if(!l.get("custom-range-y",[])[0]&&!Q){const t=n<0&&o<0;(n>0&&o>0&&n/o<=.5||t&&o/n<=.5)&&(e=r([0,n,o]))}return Q&&0===e[0]&&(e[0]=.001),e}function zt(){const t=Y(Mh(A,"colors.background","#ffffff")).l,e=$d(b.y,l.get("lines",{}),A),n=b.y.filter(t=>t.values().filter(gd).length).map((function(n,r){let i=n.values().map((t,e)=>({v:t,_i:e})).filter((t,e)=>it[e]).map(t=>{let{v:e,_i:i}=t;return{lineId:n.name(),x:tt?i:b.x.val(i),y:e,dy:0,col:n,columnIndex:r}});if(!i.length)return!1;if(0===i.filter(he("y",gd)).length)return!1;tt||z||(i=i.sort(fe(he("x"))));let o=U($t(r,n.name())),a=1;"#"===o.substr(0,1)&&o.length>7&&(a=parseInt(o.substr(7,2),16)/255,o=o.substr(0,7));const s=Math.abs((t-Y(o).l)*a),l={id:n.name(),title:e[n.name()].title||n.title(),column:n,values:i,first:i.filter(he("y",gd))[0],last:du(i.filter(he("y",gd))),bgContrast:e[n.name()].bgStroke?100+s:s};if(Z){const t=l.last;l.last=l.first,l.first=t}return l.columnIndex=r,l})).filter(t=>t);return C?n.sort(fe("bgContrast")):n}function Dt(){const t=l.get("y-grid-labels","auto");return"inside"===t||"auto"===t&&B.outerWidth<=T}function jt(t,e,n,r,i){var o=[];t.forEach((function(t){o.push({node:t,y:t[e],dy:0,oy:t[e],h:i?t[i]:0})}));var a=0;!function t(){var e=!1;o.forEach((function(t,n){o.forEach((function(r,i){if(i>n){var o,a,s=t.y,l=r.y,c=5+.5*t.h+.5*r.h;Math.abs(s-l)<c&&(e=!0,o=.35*(Math.abs(s-l)-c),a=s<l,t.dy+=a?o:-o,r.dy-=a?o:-o)}}))})),e&&o.forEach((function(t){t.y=Math.min(Math.max(n,t.y+t.dy),r),t.dy=0})),e&&++a<10&&t()}(),o.forEach((function(t){t.node[e+"_d"]=t.y-t.oy,t.node[e]=t.y}))}function Rt(){return z?l.get("area-opacity",.5):1}function It(t){if(z)return!0;const e=$d(b.y,l.get("lines",{}),A),n="invisible"!==e[t].width,r=e[t].symbols.enabled;return n||r}}return{type:function(){return"lines"},render:function(t){const n=this,r=n.chart().get("metadata");r.visualize||(r.visualize={});const i=e.context||{};e.context=i;const a=n.chart(),s=n.theme();var c,h;u(n),o&&t.classList.remove(o),t.classList["rtl"===n.textDirection?"add":"remove"]("dir-rtl"),o=bb(a.emotion,s,"area"===this.type()),t.classList.add(o),i.vis&&!l&&(c=r,h=i.vis.settings(),c=dw.utils.clone(c),h=dw.utils.clone(h),ps([c,h],(function(t){delete t.visualize.lines,delete t.visualize["custom-colors"],delete t.visualize["base-color"],delete t.visualize["show-tooltips"],delete t.visualize["tooltip-x-format"],delete t.visualize["tooltip-number-format"],delete t.visualize["area-opacity"],delete t.visualize["sort-areas"],delete t.visualize["area-separator-color"],delete t.visualize["area-separator-lines"],delete t.visualize["show-color-key"],delete t.visualize["x-grid"],delete t.visualize["x-grid-format"],delete t.visualize["y-grid"],delete t.visualize["y-grid-subdivide"],delete t.visualize["y-grid-labels"],delete t.visualize["y-grid-format"],delete t.visualize["connector-lines"],delete t.visualize["label-colors"],delete t.visualize["label-margin"],delete t.visualize["value-labels"],delete t.visualize["custom-area-fills"],delete t.visualize.interpolation,delete t.visualize.plotHeightMode,delete t.visualize.plotHeightFixed,delete t.visualize.plotHeightRatio,delete t.publish})),uu(c,h))?i.vis.update(n):(i.vis=f(t,n),l=!1)},keys:function(){return this.axes(!0).y.map((function(t){return t.name()}))},reset:function(){},supportsSmartRendering:()=>!0}}),...dw.visualization.hasVisHash?["e0aac9ff","%%a85b0fe1%%".slice(2,-2)]:[])}();
//# sourceMappingURL=d3-lines.js.map
